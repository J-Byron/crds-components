var __makeTemplateObject=this&&this.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var __extends=this&&this.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var __awaiter=this&&this.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function a(e){try{u(n.next(e))}catch(e){s(e)}}function o(e){try{u(n["throw"](e))}catch(e){s(e)}}function u(e){e.done?r(e.value):i(e.value).then(a,o)}u((n=n.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(e){return function(t){return u([e,t])}}function u(a){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(s=a[0]&2?i["return"]:a[0]?i["throw"]||((s=i["return"])&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;if(i=0,s)a=[a[0]&2,s.value];switch(a[0]){case 0:case 1:s=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;i=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(s=r.trys,s=s.length>0&&s[s.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!s||a[1]>s[0]&&a[1]<s[3])){r.label=a[1];break}if(a[0]===6&&r.label<s[1]){r.label=s[1];s=a;break}if(s&&r.label<s[2]){r.label=s[2];r.ops.push(a);break}if(s[2])r.ops.pop();r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e];i=0}finally{n=s=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var __spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n};System.register(["./p-f77949ba.system.js","./p-0bd764e4.system.js"],(function(e){"use strict";var t,r,n,i,s,a;return{setters:[function(e){t=e.r;r=e.h;n=e.g},function(e){i=e.L;s=e.C;a=e.U}],execute:function(){var o=typeof Symbol==="function"&&typeof Symbol.for==="function"?Symbol.for("nodejs.util.inspect.custom"):undefined;function u(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){u=function e(t){return typeof t}}else{u=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return u(e)}var c=10;var f=2;function l(e){return h(e,[])}function h(e,t){switch(u(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":if(e===null){return"null"}return d(e,t);default:return String(e)}}function d(e,t){if(t.indexOf(e)!==-1){return"[Circular]"}var r=[].concat(t,[e]);var n=g(e);if(n!==undefined){var i=n.call(e);if(i!==e){return typeof i==="string"?i:h(i,r)}}else if(Array.isArray(e)){return v(e,r)}return p(e,r)}function p(e,t){var r=Object.keys(e);if(r.length===0){return"{}"}if(t.length>f){return"["+y(e)+"]"}var n=r.map((function(r){var n=h(e[r],t);return r+": "+n}));return"{ "+n.join(", ")+" }"}function v(e,t){if(e.length===0){return"[]"}if(t.length>f){return"[Array]"}var r=Math.min(c,e.length);var n=e.length-r;var i=[];for(var s=0;s<r;++s){i.push(h(e[s],t))}if(n===1){i.push("... 1 more item")}else if(n>1){i.push("... ".concat(n," more items"))}return"["+i.join(", ")+"]"}function g(e){var t=e[String(o)];if(typeof t==="function"){return t}if(typeof e.inspect==="function"){return e.inspect}}function y(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor==="function"){var r=e.constructor.name;if(typeof r==="string"&&r!==""){return r}}return t}function m(e,t){var r=Boolean(e);if(!r){throw new Error(t)}}function b(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:e.prototype.toString;e.prototype.toJSON=t;e.prototype.inspect=t;if(o){e.prototype[o]=t}}function w(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){w=function e(t){return typeof t}}else{w=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return w(e)}function S(e){return w(e)=="object"&&e!==null}function E(e,t){var r=/\r\n|[\n\r]/g;var n=1;var i=t+1;var s;while((s=r.exec(e.body))&&s.index<t){n+=1;i=t+1-(s.index+s[0].length)}return{line:n,column:i}}function x(e){return A(e.source,E(e.source,e.start))}function A(e,t){var r=e.locationOffset.column-1;var n=T(r)+e.body;var i=t.line-1;var s=e.locationOffset.line-1;var a=t.line+s;var o=t.line===1?r:0;var u=t.column+o;var c="".concat(e.name,":").concat(a,":").concat(u,"\n");var f=n.split(/\r\n|[\n\r]/g);var l=f[i];if(l.length>120){var h=Math.floor(u/80);var d=u%80;var p=[];for(var v=0;v<l.length;v+=80){p.push(l.slice(v,v+80))}return c+F([["".concat(a),p[0]]].concat(p.slice(1,h+1).map((function(e){return["",e]})),[[" ",T(d-1)+"^"],["",p[h+1]]]))}return c+F([["".concat(a-1),f[i-1]],["".concat(a),l],["",T(u-1)+"^"],["".concat(a+1),f[i+1]]])}function F(e){var t=e.filter((function(e){var t=e[1];return t!==undefined}));var r=Math.max.apply(Math,t.map((function(e){var t=e[0];return t.length})));return t.map((function(e){var t=e[0],n=e[1];return C(r,t)+" | "+n})).join("\n")}function T(e){return Array(e+1).join(" ")}function C(e,t){return T(e-t.length)+t}function k(e,t,r,n,i,s,a){var o=Array.isArray(t)?t.length!==0?t:undefined:t?[t]:undefined;var u=r;if(!u&&o){var c=o[0];u=c&&c.loc&&c.loc.source}var f=n;if(!f&&o){f=o.reduce((function(e,t){if(t.loc){e.push(t.loc.start)}return e}),[])}if(f&&f.length===0){f=undefined}var l;if(n&&r){l=n.map((function(e){return E(r,e)}))}else if(o){l=o.reduce((function(e,t){if(t.loc){e.push(E(t.loc.source,t.loc.start))}return e}),[])}var h=a;if(h==null&&s!=null){var d=s.extensions;if(S(d)){h=d}}Object.defineProperties(this,{message:{value:e,enumerable:true,writable:true},locations:{value:l||undefined,enumerable:Boolean(l)},path:{value:i||undefined,enumerable:Boolean(i)},nodes:{value:o||undefined},source:{value:u||undefined},positions:{value:f||undefined},originalError:{value:s},extensions:{value:h||undefined,enumerable:Boolean(h)}});if(s&&s.stack){Object.defineProperty(this,"stack",{value:s.stack,writable:true,configurable:true})}else if(Error.captureStackTrace){Error.captureStackTrace(this,k)}else{Object.defineProperty(this,"stack",{value:Error().stack,writable:true,configurable:true})}}k.prototype=Object.create(Error.prototype,{constructor:{value:k},name:{value:"GraphQLError"},toString:{value:function e(){return I(this)}}});function I(e){var t=e.message;if(e.nodes){for(var r=0,n=e.nodes;r<n.length;r++){var i=n[r];if(i.loc){t+="\n\n"+x(i.loc)}}}else if(e.source&&e.locations){for(var s=0,a=e.locations;s<a.length;s++){var o=a[s];t+="\n\n"+A(e.source,o)}}return t}function O(e,t,r){return new k("Syntax Error: ".concat(r),undefined,e,[t])}var R=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function D(e){if(typeof Symbol==="function"&&Symbol.toStringTag){Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function e(){return this.constructor.name}})}}var _=function e(t,r,n){this.body=t;this.name=r||"GraphQL request";this.locationOffset=n||{line:1,column:1};this.locationOffset.line>0||m(0,"line in locationOffset is 1-indexed and must be positive");this.locationOffset.column>0||m(0,"column in locationOffset is 1-indexed and must be positive")};D(_);function N(e){var t=e.split(/\r\n|[\n\r]/g);var r=P(t);if(r!==0){for(var n=1;n<t.length;n++){t[n]=t[n].slice(r)}}while(t.length>0&&B(t[0])){t.shift()}while(t.length>0&&B(t[t.length-1])){t.pop()}return t.join("\n")}function P(e){var t=null;for(var r=1;r<e.length;r++){var n=e[r];var i=j(n);if(i===n.length){continue}if(t===null||i<t){t=i;if(t===0){break}}}return t===null?0:t}function j(e){var t=0;while(t<e.length&&(e[t]===" "||e[t]==="\t")){t++}return t}function B(e){return j(e)===e.length}function L(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var n=e.indexOf("\n")===-1;var i=e[0]===" "||e[0]==="\t";var s=e[e.length-1]==='"';var a=!n||s||r;var o="";if(a&&!(n&&i)){o+="\n"+t}o+=t?e.replace(/\n/g,"\n"+t):e;if(a){o+="\n"}return'"""'+o.replace(/"""/g,'\\"""')+'"""'}var H=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function M(e,t){var r=new q(H.SOF,0,0,0,0,null);var n={source:e,options:t,lastToken:r,token:r,line:1,lineStart:0,advance:V,lookahead:U};return n}function V(){this.lastToken=this.token;var e=this.token=this.lookahead();return e}function U(){var e=this.token;if(e.kind!==H.EOF){do{e=e.next||(e.next=z(this,e))}while(e.kind===H.COMMENT)}return e}function q(e,t,r,n,i,s,a){this.kind=e;this.start=t;this.end=r;this.line=n;this.column=i;this.value=a;this.prev=s;this.next=null}b(q,(function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}));function K(e){return isNaN(e)?H.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function z(e,t){var r=e.source;var n=r.body;var i=n.length;var s=W(n,t.end,e);var a=e.line;var o=1+s-e.lineStart;if(s>=i){return new q(H.EOF,i,i,a,o,t)}var u=n.charCodeAt(s);switch(u){case 33:return new q(H.BANG,s,s+1,a,o,t);case 35:return Y(r,s,a,o,t);case 36:return new q(H.DOLLAR,s,s+1,a,o,t);case 38:return new q(H.AMP,s,s+1,a,o,t);case 40:return new q(H.PAREN_L,s,s+1,a,o,t);case 41:return new q(H.PAREN_R,s,s+1,a,o,t);case 46:if(n.charCodeAt(s+1)===46&&n.charCodeAt(s+2)===46){return new q(H.SPREAD,s,s+3,a,o,t)}break;case 58:return new q(H.COLON,s,s+1,a,o,t);case 61:return new q(H.EQUALS,s,s+1,a,o,t);case 64:return new q(H.AT,s,s+1,a,o,t);case 91:return new q(H.BRACKET_L,s,s+1,a,o,t);case 93:return new q(H.BRACKET_R,s,s+1,a,o,t);case 123:return new q(H.BRACE_L,s,s+1,a,o,t);case 124:return new q(H.PIPE,s,s+1,a,o,t);case 125:return new q(H.BRACE_R,s,s+1,a,o,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return te(r,s,a,o,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return G(r,s,u,a,o,t);case 34:if(n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34){return X(r,s,a,o,t,e)}return $(r,s,a,o,t)}throw O(r,s,Q(u))}function Q(e){if(e<32&&e!==9&&e!==10&&e!==13){return"Cannot contain the invalid character ".concat(K(e),".")}if(e===39){return"Unexpected single quote character ('), did you mean to use a double quote (\")?"}return"Cannot parse the unexpected character ".concat(K(e),".")}function W(e,t,r){var n=e.length;var i=t;while(i<n){var s=e.charCodeAt(i);if(s===9||s===32||s===44||s===65279){++i}else if(s===10){++i;++r.line;r.lineStart=i}else if(s===13){if(e.charCodeAt(i+1)===10){i+=2}else{++i}++r.line;r.lineStart=i}else{break}}return i}function Y(e,t,r,n,i){var s=e.body;var a;var o=t;do{a=s.charCodeAt(++o)}while(!isNaN(a)&&(a>31||a===9));return new q(H.COMMENT,t,o,r,n,i,s.slice(t+1,o))}function G(e,t,r,n,i,s){var a=e.body;var o=r;var u=t;var c=false;if(o===45){o=a.charCodeAt(++u)}if(o===48){o=a.charCodeAt(++u);if(o>=48&&o<=57){throw O(e,u,"Invalid number, unexpected digit after 0: ".concat(K(o),"."))}}else{u=J(e,u,o);o=a.charCodeAt(u)}if(o===46){c=true;o=a.charCodeAt(++u);u=J(e,u,o);o=a.charCodeAt(u)}if(o===69||o===101){c=true;o=a.charCodeAt(++u);if(o===43||o===45){o=a.charCodeAt(++u)}u=J(e,u,o)}return new q(c?H.FLOAT:H.INT,t,u,n,i,s,a.slice(t,u))}function J(e,t,r){var n=e.body;var i=t;var s=r;if(s>=48&&s<=57){do{s=n.charCodeAt(++i)}while(s>=48&&s<=57);return i}throw O(e,i,"Invalid number, expected digit but got: ".concat(K(s),"."))}function $(e,t,r,n,i){var s=e.body;var a=t+1;var o=a;var u=0;var c="";while(a<s.length&&!isNaN(u=s.charCodeAt(a))&&u!==10&&u!==13){if(u===34){c+=s.slice(o,a);return new q(H.STRING,t,a+1,r,n,i,c)}if(u<32&&u!==9){throw O(e,a,"Invalid character within String: ".concat(K(u),"."))}++a;if(u===92){c+=s.slice(o,a-1);u=s.charCodeAt(a);switch(u){case 34:c+='"';break;case 47:c+="/";break;case 92:c+="\\";break;case 98:c+="\b";break;case 102:c+="\f";break;case 110:c+="\n";break;case 114:c+="\r";break;case 116:c+="\t";break;case 117:{var f=Z(s.charCodeAt(a+1),s.charCodeAt(a+2),s.charCodeAt(a+3),s.charCodeAt(a+4));if(f<0){var l=s.slice(a+1,a+5);throw O(e,a,"Invalid character escape sequence: \\u".concat(l,"."))}c+=String.fromCharCode(f);a+=4;break}default:throw O(e,a,"Invalid character escape sequence: \\".concat(String.fromCharCode(u),"."))}++a;o=a}}throw O(e,a,"Unterminated string.")}function X(e,t,r,n,i,s){var a=e.body;var o=t+3;var u=o;var c=0;var f="";while(o<a.length&&!isNaN(c=a.charCodeAt(o))){if(c===34&&a.charCodeAt(o+1)===34&&a.charCodeAt(o+2)===34){f+=a.slice(u,o);return new q(H.BLOCK_STRING,t,o+3,r,n,i,N(f))}if(c<32&&c!==9&&c!==10&&c!==13){throw O(e,o,"Invalid character within String: ".concat(K(c),"."))}if(c===10){++o;++s.line;s.lineStart=o}else if(c===13){if(a.charCodeAt(o+1)===10){o+=2}else{++o}++s.line;s.lineStart=o}else if(c===92&&a.charCodeAt(o+1)===34&&a.charCodeAt(o+2)===34&&a.charCodeAt(o+3)===34){f+=a.slice(u,o)+'"""';o+=4;u=o}else{++o}}throw O(e,o,"Unterminated string.")}function Z(e,t,r,n){return ee(e)<<12|ee(t)<<8|ee(r)<<4|ee(n)}function ee(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function te(e,t,r,n,i){var s=e.body;var a=s.length;var o=t+1;var u=0;while(o!==a&&!isNaN(u=s.charCodeAt(o))&&(u===95||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122)){++o}return new q(H.NAME,t,o,r,n,i,s.slice(t,o))}var re=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function ne(e,t){var r=new ae(e,t);return r.parseDocument()}function ie(e,t){var r=new ae(e,t);r.expectToken(H.SOF);var n=r.parseValueLiteral(false);r.expectToken(H.EOF);return n}function se(e,t){var r=new ae(e,t);r.expectToken(H.SOF);var n=r.parseTypeReference();r.expectToken(H.EOF);return n}var ae=function(){function e(e,t){var r=typeof e==="string"?new _(e):e;r instanceof _||m(0,"Must provide Source. Received: ".concat(l(r)));this._lexer=M(r);this._options=t||{}}var t=e.prototype;t.parseName=function e(){var t=this.expectToken(H.NAME);return{kind:R.NAME,value:t.value,loc:this.loc(t)}};t.parseDocument=function e(){var t=this._lexer.token;return{kind:R.DOCUMENT,definitions:this.many(H.SOF,this.parseDefinition,H.EOF),loc:this.loc(t)}};t.parseDefinition=function e(){if(this.peek(H.NAME)){switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}}else if(this.peek(H.BRACE_L)){return this.parseOperationDefinition()}else if(this.peekDescription()){return this.parseTypeSystemDefinition()}throw this.unexpected()};t.parseOperationDefinition=function e(){var t=this._lexer.token;if(this.peek(H.BRACE_L)){return{kind:R.OPERATION_DEFINITION,operation:"query",name:undefined,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(t)}}var r=this.parseOperationType();var n;if(this.peek(H.NAME)){n=this.parseName()}return{kind:R.OPERATION_DEFINITION,operation:r,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(false),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}};t.parseOperationType=function e(){var t=this.expectToken(H.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(t)};t.parseVariableDefinitions=function e(){return this.optionalMany(H.PAREN_L,this.parseVariableDefinition,H.PAREN_R)};t.parseVariableDefinition=function e(){var t=this._lexer.token;return{kind:R.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(H.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(H.EQUALS)?this.parseValueLiteral(true):undefined,directives:this.parseDirectives(true),loc:this.loc(t)}};t.parseVariable=function e(){var t=this._lexer.token;this.expectToken(H.DOLLAR);return{kind:R.VARIABLE,name:this.parseName(),loc:this.loc(t)}};t.parseSelectionSet=function e(){var t=this._lexer.token;return{kind:R.SELECTION_SET,selections:this.many(H.BRACE_L,this.parseSelection,H.BRACE_R),loc:this.loc(t)}};t.parseSelection=function e(){return this.peek(H.SPREAD)?this.parseFragment():this.parseField()};t.parseField=function e(){var t=this._lexer.token;var r=this.parseName();var n;var i;if(this.expectOptionalToken(H.COLON)){n=r;i=this.parseName()}else{i=r}return{kind:R.FIELD,alias:n,name:i,arguments:this.parseArguments(false),directives:this.parseDirectives(false),selectionSet:this.peek(H.BRACE_L)?this.parseSelectionSet():undefined,loc:this.loc(t)}};t.parseArguments=function e(t){var r=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(H.PAREN_L,r,H.PAREN_R)};t.parseArgument=function e(){var t=this._lexer.token;var r=this.parseName();this.expectToken(H.COLON);return{kind:R.ARGUMENT,name:r,value:this.parseValueLiteral(false),loc:this.loc(t)}};t.parseConstArgument=function e(){var t=this._lexer.token;return{kind:R.ARGUMENT,name:this.parseName(),value:(this.expectToken(H.COLON),this.parseValueLiteral(true)),loc:this.loc(t)}};t.parseFragment=function e(){var t=this._lexer.token;this.expectToken(H.SPREAD);var r=this.expectOptionalKeyword("on");if(!r&&this.peek(H.NAME)){return{kind:R.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(false),loc:this.loc(t)}}return{kind:R.INLINE_FRAGMENT,typeCondition:r?this.parseNamedType():undefined,directives:this.parseDirectives(false),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}};t.parseFragmentDefinition=function e(){var t=this._lexer.token;this.expectKeyword("fragment");if(this._options.experimentalFragmentVariables){return{kind:R.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(false),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}}return{kind:R.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(false),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}};t.parseFragmentName=function e(){if(this._lexer.token.value==="on"){throw this.unexpected()}return this.parseName()};t.parseValueLiteral=function e(t){var r=this._lexer.token;switch(r.kind){case H.BRACKET_L:return this.parseList(t);case H.BRACE_L:return this.parseObject(t);case H.INT:this._lexer.advance();return{kind:R.INT,value:r.value,loc:this.loc(r)};case H.FLOAT:this._lexer.advance();return{kind:R.FLOAT,value:r.value,loc:this.loc(r)};case H.STRING:case H.BLOCK_STRING:return this.parseStringLiteral();case H.NAME:if(r.value==="true"||r.value==="false"){this._lexer.advance();return{kind:R.BOOLEAN,value:r.value==="true",loc:this.loc(r)}}else if(r.value==="null"){this._lexer.advance();return{kind:R.NULL,loc:this.loc(r)}}this._lexer.advance();return{kind:R.ENUM,value:r.value,loc:this.loc(r)};case H.DOLLAR:if(!t){return this.parseVariable()}break}throw this.unexpected()};t.parseStringLiteral=function e(){var t=this._lexer.token;this._lexer.advance();return{kind:R.STRING,value:t.value,block:t.kind===H.BLOCK_STRING,loc:this.loc(t)}};t.parseList=function e(t){var r=this;var n=this._lexer.token;var i=function e(){return r.parseValueLiteral(t)};return{kind:R.LIST,values:this.any(H.BRACKET_L,i,H.BRACKET_R),loc:this.loc(n)}};t.parseObject=function e(t){var r=this;var n=this._lexer.token;var i=function e(){return r.parseObjectField(t)};return{kind:R.OBJECT,fields:this.any(H.BRACE_L,i,H.BRACE_R),loc:this.loc(n)}};t.parseObjectField=function e(t){var r=this._lexer.token;var n=this.parseName();this.expectToken(H.COLON);return{kind:R.OBJECT_FIELD,name:n,value:this.parseValueLiteral(t),loc:this.loc(r)}};t.parseDirectives=function e(t){var r=[];while(this.peek(H.AT)){r.push(this.parseDirective(t))}return r};t.parseDirective=function e(t){var r=this._lexer.token;this.expectToken(H.AT);return{kind:R.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t),loc:this.loc(r)}};t.parseTypeReference=function e(){var t=this._lexer.token;var r;if(this.expectOptionalToken(H.BRACKET_L)){r=this.parseTypeReference();this.expectToken(H.BRACKET_R);r={kind:R.LIST_TYPE,type:r,loc:this.loc(t)}}else{r=this.parseNamedType()}if(this.expectOptionalToken(H.BANG)){return{kind:R.NON_NULL_TYPE,type:r,loc:this.loc(t)}}return r};t.parseNamedType=function e(){var t=this._lexer.token;return{kind:R.NAMED_TYPE,name:this.parseName(),loc:this.loc(t)}};t.parseTypeSystemDefinition=function e(){var t=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(t.kind===H.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}}throw this.unexpected(t)};t.peekDescription=function e(){return this.peek(H.STRING)||this.peek(H.BLOCK_STRING)};t.parseDescription=function e(){if(this.peekDescription()){return this.parseStringLiteral()}};t.parseSchemaDefinition=function e(){var t=this._lexer.token;this.expectKeyword("schema");var r=this.parseDirectives(true);var n=this.many(H.BRACE_L,this.parseOperationTypeDefinition,H.BRACE_R);return{kind:R.SCHEMA_DEFINITION,directives:r,operationTypes:n,loc:this.loc(t)}};t.parseOperationTypeDefinition=function e(){var t=this._lexer.token;var r=this.parseOperationType();this.expectToken(H.COLON);var n=this.parseNamedType();return{kind:R.OPERATION_TYPE_DEFINITION,operation:r,type:n,loc:this.loc(t)}};t.parseScalarTypeDefinition=function e(){var t=this._lexer.token;var r=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName();var i=this.parseDirectives(true);return{kind:R.SCALAR_TYPE_DEFINITION,description:r,name:n,directives:i,loc:this.loc(t)}};t.parseObjectTypeDefinition=function e(){var t=this._lexer.token;var r=this.parseDescription();this.expectKeyword("type");var n=this.parseName();var i=this.parseImplementsInterfaces();var s=this.parseDirectives(true);var a=this.parseFieldsDefinition();return{kind:R.OBJECT_TYPE_DEFINITION,description:r,name:n,interfaces:i,directives:s,fields:a,loc:this.loc(t)}};t.parseImplementsInterfaces=function e(){var t=[];if(this.expectOptionalKeyword("implements")){this.expectOptionalToken(H.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(H.AMP)||this._options.allowLegacySDLImplementsInterfaces&&this.peek(H.NAME))}return t};t.parseFieldsDefinition=function e(){if(this._options.allowLegacySDLEmptyFields&&this.peek(H.BRACE_L)&&this._lexer.lookahead().kind===H.BRACE_R){this._lexer.advance();this._lexer.advance();return[]}return this.optionalMany(H.BRACE_L,this.parseFieldDefinition,H.BRACE_R)};t.parseFieldDefinition=function e(){var t=this._lexer.token;var r=this.parseDescription();var n=this.parseName();var i=this.parseArgumentDefs();this.expectToken(H.COLON);var s=this.parseTypeReference();var a=this.parseDirectives(true);return{kind:R.FIELD_DEFINITION,description:r,name:n,arguments:i,type:s,directives:a,loc:this.loc(t)}};t.parseArgumentDefs=function e(){return this.optionalMany(H.PAREN_L,this.parseInputValueDef,H.PAREN_R)};t.parseInputValueDef=function e(){var t=this._lexer.token;var r=this.parseDescription();var n=this.parseName();this.expectToken(H.COLON);var i=this.parseTypeReference();var s;if(this.expectOptionalToken(H.EQUALS)){s=this.parseValueLiteral(true)}var a=this.parseDirectives(true);return{kind:R.INPUT_VALUE_DEFINITION,description:r,name:n,type:i,defaultValue:s,directives:a,loc:this.loc(t)}};t.parseInterfaceTypeDefinition=function e(){var t=this._lexer.token;var r=this.parseDescription();this.expectKeyword("interface");var n=this.parseName();var i=this.parseDirectives(true);var s=this.parseFieldsDefinition();return{kind:R.INTERFACE_TYPE_DEFINITION,description:r,name:n,directives:i,fields:s,loc:this.loc(t)}};t.parseUnionTypeDefinition=function e(){var t=this._lexer.token;var r=this.parseDescription();this.expectKeyword("union");var n=this.parseName();var i=this.parseDirectives(true);var s=this.parseUnionMemberTypes();return{kind:R.UNION_TYPE_DEFINITION,description:r,name:n,directives:i,types:s,loc:this.loc(t)}};t.parseUnionMemberTypes=function e(){var t=[];if(this.expectOptionalToken(H.EQUALS)){this.expectOptionalToken(H.PIPE);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(H.PIPE))}return t};t.parseEnumTypeDefinition=function e(){var t=this._lexer.token;var r=this.parseDescription();this.expectKeyword("enum");var n=this.parseName();var i=this.parseDirectives(true);var s=this.parseEnumValuesDefinition();return{kind:R.ENUM_TYPE_DEFINITION,description:r,name:n,directives:i,values:s,loc:this.loc(t)}};t.parseEnumValuesDefinition=function e(){return this.optionalMany(H.BRACE_L,this.parseEnumValueDefinition,H.BRACE_R)};t.parseEnumValueDefinition=function e(){var t=this._lexer.token;var r=this.parseDescription();var n=this.parseName();var i=this.parseDirectives(true);return{kind:R.ENUM_VALUE_DEFINITION,description:r,name:n,directives:i,loc:this.loc(t)}};t.parseInputObjectTypeDefinition=function e(){var t=this._lexer.token;var r=this.parseDescription();this.expectKeyword("input");var n=this.parseName();var i=this.parseDirectives(true);var s=this.parseInputFieldsDefinition();return{kind:R.INPUT_OBJECT_TYPE_DEFINITION,description:r,name:n,directives:i,fields:s,loc:this.loc(t)}};t.parseInputFieldsDefinition=function e(){return this.optionalMany(H.BRACE_L,this.parseInputValueDef,H.BRACE_R)};t.parseTypeSystemExtension=function e(){var t=this._lexer.lookahead();if(t.kind===H.NAME){switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}}throw this.unexpected(t)};t.parseSchemaExtension=function e(){var t=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("schema");var r=this.parseDirectives(true);var n=this.optionalMany(H.BRACE_L,this.parseOperationTypeDefinition,H.BRACE_R);if(r.length===0&&n.length===0){throw this.unexpected()}return{kind:R.SCHEMA_EXTENSION,directives:r,operationTypes:n,loc:this.loc(t)}};t.parseScalarTypeExtension=function e(){var t=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("scalar");var r=this.parseName();var n=this.parseDirectives(true);if(n.length===0){throw this.unexpected()}return{kind:R.SCALAR_TYPE_EXTENSION,name:r,directives:n,loc:this.loc(t)}};t.parseObjectTypeExtension=function e(){var t=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("type");var r=this.parseName();var n=this.parseImplementsInterfaces();var i=this.parseDirectives(true);var s=this.parseFieldsDefinition();if(n.length===0&&i.length===0&&s.length===0){throw this.unexpected()}return{kind:R.OBJECT_TYPE_EXTENSION,name:r,interfaces:n,directives:i,fields:s,loc:this.loc(t)}};t.parseInterfaceTypeExtension=function e(){var t=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("interface");var r=this.parseName();var n=this.parseDirectives(true);var i=this.parseFieldsDefinition();if(n.length===0&&i.length===0){throw this.unexpected()}return{kind:R.INTERFACE_TYPE_EXTENSION,name:r,directives:n,fields:i,loc:this.loc(t)}};t.parseUnionTypeExtension=function e(){var t=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("union");var r=this.parseName();var n=this.parseDirectives(true);var i=this.parseUnionMemberTypes();if(n.length===0&&i.length===0){throw this.unexpected()}return{kind:R.UNION_TYPE_EXTENSION,name:r,directives:n,types:i,loc:this.loc(t)}};t.parseEnumTypeExtension=function e(){var t=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("enum");var r=this.parseName();var n=this.parseDirectives(true);var i=this.parseEnumValuesDefinition();if(n.length===0&&i.length===0){throw this.unexpected()}return{kind:R.ENUM_TYPE_EXTENSION,name:r,directives:n,values:i,loc:this.loc(t)}};t.parseInputObjectTypeExtension=function e(){var t=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("input");var r=this.parseName();var n=this.parseDirectives(true);var i=this.parseInputFieldsDefinition();if(n.length===0&&i.length===0){throw this.unexpected()}return{kind:R.INPUT_OBJECT_TYPE_EXTENSION,name:r,directives:n,fields:i,loc:this.loc(t)}};t.parseDirectiveDefinition=function e(){var t=this._lexer.token;var r=this.parseDescription();this.expectKeyword("directive");this.expectToken(H.AT);var n=this.parseName();var i=this.parseArgumentDefs();var s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var a=this.parseDirectiveLocations();return{kind:R.DIRECTIVE_DEFINITION,description:r,name:n,arguments:i,repeatable:s,locations:a,loc:this.loc(t)}};t.parseDirectiveLocations=function e(){this.expectOptionalToken(H.PIPE);var t=[];do{t.push(this.parseDirectiveLocation())}while(this.expectOptionalToken(H.PIPE));return t};t.parseDirectiveLocation=function e(){var t=this._lexer.token;var r=this.parseName();if(re[r.value]!==undefined){return r}throw this.unexpected(t)};t.loc=function e(t){if(!this._options.noLocation){return new oe(t,this._lexer.lastToken,this._lexer.source)}};t.peek=function e(t){return this._lexer.token.kind===t};t.expectToken=function e(t){var r=this._lexer.token;if(r.kind===t){this._lexer.advance();return r}throw O(this._lexer.source,r.start,"Expected ".concat(t,", found ").concat(ue(r)))};t.expectOptionalToken=function e(t){var r=this._lexer.token;if(r.kind===t){this._lexer.advance();return r}return undefined};t.expectKeyword=function e(t){var r=this._lexer.token;if(r.kind===H.NAME&&r.value===t){this._lexer.advance()}else{throw O(this._lexer.source,r.start,'Expected "'.concat(t,'", found ').concat(ue(r)))}};t.expectOptionalKeyword=function e(t){var r=this._lexer.token;if(r.kind===H.NAME&&r.value===t){this._lexer.advance();return true}return false};t.unexpected=function e(t){var r=t||this._lexer.token;return O(this._lexer.source,r.start,"Unexpected ".concat(ue(r)))};t.any=function e(t,r,n){this.expectToken(t);var i=[];while(!this.expectOptionalToken(n)){i.push(r.call(this))}return i};t.optionalMany=function e(t,r,n){if(this.expectOptionalToken(t)){var i=[];do{i.push(r.call(this))}while(!this.expectOptionalToken(n));return i}return[]};t.many=function e(t,r,n){this.expectToken(t);var i=[];do{i.push(r.call(this))}while(!this.expectOptionalToken(n));return i};return e}();function oe(e,t,r){this.start=e.start;this.end=t.end;this.startToken=e;this.endToken=t;this.source=r}b(oe,(function(){return{start:this.start,end:this.end}}));function ue(e){var t=e.value;return t?"".concat(e.kind,' "').concat(t,'"'):e.kind}var ce=Object.freeze({parse:ne,parseValue:ie,parseType:se});var fe=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function le(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function he(e,t){return t={exports:{}},e(t,t.exports),t.exports}function de(e){return e&&e["default"]||e}var pe=de(ce);var ve=pe.parse;function ge(e){return e.replace(/[\s,]+/g," ").trim()}var ye={};var me={};function be(e){return ge(e.source.body.substring(e.start,e.end))}function we(){ye={};me={}}var Se=true;function Ee(e){var t={};var r=[];for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.kind==="FragmentDefinition"){var s=i.name.value;var a=be(i.loc);if(me.hasOwnProperty(s)&&!me[s][a]){if(Se){console.warn("Warning: fragment with name "+s+" already exists.\n"+"graphql-tag enforces all fragment names across your application to be unique; read more about\n"+"this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names")}me[s][a]=true}else if(!me.hasOwnProperty(s)){me[s]={};me[s][a]=true}if(!t[a]){t[a]=true;r.push(i)}}else{r.push(i)}}e.definitions=r;return e}function xe(){Se=false}function Ae(e,t){var r=Object.prototype.toString.call(e);if(r==="[object Array]"){return e.map((function(e){return Ae(e,t)}))}if(r!=="[object Object]"){throw new Error("Unexpected input.")}if(t&&e.loc){delete e.loc}if(e.loc){delete e.loc.startToken;delete e.loc.endToken}var n=Object.keys(e);var i;var s;var a;for(i in n){if(n.hasOwnProperty(i)){s=e[n[i]];a=Object.prototype.toString.call(s);if(a==="[object Object]"||a==="[object Array]"){e[n[i]]=Ae(s,true)}}}return e}var Fe=false;function Te(e){var t=ge(e);if(ye[t]){return ye[t]}var r=ve(e,{experimentalFragmentVariables:Fe});if(!r||r.kind!=="Document"){throw new Error("Not a valid GraphQL document.")}r=Ee(r);r=Ae(r,false);ye[t]=r;return r}function Ce(){Fe=true}function ke(){Fe=false}function Ie(){var e=Array.prototype.slice.call(arguments);var t=e[0];var r=typeof t==="string"?t:t[0];for(var n=1;n<e.length;n++){if(e[n]&&e[n].kind&&e[n].kind==="Document"){r+=e[n].loc.source.body}else{r+=e[n]}r+=t[n]}return Te(r)}Ie.default=Ie;Ie.resetCaches=we;Ie.disableFragmentWarnings=xe;Ie.enableExperimentalFragmentVariables=Ce;Ie.disableExperimentalFragmentVariables=ke;var Oe=Ie;var Re=Oe(__makeTemplateObject(["\n  {\n    user {\n      firstName\n      nickName\n    }\n  }\n"],["\n  {\n    user {\n      firstName\n      nickName\n    }\n  }\n"]));var De=typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{};function _e(){throw new Error("setTimeout has not been defined")}function Ne(){throw new Error("clearTimeout has not been defined")}var Pe=_e;var je=Ne;if(typeof De.setTimeout==="function"){Pe=setTimeout}if(typeof De.clearTimeout==="function"){je=clearTimeout}function Be(e){if(Pe===setTimeout){return setTimeout(e,0)}if((Pe===_e||!Pe)&&setTimeout){Pe=setTimeout;return setTimeout(e,0)}try{return Pe(e,0)}catch(t){try{return Pe.call(null,e,0)}catch(t){return Pe.call(this,e,0)}}}function Le(e){if(je===clearTimeout){return clearTimeout(e)}if((je===Ne||!je)&&clearTimeout){je=clearTimeout;return clearTimeout(e)}try{return je(e)}catch(t){try{return je.call(null,e)}catch(t){return je.call(this,e)}}}var He=[];var Me=false;var Ve;var Ue=-1;function qe(){if(!Me||!Ve){return}Me=false;if(Ve.length){He=Ve.concat(He)}else{Ue=-1}if(He.length){Ke()}}function Ke(){if(Me){return}var e=Be(qe);Me=true;var t=He.length;while(t){Ve=He;He=[];while(++Ue<t){if(Ve){Ve[Ue].run()}}Ue=-1;t=He.length}Ve=null;Me=false;Le(e)}function ze(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}He.push(new Qe(e,t));if(He.length===1&&!Me){Be(Ke)}}function Qe(e,t){this.fun=e;this.array=t}Qe.prototype.run=function(){this.fun.apply(null,this.array)};var We="browser";var Ye="browser";var Ge=true;var Je={};var $e=[];var Xe="";var Ze={};var et={};var tt={};function rt(){}var nt=rt;var it=rt;var st=rt;var at=rt;var ot=rt;var ut=rt;var ct=rt;function ft(e){throw new Error("process.binding is not supported")}function lt(){return"/"}function ht(e){throw new Error("process.chdir is not supported")}function dt(){return 0}var pt=De.performance||{};var vt=pt.now||pt.mozNow||pt.msNow||pt.oNow||pt.webkitNow||function(){return(new Date).getTime()};function gt(e){var t=vt.call(pt)*.001;var r=Math.floor(t);var n=Math.floor(t%1*1e9);if(e){r=r-e[0];n=n-e[1];if(n<0){r--;n+=1e9}}return[r,n]}var yt=new Date;function mt(){var e=new Date;var t=e-yt;return t/1e3}var bt={nextTick:ze,title:We,browser:Ge,env:Je,argv:$e,version:Xe,versions:Ze,on:nt,addListener:it,once:st,off:at,removeListener:ot,removeAllListeners:ut,emit:ct,binding:ft,cwd:lt,chdir:ht,umask:dt,hrtime:gt,platform:Ye,release:et,config:tt,uptime:mt};var wt=function(e,t){wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return wt(e,t)};function St(e,t){wt(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Et=function(){Et=Object.assign||function e(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s))t[s]=r[s]}return t};return Et.apply(this,arguments)};function xt(e,t){var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0)r[n]=e[n];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)if(t.indexOf(n[i])<0)r[n[i]]=e[n[i]];return r}function At(e,t,r,n){return new(r||(r=Promise))((function(i,s){function a(e){try{u(n.next(e))}catch(e){s(e)}}function o(e){try{u(n["throw"](e))}catch(e){s(e)}}function u(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,o)}u((n=n.apply(e,t||[])).next())}))}function Ft(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(e){return function(t){return u([e,t])}}function u(a){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(s=a[0]&2?i["return"]:a[0]?i["throw"]||((s=i["return"])&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;if(i=0,s)a=[a[0]&2,s.value];switch(a[0]){case 0:case 1:s=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;i=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(s=r.trys,s=s.length>0&&s[s.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!s||a[1]>s[0]&&a[1]<s[3])){r.label=a[1];break}if(a[0]===6&&r.label<s[1]){r.label=s[1];s=a;break}if(s&&r.label<s[2]){r.label=s[2];r.ops.push(a);break}if(s[2])r.ops.pop();r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e];i=0}finally{n=s=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}}var Tt={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};var Ct=Object.freeze({});function kt(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Tt;var n=undefined;var i=Array.isArray(e);var s=[e];var a=-1;var o=[];var u=undefined;var c=undefined;var f=undefined;var h=[];var d=[];var p=e;do{a++;var v=a===s.length;var g=v&&o.length!==0;if(v){c=d.length===0?undefined:h[h.length-1];u=f;f=d.pop();if(g){if(i){u=u.slice()}else{var y={};for(var m=0,b=Object.keys(u);m<b.length;m++){var w=b[m];y[w]=u[w]}u=y}var S=0;for(var E=0;E<o.length;E++){var x=o[E][0];var A=o[E][1];if(i){x-=S}if(i&&A===null){u.splice(x,1);S++}else{u[x]=A}}}a=n.index;s=n.keys;o=n.edits;i=n.inArray;n=n.prev}else{c=f?i?a:s[a]:undefined;u=f?f[c]:p;if(u===null||u===undefined){continue}if(f){h.push(c)}}var F=void 0;if(!Array.isArray(u)){if(!It(u)){throw new Error("Invalid AST Node: "+l(u))}var T=Ot(t,u.kind,v);if(T){F=T.call(t,u,c,f,h,d);if(F===Ct){break}if(F===false){if(!v){h.pop();continue}}else if(F!==undefined){o.push([c,F]);if(!v){if(It(F)){u=F}else{h.pop();continue}}}}}if(F===undefined&&g){o.push([c,u])}if(v){h.pop()}else{n={inArray:i,index:a,keys:s,edits:o,prev:n};i=Array.isArray(u);s=i?u:r[u.kind]||[];a=-1;o=[];if(f){d.push(f)}f=u}}while(n!==undefined);if(o.length!==0){p=o[o.length-1][1]}return p}function It(e){return Boolean(e&&typeof e.kind==="string")}function Ot(e,t,r){var n=e[t];if(n){if(!r&&typeof n==="function"){return n}var i=r?n.leave:n.enter;if(typeof i==="function"){return i}}else{var s=r?e.leave:e.enter;if(s){if(typeof s==="function"){return s}var a=s[t];if(typeof a==="function"){return a}}}}var Rt="Invariant Violation";var Dt=Object.setPrototypeOf,_t=Dt===void 0?function(e,t){e.__proto__=t;return e}:Dt;var Nt=function(e){St(t,e);function t(r){if(r===void 0){r=Rt}var n=e.call(this,typeof r==="number"?Rt+": "+r+" (see https://github.com/apollographql/invariant-packages)":r)||this;n.framesToPop=1;n.name=Rt;_t(n,t.prototype);return n}return t}(Error);function Pt(e,t){if(!e){throw new Nt(t)}}function jt(e){return function(){return console[e].apply(console,arguments)}}(function(e){e.warn=jt("warn");e.error=jt("error")})(Pt||(Pt={}));var Bt={env:{}};if(typeof bt==="object"){Bt=bt}else try{Function("stub","process = stub")(Bt)}catch(e){}var Lt=function(e,t){if(!t)t={};if(typeof t==="function")t={cmp:t};var r=typeof t.cycles==="boolean"?t.cycles:false;var n=t.cmp&&function(e){return function(t){return function(r,n){var i={key:r,value:t[r]};var s={key:n,value:t[n]};return e(i,s)}}}(t.cmp);var i=[];return function e(t){if(t&&t.toJSON&&typeof t.toJSON==="function"){t=t.toJSON()}if(t===undefined)return;if(typeof t=="number")return isFinite(t)?""+t:"null";if(typeof t!=="object")return JSON.stringify(t);var s,a;if(Array.isArray(t)){a="[";for(s=0;s<t.length;s++){if(s)a+=",";a+=e(t[s])||"null"}return a+"]"}if(t===null)return"null";if(i.indexOf(t)!==-1){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var o=i.push(t)-1;var u=Object.keys(t).sort(n&&n(t));a="";for(s=0;s<u.length;s++){var c=u[s];var f=e(t[c]);if(!f)continue;if(a)a+=",";a+=JSON.stringify(c)+":"+f}i.splice(o,1);return"{"+a+"}"}(e)};var Ht=Object.prototype,Mt=Ht.toString,Vt=Ht.hasOwnProperty;var Ut=new Map;function qt(e,t){try{return Kt(e,t)}finally{Ut.clear()}}function Kt(e,t){if(e===t){return true}var r=Mt.call(e);var n=Mt.call(t);if(r!==n){return false}switch(r){case"[object Array]":if(e.length!==t.length)return false;case"[object Object]":{if(zt(e,t))return true;var i=Object.keys(e);var s=Object.keys(t);var a=i.length;if(a!==s.length)return false;for(var o=0;o<a;++o){if(!Vt.call(t,i[o])){return false}}for(var o=0;o<a;++o){var u=i[o];if(!Kt(e[u],t[u])){return false}}return true}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!==e)return t!==t;case"[object Boolean]":case"[object Date]":return+e===+t;case"[object RegExp]":case"[object String]":return e==""+t;case"[object Map]":case"[object Set]":{if(e.size!==t.size)return false;if(zt(e,t))return true;var c=e.entries();var f=r==="[object Map]";while(true){var l=c.next();if(l.done)break;var h=l.value,d=h[0],p=h[1];if(!t.has(d)){return false}if(f&&!Kt(p,t.get(d))){return false}}return true}}return false}function zt(e,t){var r=Ut.get(e);if(r){if(r.has(t))return true}else{Ut.set(e,r=new Set)}r.add(t);return false}function Qt(e){return e.kind==="StringValue"}function Wt(e){return e.kind==="BooleanValue"}function Yt(e){return e.kind==="IntValue"}function Gt(e){return e.kind==="FloatValue"}function Jt(e){return e.kind==="Variable"}function $t(e){return e.kind==="ObjectValue"}function Xt(e){return e.kind==="ListValue"}function Zt(e){return e.kind==="EnumValue"}function er(e){return e.kind==="NullValue"}function tr(e,t,r,n){if(Yt(r)||Gt(r)){e[t.value]=Number(r.value)}else if(Wt(r)||Qt(r)){e[t.value]=r.value}else if($t(r)){var i={};r.fields.map((function(e){return tr(i,e.name,e.value,n)}));e[t.value]=i}else if(Jt(r)){var s=(n||{})[r.name.value];e[t.value]=s}else if(Xt(r)){e[t.value]=r.values.map((function(e){var r={};tr(r,t,e,n);return r[t.value]}))}else if(Zt(r)){e[t.value]=r.value}else if(er(r)){e[t.value]=null}else{throw new Nt(17)}}function rr(e,t){var r=null;if(e.directives){r={};e.directives.forEach((function(e){r[e.name.value]={};if(e.arguments){e.arguments.forEach((function(n){var i=n.name,s=n.value;return tr(r[e.name.value],i,s,t)}))}}))}var n=null;if(e.arguments&&e.arguments.length){n={};e.arguments.forEach((function(e){var r=e.name,i=e.value;return tr(n,r,i,t)}))}return ir(e.name.value,n,r)}var nr=["connection","include","skip","client","rest","export"];function ir(e,t,r){if(r&&r["connection"]&&r["connection"]["key"]){if(r["connection"]["filter"]&&r["connection"]["filter"].length>0){var n=r["connection"]["filter"]?r["connection"]["filter"]:[];n.sort();var i=t;var s={};n.forEach((function(e){s[e]=i[e]}));return r["connection"]["key"]+"("+JSON.stringify(s)+")"}else{return r["connection"]["key"]}}var a=e;if(t){var o=Lt(t);a+="("+o+")"}if(r){Object.keys(r).forEach((function(e){if(nr.indexOf(e)!==-1)return;if(r[e]&&Object.keys(r[e]).length){a+="@"+e+"("+JSON.stringify(r[e])+")"}else{a+="@"+e}}))}return a}function sr(e,t){if(e.arguments&&e.arguments.length){var r={};e.arguments.forEach((function(e){var n=e.name,i=e.value;return tr(r,n,i,t)}));return r}return null}function ar(e){return e.alias?e.alias.value:e.name.value}function or(e){return e.kind==="Field"}function ur(e){return e.kind==="InlineFragment"}function cr(e){return e&&e.type==="id"&&typeof e.generated==="boolean"}function fr(e,t){if(t===void 0){t=false}return Et({type:"id",generated:t},typeof e==="string"?{id:e,typename:undefined}:e)}function lr(e){return e!=null&&typeof e==="object"&&e.type==="json"}function hr(e,t){if(e.directives&&e.directives.length){var r={};e.directives.forEach((function(e){r[e.name.value]=sr(e,t)}));return r}return null}function dr(e,t){if(t===void 0){t={}}return mr(e.directives).every((function(e){var r=e.directive,n=e.ifArgument;var i=false;if(n.value.kind==="Variable"){i=t[n.value.name.value];Pt(i!==void 0,3)}else{i=n.value.value}return r.name.value==="skip"?!i:i}))}function pr(e){var t=[];kt(e,{Directive:function(e){t.push(e.name.value)}});return t}function vr(e,t){return pr(t).some((function(t){return e.indexOf(t)>-1}))}function gr(e){return e&&vr(["client"],e)&&vr(["export"],e)}function yr(e){var t=e.name.value;return t==="skip"||t==="include"}function mr(e){return e?e.filter(yr).map((function(e){var t=e.arguments;Pt(t&&t.length===1,4);var r=t[0];Pt(r.name&&r.name.value==="if",5);var n=r.value;Pt(n&&(n.kind==="Variable"||n.kind==="BooleanValue"),6);return{directive:e,ifArgument:r}})):[]}function br(e,t){var r=t;var n=[];e.definitions.forEach((function(e){if(e.kind==="OperationDefinition"){throw new Nt(1)}if(e.kind==="FragmentDefinition"){n.push(e)}}));if(typeof r==="undefined"){Pt(n.length===1,2);r=n[0].name.value}var i=Et({},e,{definitions:[{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}}].concat(e.definitions)});return i}function wr(e){var t=[];for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}t.forEach((function(t){if(typeof t==="undefined"||t===null){return}Object.keys(t).forEach((function(r){e[r]=t[r]}))}));return e}function Sr(e){Pt(e&&e.kind==="Document",8);var t=e.definitions.filter((function(e){return e.kind!=="FragmentDefinition"})).map((function(e){if(e.kind!=="OperationDefinition"){throw new Nt(9)}return e}));Pt(t.length<=1,10);return e}function Er(e){Sr(e);return e.definitions.filter((function(e){return e.kind==="OperationDefinition"}))[0]}function xr(e){return e.definitions.filter((function(e){return e.kind==="OperationDefinition"&&e.name})).map((function(e){return e.name.value}))[0]||null}function Ar(e){return e.definitions.filter((function(e){return e.kind==="FragmentDefinition"}))}function Fr(e){var t=Er(e);Pt(t&&t.operation==="query",12);return t}function Tr(e){Pt(e.kind==="Document",13);Pt(e.definitions.length<=1,14);var t=e.definitions[0];Pt(t.kind==="FragmentDefinition",15);return t}function Cr(e){Sr(e);var t;for(var r=0,n=e.definitions;r<n.length;r++){var i=n[r];if(i.kind==="OperationDefinition"){var s=i.operation;if(s==="query"||s==="mutation"||s==="subscription"){return i}}if(i.kind==="FragmentDefinition"&&!t){t=i}}if(t){return t}throw new Nt(16)}function kr(e){if(e===void 0){e=[]}var t={};e.forEach((function(e){t[e.name.value]=e}));return t}function Ir(e){if(e&&e.variableDefinitions&&e.variableDefinitions.length){var t=e.variableDefinitions.filter((function(e){var t=e.defaultValue;return t})).map((function(e){var t=e.variable,r=e.defaultValue;var n={};tr(n,t.name,r);return n}));return wr.apply(void 0,[{}].concat(t))}return{}}function Or(e,t,r){var n=0;e.forEach((function(r,i){if(t.call(this,r,i,e)){e[n++]=r}}),r);e.length=n;return e}var Rr={kind:"Field",name:{kind:"Name",value:"__typename"}};function Dr(e,t){return e.selectionSet.selections.every((function(e){return e.kind==="FragmentSpread"&&Dr(t[e.name.value],t)}))}function _r(e){return Dr(Er(e)||Tr(e),kr(Ar(e)))?null:e}function Nr(e){return function t(r){return e.some((function(e){return e.name&&e.name===r.name.value||e.test&&e.test(r)}))}}function Pr(e,t){var r=Object.create(null);var n=[];var i=Object.create(null);var s=[];var a=_r(kt(t,{Variable:{enter:function(e,t,n){if(n.kind!=="VariableDefinition"){r[e.name.value]=true}}},Field:{enter:function(t){if(e&&t.directives){var r=e.some((function(e){return e.remove}));if(r&&t.directives&&t.directives.some(Nr(e))){if(t.arguments){t.arguments.forEach((function(e){if(e.value.kind==="Variable"){n.push({name:e.value.name.value})}}))}if(t.selectionSet){Ur(t.selectionSet).forEach((function(e){s.push({name:e.name.value})}))}return null}}}},FragmentSpread:{enter:function(e){i[e.name.value]=true}},Directive:{enter:function(t){if(Nr(e)(t)){return null}}}}));if(a&&Or(n,(function(e){return!r[e.name]})).length){a=Mr(n,a)}if(a&&Or(s,(function(e){return!i[e.name]})).length){a=Vr(s,a)}return a}function jr(e){return kt(Sr(e),{SelectionSet:{enter:function(e,t,r){if(r&&r.kind==="OperationDefinition"){return}var n=e.selections;if(!n){return}var i=n.some((function(e){return or(e)&&(e.name.value==="__typename"||e.name.value.lastIndexOf("__",0)===0)}));if(i){return}var s=r;if(or(s)&&s.directives&&s.directives.some((function(e){return e.name.value==="export"}))){return}return Et({},e,{selections:n.concat([Rr])})}}})}var Br={test:function(e){var t=e.name.value==="connection";if(t){if(!e.arguments||!e.arguments.some((function(e){return e.name.value==="key"})));}return t}};function Lr(e){return Pr([Br],Sr(e))}function Hr(e){return function t(r){return e.some((function(e){return r.value&&r.value.kind==="Variable"&&r.value.name&&(e.name===r.value.name.value||e.test&&e.test(r))}))}}function Mr(e,t){var r=Hr(e);return _r(kt(t,{OperationDefinition:{enter:function(t){return Et({},t,{variableDefinitions:t.variableDefinitions.filter((function(t){return!e.some((function(e){return e.name===t.variable.name.value}))}))})}},Field:{enter:function(t){var n=e.some((function(e){return e.remove}));if(n){var i=0;t.arguments.forEach((function(e){if(r(e)){i+=1}}));if(i===1){return null}}}},Argument:{enter:function(e){if(r(e)){return null}}}}))}function Vr(e,t){function r(t){if(e.some((function(e){return e.name===t.name.value}))){return null}}return _r(kt(t,{FragmentSpread:{enter:r},FragmentDefinition:{enter:r}}))}function Ur(e){var t=[];e.selections.forEach((function(e){if((or(e)||ur(e))&&e.selectionSet){Ur(e.selectionSet).forEach((function(e){return t.push(e)}))}else if(e.kind==="FragmentSpread"){t.push(e)}}));return t}function qr(e){var t=Cr(e);var r=t.operation;if(r==="query"){return e}var n=kt(e,{OperationDefinition:{enter:function(e){return Et({},e,{operation:"query"})}}});return n}function Kr(e){Sr(e);var t=Pr([{test:function(e){return e.name.value==="client"},remove:true}],e);if(t){t=kt(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet){var t=e.selectionSet.selections.every((function(e){return or(e)&&e.name.value==="__typename"}));if(t){return null}}}}})}return t}var zr=typeof WeakMap==="function"&&!(typeof navigator==="object"&&navigator.product==="ReactNative");var Qr=Object.prototype.toString;function Wr(e){return Yr(e,new Map)}function Yr(e,t){switch(Qr.call(e)){case"[object Array]":{if(t.has(e))return t.get(e);var r=e.slice(0);t.set(e,r);r.forEach((function(e,n){r[n]=Yr(e,t)}));return r}case"[object Object]":{if(t.has(e))return t.get(e);var n=Object.create(Object.getPrototypeOf(e));t.set(e,n);Object.keys(e).forEach((function(r){n[r]=Yr(e[r],t)}));return n}default:return e}}function Gr(){if(typeof bt!=="undefined"&&"production"){return"production"}return"development"}function Jr(e){return Gr()===e}function $r(){return Jr("development")===true}function Xr(){return Jr("test")===true}function Zr(e){try{return e()}catch(e){if(console.error){console.error(e)}}}function en(e){return e.errors&&e.errors.length}function tn(e){Object.freeze(e);Object.getOwnPropertyNames(e).forEach((function(t){if(e[t]!==null&&(typeof e[t]==="object"||typeof e[t]==="function")&&!Object.isFrozen(e[t])){tn(e[t])}}));return e}function rn(e){if($r()||Xr()){var t=typeof Symbol==="function"&&typeof Symbol("")==="string";if(!t){return tn(e)}}return e}var nn=Object.prototype.hasOwnProperty;function sn(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return an(e)}function an(e){var t=e[0]||{};var r=e.length;if(r>1){var n=[];t=cn(t,n);for(var i=1;i<r;++i){t=un(t,e[i],n)}}return t}function on(e){return e!==null&&typeof e==="object"}function un(e,t,r){if(on(t)&&on(e)){if(Object.isExtensible&&!Object.isExtensible(e)){e=cn(e,r)}Object.keys(t).forEach((function(n){var i=t[n];if(nn.call(e,n)){var s=e[n];if(i!==s){e[n]=un(cn(s,r),i,r)}}else{e[n]=i}}));return e}return t}function cn(e,t){if(e!==null&&typeof e==="object"&&t.indexOf(e)<0){if(Array.isArray(e)){e=e.slice(0)}else{e=Et({__proto__:Object.getPrototypeOf(e)},e)}t.push(e)}return e}var fn=he((function(e,t){Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function(){return typeof Symbol==="function"};var s=function(e){return i()&&Boolean(Symbol[e])};var a=function(e){return s(e)?Symbol[e]:"@@"+e};if(i()&&!s("observable")){Symbol.observable=Symbol("observable")}var o=a("iterator");var u=a("observable");var c=a("species");function f(e,t){var r=e[t];if(r==null)return undefined;if(typeof r!=="function")throw new TypeError(r+" is not a function");return r}function l(e){var t=e.constructor;if(t!==undefined){t=t[c];if(t===null){t=undefined}}return t!==undefined?t:E}function h(e){return e instanceof E}function d(e){if(d.log){d.log(e)}else{setTimeout((function(){throw e}))}}function p(e){Promise.resolve().then((function(){try{e()}catch(e){d(e)}}))}function v(e){var t=e._cleanup;if(t===undefined)return;e._cleanup=undefined;if(!t){return}try{if(typeof t==="function"){t()}else{var r=f(t,"unsubscribe");if(r){r.call(t)}}}catch(e){d(e)}}function g(e){e._observer=undefined;e._queue=undefined;e._state="closed"}function y(e){var t=e._queue;if(!t){return}e._queue=undefined;e._state="ready";for(var r=0;r<t.length;++r){m(e,t[r].type,t[r].value);if(e._state==="closed")break}}function m(e,t,r){e._state="running";var n=e._observer;try{var i=f(n,t);switch(t){case"next":if(i)i.call(n,r);break;case"error":g(e);if(i)i.call(n,r);else throw r;break;case"complete":g(e);if(i)i.call(n);break}}catch(e){d(e)}if(e._state==="closed")v(e);else if(e._state==="running")e._state="ready"}function b(e,t,r){if(e._state==="closed")return;if(e._state==="buffering"){e._queue.push({type:t,value:r});return}if(e._state!=="ready"){e._state="buffering";e._queue=[{type:t,value:r}];p((function(){return y(e)}));return}m(e,t,r)}var w=function(){function e(t,r){n(this,e);this._cleanup=undefined;this._observer=t;this._queue=undefined;this._state="initializing";var i=new S(this);try{this._cleanup=r.call(undefined,i)}catch(e){i.error(e)}if(this._state==="initializing")this._state="ready"}r(e,[{key:"unsubscribe",value:function e(){if(this._state!=="closed"){g(this);v(this)}}},{key:"closed",get:function(){return this._state==="closed"}}]);return e}();var S=function(){function e(t){n(this,e);this._subscription=t}r(e,[{key:"next",value:function e(t){b(this._subscription,"next",t)}},{key:"error",value:function e(t){b(this._subscription,"error",t)}},{key:"complete",value:function e(){b(this._subscription,"complete")}},{key:"closed",get:function(){return this._subscription._state==="closed"}}]);return e}();var E=t.Observable=function(){function e(t){n(this,e);if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if(typeof t!=="function")throw new TypeError("Observable initializer must be a function");this._subscriber=t}r(e,[{key:"subscribe",value:function e(t){if(typeof t!=="object"||t===null){t={next:t,error:arguments[1],complete:arguments[2]}}return new w(t,this._subscriber)}},{key:"forEach",value:function e(t){var r=this;return new Promise((function(e,n){if(typeof t!=="function"){n(new TypeError(t+" is not a function"));return}function i(){s.unsubscribe();e()}var s=r.subscribe({next:function(e){try{t(e,i)}catch(e){n(e);s.unsubscribe()}},error:n,complete:e})}))}},{key:"map",value:function e(t){var r=this;if(typeof t!=="function")throw new TypeError(t+" is not a function");var n=l(this);return new n((function(e){return r.subscribe({next:function(r){try{r=t(r)}catch(t){return e.error(t)}e.next(r)},error:function(t){e.error(t)},complete:function(){e.complete()}})}))}},{key:"filter",value:function e(t){var r=this;if(typeof t!=="function")throw new TypeError(t+" is not a function");var n=l(this);return new n((function(e){return r.subscribe({next:function(r){try{if(!t(r))return}catch(t){return e.error(t)}e.next(r)},error:function(t){e.error(t)},complete:function(){e.complete()}})}))}},{key:"reduce",value:function e(t){var r=this;if(typeof t!=="function")throw new TypeError(t+" is not a function");var n=l(this);var i=arguments.length>1;var s=false;var a=arguments[1];var o=a;return new n((function(e){return r.subscribe({next:function(r){var n=!s;s=true;if(!n||i){try{o=t(o,r)}catch(t){return e.error(t)}}else{o=r}},error:function(t){e.error(t)},complete:function(){if(!s&&!i)return e.error(new TypeError("Cannot reduce an empty sequence"));e.next(o);e.complete()}})}))}},{key:"concat",value:function e(){var t=this;for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=l(this);return new s((function(e){var r=void 0;var i=0;function a(t){r=t.subscribe({next:function(t){e.next(t)},error:function(t){e.error(t)},complete:function(){if(i===n.length){r=undefined;e.complete()}else{a(s.from(n[i++]))}}})}a(t);return function(){if(r){r.unsubscribe();r=undefined}}}))}},{key:"flatMap",value:function e(t){var r=this;if(typeof t!=="function")throw new TypeError(t+" is not a function");var n=l(this);return new n((function(e){var i=[];var s=r.subscribe({next:function(r){if(t){try{r=t(r)}catch(t){return e.error(t)}}var s=n.from(r).subscribe({next:function(t){e.next(t)},error:function(t){e.error(t)},complete:function(){var e=i.indexOf(s);if(e>=0)i.splice(e,1);a()}});i.push(s)},error:function(t){e.error(t)},complete:function(){a()}});function a(){if(s.closed&&i.length===0)e.complete()}return function(){i.forEach((function(e){return e.unsubscribe()}));s.unsubscribe()}}))}},{key:u,value:function(){return this}}],[{key:"from",value:function t(r){var n=typeof this==="function"?this:e;if(r==null)throw new TypeError(r+" is not an object");var i=f(r,u);if(i){var a=i.call(r);if(Object(a)!==a)throw new TypeError(a+" is not an object");if(h(a)&&a.constructor===n)return a;return new n((function(e){return a.subscribe(e)}))}if(s("iterator")){i=f(r,o);if(i){return new n((function(e){p((function(){if(e.closed)return;var t=true;var n=false;var s=undefined;try{for(var a=i.call(r)[Symbol.iterator](),o;!(t=(o=a.next()).done);t=true){var u=o.value;e.next(u);if(e.closed)return}}catch(e){n=true;s=e}finally{try{if(!t&&a.return){a.return()}}finally{if(n){throw s}}}e.complete()}))}))}}if(Array.isArray(r)){return new n((function(e){p((function(){if(e.closed)return;for(var t=0;t<r.length;++t){e.next(r[t]);if(e.closed)return}e.complete()}))}))}throw new TypeError(r+" is not observable")}},{key:"of",value:function t(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=typeof this==="function"?this:e;return new s((function(e){p((function(){if(e.closed)return;for(var t=0;t<n.length;++t){e.next(n[t]);if(e.closed)return}e.complete()}))}))}},{key:c,get:function(){return this}}]);return e}();if(i()){Object.defineProperty(E,Symbol("extensions"),{value:{symbol:u,hostReportError:d},configurable:true})}}));le(fn);var ln=fn.Observable;var hn=ln;function dn(e){var t=["query","operationName","variables","extensions","context"];for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(t.indexOf(i)<0){throw new Nt(2)}}return e}var pn=function(e){St(t,e);function t(t,r){var n=e.call(this,t)||this;n.link=r;return n}return t}(Error);function vn(e){return e.request.length<=1}function gn(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};if(!t.operationName){t.operationName=typeof t.query!=="string"?xr(t.query):""}return t}function yn(e,t){var r=Et({},e);var n=function(e){if(typeof e==="function"){r=Et({},r,e(r))}else{r=Et({},r,e)}};var i=function(){return Et({},r)};Object.defineProperty(t,"setContext",{enumerable:false,value:n});Object.defineProperty(t,"getContext",{enumerable:false,value:i});Object.defineProperty(t,"toKey",{enumerable:false,value:function(){return mn(t)}});return t}function mn(e){var t=e.query,r=e.variables,n=e.operationName;return JSON.stringify([n,t,r])}function bn(e,t){return t?t(e):hn.of()}function wn(e){return typeof e==="function"?new Fn(e):e}function Sn(){return new Fn((function(){return hn.of()}))}function En(e){if(e.length===0)return Sn();return e.map(wn).reduce((function(e,t){return e.concat(t)}))}function xn(e,t,r){var n=wn(t);var i=wn(r||new Fn(bn));if(vn(n)&&vn(i)){return new Fn((function(t){return e(t)?n.request(t)||hn.of():i.request(t)||hn.of()}))}else{return new Fn((function(t,r){return e(t)?n.request(t,r)||hn.of():i.request(t,r)||hn.of()}))}}var An=function(e,t){var r=wn(e);if(vn(r)){return r}var n=wn(t);if(vn(n)){return new Fn((function(e){return r.request(e,(function(e){return n.request(e)||hn.of()}))||hn.of()}))}else{return new Fn((function(e,t){return r.request(e,(function(e){return n.request(e,t)||hn.of()}))||hn.of()}))}};var Fn=function(){function e(e){if(e)this.request=e}e.prototype.split=function(t,r,n){return this.concat(xn(t,r,n||new e(bn)))};e.prototype.concat=function(e){return An(this,e)};e.prototype.request=function(e,t){throw new Nt(1)};e.empty=Sn;e.from=En;e.split=xn;e.execute=Tn;return e}();function Tn(e,t){return e.request(yn(t.context,gn(dn(t))))||hn.of()}function Cn(e){var t;var r=e.Symbol;if(typeof r==="function"){if(r.observable){t=r.observable}else{t=r("observable");r.observable=t}}else{t="@@observable"}return t}var kn;if(typeof self!=="undefined"){kn=self}else if(typeof window!=="undefined"){kn=window}else if(typeof De!=="undefined"){kn=De}else if(typeof module!=="undefined"){kn=module}else{kn=Function("return this")()}var In=Cn(kn);var On;(function(e){e[e["loading"]=1]="loading";e[e["setVariables"]=2]="setVariables";e[e["fetchMore"]=3]="fetchMore";e[e["refetch"]=4]="refetch";e[e["poll"]=6]="poll";e[e["ready"]=7]="ready";e[e["error"]=8]="error"})(On||(On={}));function Rn(e){return e<7}var Dn=function(e){St(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype[In]=function(){return this};t.prototype["@@observable"]=function(){return this};return t}(hn);function _n(e){return Array.isArray(e)&&e.length>0}function Nn(e){return e.hasOwnProperty("graphQLErrors")}var Pn=function(e){var t="";if(_n(e.graphQLErrors)){e.graphQLErrors.forEach((function(e){var r=e?e.message:"Error message not found.";t+="GraphQL error: "+r+"\n"}))}if(e.networkError){t+="Network error: "+e.networkError.message+"\n"}t=t.replace(/\n$/,"");return t};var jn=function(e){St(t,e);function t(r){var n=r.graphQLErrors,i=r.networkError,s=r.errorMessage,a=r.extraInfo;var o=e.call(this,s)||this;o.graphQLErrors=n||[];o.networkError=i||null;if(!s){o.message=Pn(o)}else{o.message=s}o.extraInfo=a;o.__proto__=t.prototype;return o}return t}(Error);var Bn;(function(e){e[e["normal"]=1]="normal";e[e["refetch"]=2]="refetch";e[e["poll"]=3]="poll"})(Bn||(Bn={}));var Ln=function(e,t){if(t===void 0){t="none"}return e&&(e.networkError||t==="none"&&_n(e.graphQLErrors))};var Hn=function(e){St(t,e);function t(t){var r=t.queryManager,n=t.options,i=t.shouldSubscribe,s=i===void 0?true:i;var a=e.call(this,(function(e){return a.onSubscribe(e)}))||this;a.observers=new Set;a.subscriptions=new Set;a.isTornDown=false;a.options=n;a.variables=n.variables||{};a.queryId=r.generateQueryId();a.shouldSubscribe=s;var o=Er(n.query);a.queryName=o&&o.name&&o.name.value;a.queryManager=r;return a}t.prototype.result=function(){var e=this;return new Promise((function(t,r){var n={next:function(r){t(r);e.observers.delete(n);if(!e.observers.size){e.queryManager.removeQuery(e.queryId)}setTimeout((function(){i.unsubscribe()}),0)},error:r};var i=e.subscribe(n)}))};t.prototype.currentResult=function(){var e=this.getCurrentResult();if(e.data===undefined){e.data={}}return e};t.prototype.getCurrentResult=function(){if(this.isTornDown){var e=this.lastResult;return{data:!this.lastError&&e&&e.data||void 0,error:this.lastError,loading:false,networkStatus:On.error}}var t=this.queryManager.getCurrentQueryResult(this),r=t.data,n=t.partial;var i=this.queryManager.queryStore.get(this.queryId);var s;var a=this.options.fetchPolicy;var o=a==="network-only"||a==="no-cache";if(i){var u=i.networkStatus;if(Ln(i,this.options.errorPolicy)){return{data:void 0,loading:false,networkStatus:u,error:new jn({graphQLErrors:i.graphQLErrors,networkError:i.networkError})}}if(i.variables){this.options.variables=Et({},this.options.variables,i.variables);this.variables=this.options.variables}s={data:r,loading:Rn(u),networkStatus:u};if(i.graphQLErrors&&this.options.errorPolicy==="all"){s.errors=i.graphQLErrors}}else{var c=o||n&&a!=="cache-only";s={data:r,loading:c,networkStatus:c?On.loading:On.ready}}if(!n){this.updateLastResult(Et({},s,{stale:false}))}return Et({},s,{partial:n})};t.prototype.isDifferentFromLastResult=function(e){var t=this.lastResultSnapshot;return!(t&&e&&t.networkStatus===e.networkStatus&&t.stale===e.stale&&qt(t.data,e.data))};t.prototype.getLastResult=function(){return this.lastResult};t.prototype.getLastError=function(){return this.lastError};t.prototype.resetLastResults=function(){delete this.lastResult;delete this.lastResultSnapshot;delete this.lastError;this.isTornDown=false};t.prototype.resetQueryStoreErrors=function(){var e=this.queryManager.queryStore.get(this.queryId);if(e){e.networkError=null;e.graphQLErrors=[]}};t.prototype.refetch=function(e){var t=this.options.fetchPolicy;if(t==="cache-only"){return Promise.reject(new Nt(3))}if(t!=="no-cache"&&t!=="cache-and-network"){t="network-only"}if(!qt(this.variables,e)){this.variables=Et({},this.variables,e)}if(!qt(this.options.variables,this.variables)){this.options.variables=Et({},this.options.variables,this.variables)}return this.queryManager.fetchQuery(this.queryId,Et({},this.options,{fetchPolicy:t}),Bn.refetch)};t.prototype.fetchMore=function(e){var t=this;Pt(e.updateQuery,4);var r=Et({},e.query?e:Et({},this.options,e,{variables:Et({},this.variables,e.variables)}),{fetchPolicy:"network-only"});var n=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(n,r,Bn.normal,this.queryId).then((function(i){t.updateQuery((function(t){return e.updateQuery(t,{fetchMoreResult:i.data,variables:r.variables})}));t.queryManager.stopQuery(n);return i}),(function(e){t.queryManager.stopQuery(n);throw e}))};t.prototype.subscribeToMore=function(e){var t=this;var r=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables}).subscribe({next:function(r){var n=e.updateQuery;if(n){t.updateQuery((function(e,t){var i=t.variables;return n(e,{subscriptionData:r,variables:i})}))}},error:function(t){if(e.onError){e.onError(t);return}}});this.subscriptions.add(r);return function(){if(t.subscriptions.delete(r)){r.unsubscribe()}}};t.prototype.setOptions=function(e){var t=this.options.fetchPolicy;this.options=Et({},this.options,e);if(e.pollInterval){this.startPolling(e.pollInterval)}else if(e.pollInterval===0){this.stopPolling()}var r=e.fetchPolicy;return this.setVariables(this.options.variables,t!==r&&(t==="cache-only"||t==="standby"||r==="network-only"),e.fetchResults)};t.prototype.setVariables=function(e,t,r){if(t===void 0){t=false}if(r===void 0){r=true}this.isTornDown=false;e=e||this.variables;if(!t&&qt(e,this.variables)){return this.observers.size&&r?this.result():Promise.resolve()}this.variables=this.options.variables=e;if(!this.observers.size){return Promise.resolve()}return this.queryManager.fetchQuery(this.queryId,this.options)};t.prototype.updateQuery=function(e){var t=this.queryManager;var r=t.getQueryWithPreviousResult(this.queryId),n=r.previousResult,i=r.variables,s=r.document;var a=Zr((function(){return e(n,{variables:i})}));if(a){t.dataStore.markUpdateQueryResult(s,i,a);t.broadcastQueries()}};t.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId);this.options.pollInterval=undefined};t.prototype.startPolling=function(e){Un(this);this.options.pollInterval=e;this.queryManager.startPollingQuery(this.options,this.queryId)};t.prototype.updateLastResult=function(e){var t=this.lastResult;this.lastResult=e;this.lastResultSnapshot=this.queryManager.assumeImmutableResults?e:Wr(e);return t};t.prototype.onSubscribe=function(e){var t=this;try{var r=e._subscription._observer;if(r&&!r.error){r.error=Mn}}catch(e){}var n=!this.observers.size;this.observers.add(e);if(e.next&&this.lastResult)e.next(this.lastResult);if(e.error&&this.lastError)e.error(this.lastError);if(n){this.setUpQuery()}return function(){if(t.observers.delete(e)&&!t.observers.size){t.tearDownQuery()}}};t.prototype.setUpQuery=function(){var e=this;var t=this,r=t.queryManager,n=t.queryId;if(this.shouldSubscribe){r.addObservableQuery(n,this)}if(this.options.pollInterval){Un(this);r.startPollingQuery(this.options,n)}var i=function(t){e.updateLastResult(Et({},e.lastResult,{errors:t.graphQLErrors,networkStatus:On.error,loading:false}));Vn(e.observers,"error",e.lastError=t)};r.observeQuery(n,this.options,{next:function(t){if(e.lastError||e.isDifferentFromLastResult(t)){var n=e.updateLastResult(t);var i=e.options,s=i.query,a=i.variables,o=i.fetchPolicy;if(r.transform(s).hasClientExports){r.getLocalState().addExportedVariables(s,a).then((function(i){var a=e.variables;e.variables=e.options.variables=i;if(!t.loading&&n&&o!=="cache-only"&&r.transform(s).serverQuery&&!qt(a,i)){e.refetch()}else{Vn(e.observers,"next",t)}}))}else{Vn(e.observers,"next",t)}}},error:i}).catch(i)};t.prototype.tearDownQuery=function(){var e=this.queryManager;this.isTornDown=true;e.stopPollingQuery(this.queryId);this.subscriptions.forEach((function(e){return e.unsubscribe()}));this.subscriptions.clear();e.removeObservableQuery(this.queryId);e.stopQuery(this.queryId);this.observers.clear()};return t}(Dn);function Mn(e){}function Vn(e,t,r){var n=[];e.forEach((function(e){return e[t]&&n.push(e)}));n.forEach((function(e){return e[t](r)}))}function Un(e){var t=e.options.fetchPolicy;Pt(t!=="cache-first"&&t!=="cache-only",5)}var qn=function(){function e(){this.store={}}e.prototype.getStore=function(){return this.store};e.prototype.get=function(e){return this.store[e]};e.prototype.initMutation=function(e,t,r){this.store[e]={mutation:t,variables:r||{},loading:true,error:null}};e.prototype.markMutationError=function(e,t){var r=this.store[e];if(r){r.loading=false;r.error=t}};e.prototype.markMutationResult=function(e){var t=this.store[e];if(t){t.loading=false;t.error=null}};e.prototype.reset=function(){this.store={}};return e}();var Kn=function(){function e(){this.store={}}e.prototype.getStore=function(){return this.store};e.prototype.get=function(e){return this.store[e]};e.prototype.initQuery=function(e){var t=this.store[e.queryId];Pt(!t||t.document===e.document||qt(t.document,e.document),19);var r=false;var n=null;if(e.storePreviousVariables&&t&&t.networkStatus!==On.loading){if(!qt(t.variables,e.variables)){r=true;n=t.variables}}var i;if(r){i=On.setVariables}else if(e.isPoll){i=On.poll}else if(e.isRefetch){i=On.refetch}else{i=On.loading}var s=[];if(t&&t.graphQLErrors){s=t.graphQLErrors}this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:n,networkError:null,graphQLErrors:s,networkStatus:i,metadata:e.metadata};if(typeof e.fetchMoreForQueryId==="string"&&this.store[e.fetchMoreForQueryId]){this.store[e.fetchMoreForQueryId].networkStatus=On.fetchMore}};e.prototype.markQueryResult=function(e,t,r){if(!this.store||!this.store[e])return;this.store[e].networkError=null;this.store[e].graphQLErrors=_n(t.errors)?t.errors:[];this.store[e].previousVariables=null;this.store[e].networkStatus=On.ready;if(typeof r==="string"&&this.store[r]){this.store[r].networkStatus=On.ready}};e.prototype.markQueryError=function(e,t,r){if(!this.store||!this.store[e])return;this.store[e].networkError=t;this.store[e].networkStatus=On.error;if(typeof r==="string"){this.markQueryResultClient(r,true)}};e.prototype.markQueryResultClient=function(e,t){var r=this.store&&this.store[e];if(r){r.networkError=null;r.previousVariables=null;if(t){r.networkStatus=On.ready}}};e.prototype.stopQuery=function(e){delete this.store[e]};e.prototype.reset=function(e){var t=this;Object.keys(this.store).forEach((function(r){if(e.indexOf(r)<0){t.stopQuery(r)}else{t.store[r].networkStatus=On.loading}}))};return e}();function zn(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Qn=function(){function e(e){var t=e.cache,r=e.client,n=e.resolvers,i=e.fragmentMatcher;this.cache=t;if(r){this.client=r}if(n){this.addResolvers(n)}if(i){this.setFragmentMatcher(i)}}e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{};if(Array.isArray(e)){e.forEach((function(e){t.resolvers=sn(t.resolvers,e)}))}else{this.resolvers=sn(this.resolvers,e)}};e.prototype.setResolvers=function(e){this.resolvers={};this.addResolvers(e)};e.prototype.getResolvers=function(){return this.resolvers||{}};e.prototype.runResolvers=function(e){var t=e.document,r=e.remoteResult,n=e.context,i=e.variables,s=e.onlyRunForcedResolvers,a=s===void 0?false:s;return At(this,void 0,void 0,(function(){return Ft(this,(function(e){if(t){return[2,this.resolveDocument(t,r.data,n,i,this.fragmentMatcher,a).then((function(e){return Et({},r,{data:e.result})}))]}return[2,r]}))}))};e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e};e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher};e.prototype.clientQuery=function(e){if(vr(["client"],e)){if(this.resolvers){return e}}return null};e.prototype.serverQuery=function(e){return this.resolvers?Kr(e):e};e.prototype.prepareContext=function(e){if(e===void 0){e={}}var t=this.cache;var r=Et({},e,{cache:t,getCacheKey:function(e){if(t.config){return t.config.dataIdFromObject(e)}else{Pt(false,6)}}});return r};e.prototype.addExportedVariables=function(e,t,r){if(t===void 0){t={}}if(r===void 0){r={}}return At(this,void 0,void 0,(function(){return Ft(this,(function(n){if(e){return[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(r),t).then((function(e){return Et({},t,e.exportedVariables)}))]}return[2,Et({},t)]}))}))};e.prototype.shouldForceResolvers=function(e){var t=false;kt(e,{Directive:{enter:function(e){if(e.name.value==="client"&&e.arguments){t=e.arguments.some((function(e){return e.name.value==="always"&&e.value.kind==="BooleanValue"&&e.value.value===true}));if(t){return Ct}}}}});return t};e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:qr(e),variables:t,returnPartialData:true,optimistic:false}).result};e.prototype.resolveDocument=function(e,t,r,n,i,s){if(r===void 0){r={}}if(n===void 0){n={}}if(i===void 0){i=function(){return true}}if(s===void 0){s=false}return At(this,void 0,void 0,(function(){var a,o,u,c,f,l,h,d,p;return Ft(this,(function(v){a=Cr(e);o=Ar(e);u=kr(o);c=a.operation;f=c?zn(c):"Query";l=this,h=l.cache,d=l.client;p={fragmentMap:u,context:Et({},r,{cache:h,client:d}),variables:n,fragmentMatcher:i,defaultOperationType:f,exportedVariables:{},onlyRunForcedResolvers:s};return[2,this.resolveSelectionSet(a.selectionSet,t,p).then((function(e){return{result:e,exportedVariables:p.exportedVariables}}))]}))}))};e.prototype.resolveSelectionSet=function(e,t,r){return At(this,void 0,void 0,(function(){var n,i,s,a,o;var u=this;return Ft(this,(function(c){n=r.fragmentMap,i=r.context,s=r.variables;a=[t];o=function(e){return At(u,void 0,void 0,(function(){var o,u;return Ft(this,(function(c){if(!dr(e,s)){return[2]}if(or(e)){return[2,this.resolveField(e,t,r).then((function(t){var r;if(typeof t!=="undefined"){a.push((r={},r[ar(e)]=t,r))}}))]}if(ur(e)){o=e}else{o=n[e.name.value];Pt(o,7)}if(o&&o.typeCondition){u=o.typeCondition.name.value;if(r.fragmentMatcher(t,u,i)){return[2,this.resolveSelectionSet(o.selectionSet,t,r).then((function(e){a.push(e)}))]}}return[2]}))}))};return[2,Promise.all(e.selections.map(o)).then((function(){return an(a)}))]}))}))};e.prototype.resolveField=function(e,t,r){return At(this,void 0,void 0,(function(){var n,i,s,a,o,u,c,f,l;var h=this;return Ft(this,(function(d){n=r.variables;i=e.name.value;s=ar(e);a=i!==s;o=t[s]||t[i];u=Promise.resolve(o);if(!r.onlyRunForcedResolvers||this.shouldForceResolvers(e)){c=t.__typename||r.defaultOperationType;f=this.resolvers&&this.resolvers[c];if(f){l=f[a?i:s];if(l){u=Promise.resolve(l(t,sr(e,n),r.context,{field:e}))}}}return[2,u.then((function(t){if(t===void 0){t=o}if(e.directives){e.directives.forEach((function(e){if(e.name.value==="export"&&e.arguments){e.arguments.forEach((function(e){if(e.name.value==="as"&&e.value.kind==="StringValue"){r.exportedVariables[e.value.value]=t}}))}}))}if(!e.selectionSet){return t}if(t==null){return t}if(Array.isArray(t)){return h.resolveSubSelectedArray(e,t,r)}if(e.selectionSet){return h.resolveSelectionSet(e.selectionSet,t,r)}}))]}))}))};e.prototype.resolveSubSelectedArray=function(e,t,r){var n=this;return Promise.all(t.map((function(t){if(t===null){return null}if(Array.isArray(t)){return n.resolveSubSelectedArray(e,t,r)}if(e.selectionSet){return n.resolveSelectionSet(e.selectionSet,t,r)}})))};return e}();function Wn(e){var t=new Set;var r=null;return new Dn((function(n){t.add(n);r=r||e.subscribe({next:function(e){t.forEach((function(t){return t.next&&t.next(e)}))},error:function(e){t.forEach((function(t){return t.error&&t.error(e)}))},complete:function(){t.forEach((function(e){return e.complete&&e.complete()}))}});return function(){if(t.delete(n)&&!t.size&&r){r.unsubscribe();r=null}}}))}function Yn(e,t){return new Dn((function(r){var n=r.next,i=r.error,s=r.complete;var a=0;var o=false;var u={next:function(e){++a;new Promise((function(r){r(t(e))})).then((function(e){--a;n&&n.call(r,e);o&&u.complete()}),(function(e){--a;i&&i.call(r,e)}))},error:function(e){i&&i.call(r,e)},complete:function(){o=true;if(!a){s&&s.call(r)}}};var c=e.subscribe(u);return function(){return c.unsubscribe()}}))}var Gn=Object.prototype.hasOwnProperty;var Jn=function(){function e(e){var t=e.link,r=e.queryDeduplication,n=r===void 0?false:r,i=e.store,s=e.onBroadcast,a=s===void 0?function(){return undefined}:s,o=e.ssrMode,u=o===void 0?false:o,c=e.clientAwareness,f=c===void 0?{}:c,l=e.localState,h=e.assumeImmutableResults;this.mutationStore=new qn;this.queryStore=new Kn;this.clientAwareness={};this.idCounter=1;this.queries=new Map;this.fetchQueryRejectFns=new Map;this.transformCache=new(zr?WeakMap:Map);this.inFlightLinkObservables=new Map;this.pollingInfoByQueryId=new Map;this.link=t;this.queryDeduplication=n;this.dataStore=i;this.onBroadcast=a;this.clientAwareness=f;this.localState=l||new Qn({cache:i.getCache()});this.ssrMode=u;this.assumeImmutableResults=!!h}e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,r){e.stopQueryNoBroadcast(r)}));this.fetchQueryRejectFns.forEach((function(e){e(new Nt(8))}))};e.prototype.mutate=function(e){var t=e.mutation,r=e.variables,n=e.optimisticResponse,i=e.updateQueries,s=e.refetchQueries,a=s===void 0?[]:s,o=e.awaitRefetchQueries,u=o===void 0?false:o,c=e.update,f=e.errorPolicy,l=f===void 0?"none":f,h=e.fetchPolicy,d=e.context,p=d===void 0?{}:d;return At(this,void 0,void 0,(function(){var e,s,o;var f=this;return Ft(this,(function(d){switch(d.label){case 0:Pt(t,9);Pt(!h||h==="no-cache",10);e=this.generateQueryId();t=this.transform(t).document;this.setQuery(e,(function(){return{document:t}}));r=this.getVariables(t,r);if(!this.transform(t).hasClientExports)return[3,2];return[4,this.localState.addExportedVariables(t,r,p)];case 1:r=d.sent();d.label=2;case 2:s=function(){var e={};if(i){f.queries.forEach((function(t,r){var n=t.observableQuery;if(n){var s=n.queryName;if(s&&Gn.call(i,s)){e[r]={updater:i[s],query:f.queryStore.get(r)}}}}))}return e};this.mutationStore.initMutation(e,t,r);this.dataStore.markMutationInit({mutationId:e,document:t,variables:r,updateQueries:s(),update:c,optimisticResponse:n});this.broadcastQueries();o=this;return[2,new Promise((function(i,f){var d;var v;o.getObservableFromLink(t,Et({},p,{optimisticResponse:n}),r,false).subscribe({next:function(n){if(en(n)&&l==="none"){v=new jn({graphQLErrors:n.errors});return}o.mutationStore.markMutationResult(e);if(h!=="no-cache"){o.dataStore.markMutationResult({mutationId:e,result:n,document:t,variables:r,updateQueries:s(),update:c})}d=n},error:function(t){o.mutationStore.markMutationError(e,t);o.dataStore.markMutationComplete({mutationId:e,optimisticResponse:n});o.broadcastQueries();o.setQuery(e,(function(){return{document:null}}));f(new jn({networkError:t}))},complete:function(){if(v){o.mutationStore.markMutationError(e,v)}o.dataStore.markMutationComplete({mutationId:e,optimisticResponse:n});o.broadcastQueries();if(v){f(v);return}if(typeof a==="function"){a=a(d)}var t=[];if(_n(a)){a.forEach((function(e){if(typeof e==="string"){o.queries.forEach((function(r){var n=r.observableQuery;if(n&&n.queryName===e){t.push(n.refetch())}}))}else{var r={query:e.query,variables:e.variables,fetchPolicy:"network-only"};if(e.context){r.context=e.context}t.push(o.query(r))}}))}Promise.all(u?t:[]).then((function(){o.setQuery(e,(function(){return{document:null}}));if(l==="ignore"&&d&&en(d)){delete d.errors}i(d)}))}})}))]}}))}))};e.prototype.fetchQuery=function(e,t,r,n){return At(this,void 0,void 0,(function(){var i,s,a,o,u,c,f,l,h,d,p,v,g,y,m,b,w,S;var E=this;return Ft(this,(function(x){switch(x.label){case 0:i=t.metadata,s=i===void 0?null:i,a=t.fetchPolicy,o=a===void 0?"cache-first":a,u=t.context,c=u===void 0?{}:u;f=this.transform(t.query).document;l=this.getVariables(f,t.variables);if(!this.transform(f).hasClientExports)return[3,2];return[4,this.localState.addExportedVariables(f,l,c)];case 1:l=x.sent();x.label=2;case 2:t=Et({},t,{variables:l});d=o==="network-only"||o==="no-cache";p=d;if(!d){v=this.dataStore.getCache().diff({query:f,variables:l,returnPartialData:true,optimistic:false}),g=v.complete,y=v.result;p=!g||o==="cache-and-network";h=y}m=p&&o!=="cache-only"&&o!=="standby";if(vr(["live"],f))m=true;b=this.idCounter++;w=o!=="no-cache"?this.updateQueryWatch(e,f,t):undefined;this.setQuery(e,(function(){return{document:f,lastRequestId:b,invalidated:true,cancel:w}}));this.invalidate(n);this.queryStore.initQuery({queryId:e,document:f,storePreviousVariables:m,variables:l,isPoll:r===Bn.poll,isRefetch:r===Bn.refetch,metadata:s,fetchMoreForQueryId:n});this.broadcastQueries();if(m){S=this.fetchRequest({requestId:b,queryId:e,document:f,options:t,fetchMoreForQueryId:n}).catch((function(t){if(Nn(t)){throw t}else{if(b>=E.getQuery(e).lastRequestId){E.queryStore.markQueryError(e,t,n);E.invalidate(e);E.invalidate(n);E.broadcastQueries()}throw new jn({networkError:t})}}));if(o!=="cache-and-network"){return[2,S]}S.catch((function(){}))}this.queryStore.markQueryResultClient(e,!m);this.invalidate(e);this.invalidate(n);if(this.transform(f).hasForcedResolvers){return[2,this.localState.runResolvers({document:f,remoteResult:{data:h},context:c,variables:l,onlyRunForcedResolvers:true}).then((function(r){E.markQueryResult(e,r,t,n);E.broadcastQueries();return r}))]}this.broadcastQueries();return[2,{data:h}]}}))}))};e.prototype.markQueryResult=function(e,t,r,n){var i=r.fetchPolicy,s=r.variables,a=r.errorPolicy;if(i==="no-cache"){this.setQuery(e,(function(){return{newData:{result:t.data,complete:true}}}))}else{this.dataStore.markQueryResult(t,this.getQuery(e).document,s,n,a==="ignore"||a==="all")}};e.prototype.queryListenerForObserver=function(e,t,r){var n=this;function i(e,t){if(r[e]){try{r[e](t)}catch(e){}}}return function(r,s){n.invalidate(e,false);if(!r)return;var a=n.getQuery(e),o=a.observableQuery,u=a.document;var c=o?o.options.fetchPolicy:t.fetchPolicy;if(c==="standby")return;var f=Rn(r.networkStatus);var l=o&&o.getLastResult();var h=!!(l&&l.networkStatus!==r.networkStatus);var d=t.returnPartialData||!s&&r.previousVariables||h&&t.notifyOnNetworkStatusChange||c==="cache-only"||c==="cache-and-network";if(f&&!d){return}var p=_n(r.graphQLErrors);var v=o&&o.options.errorPolicy||t.errorPolicy||"none";if(v==="none"&&p||r.networkError){return i("error",new jn({graphQLErrors:r.graphQLErrors,networkError:r.networkError}))}try{var g=void 0;var y=void 0;if(s){if(c!=="no-cache"&&c!=="network-only"){n.setQuery(e,(function(){return{newData:null}}))}g=s.result;y=!s.complete}else{var m=o&&o.getLastError();var b=v!=="none"&&(m&&m.graphQLErrors)!==r.graphQLErrors;if(l&&l.data&&!b){g=l.data;y=false}else{var w=n.dataStore.getCache().diff({query:u,variables:r.previousVariables||r.variables,returnPartialData:true,optimistic:true});g=w.result;y=!w.complete}}var S=y&&!(t.returnPartialData||c==="cache-only");var E={data:S?l&&l.data:g,loading:f,networkStatus:r.networkStatus,stale:S};if(v==="all"&&p){E.errors=r.graphQLErrors}i("next",E)}catch(e){i("error",new jn({networkError:e}))}}};e.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var r=this.dataStore.getCache();var n=r.transformDocument(e);var i=Lr(r.transformForLink(n));var s=this.localState.clientQuery(n);var a=this.localState.serverQuery(i);var o={document:n,hasClientExports:gr(n),hasForcedResolvers:this.localState.shouldForceResolvers(n),clientQuery:s,serverQuery:a,defaultVars:Ir(Er(n))};var u=function(e){if(e&&!t.has(e)){t.set(e,o)}};u(e);u(n);u(s);u(a)}return t.get(e)};e.prototype.getVariables=function(e,t){return Et({},this.transform(e).defaultVars,t)};e.prototype.watchQuery=function(e,t){if(t===void 0){t=true}Pt(e.fetchPolicy!=="standby",11);e.variables=this.getVariables(e.query,e.variables);if(typeof e.notifyOnNetworkStatusChange==="undefined"){e.notifyOnNetworkStatusChange=false}var r=Et({},e);return new Hn({queryManager:this,options:r,shouldSubscribe:t})};e.prototype.query=function(e){var t=this;Pt(e.query,12);Pt(e.query.kind==="Document",13);Pt(!e.returnPartialData,14);Pt(!e.pollInterval,15);return new Promise((function(r,n){var i=t.watchQuery(e,false);t.fetchQueryRejectFns.set("query:"+i.queryId,n);i.result().then(r,n).then((function(){return t.fetchQueryRejectFns.delete("query:"+i.queryId)}))}))};e.prototype.generateQueryId=function(){return String(this.idCounter++)};e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e);this.broadcastQueries()};e.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e);this.queryStore.stopQuery(e);this.invalidate(e)};e.prototype.addQueryListener=function(e,t){this.setQuery(e,(function(e){var r=e.listeners;r.add(t);return{invalidated:false}}))};e.prototype.updateQueryWatch=function(e,t,r){var n=this;var i=this.getQuery(e).cancel;if(i)i();var s=function(){var t=null;var r=n.getQuery(e).observableQuery;if(r){var i=r.getLastResult();if(i){t=i.data}}return t};return this.dataStore.getCache().watch({query:t,variables:r.variables,optimistic:true,previousResult:s,callback:function(t){n.setQuery(e,(function(){return{invalidated:true,newData:t}}))}})};e.prototype.addObservableQuery=function(e,t){this.setQuery(e,(function(){return{observableQuery:t}}))};e.prototype.removeObservableQuery=function(e){var t=this.getQuery(e).cancel;this.setQuery(e,(function(){return{observableQuery:null}}));if(t)t()};e.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach((function(e){e(new Nt(16))}));var e=[];this.queries.forEach((function(t,r){var n=t.observableQuery;if(n)e.push(r)}));this.queryStore.reset(e);this.mutationStore.reset();return this.dataStore.reset()};e.prototype.resetStore=function(){var e=this;return this.clearStore().then((function(){return e.reFetchObservableQueries()}))};e.prototype.reFetchObservableQueries=function(e){var t=this;if(e===void 0){e=false}var r=[];this.queries.forEach((function(n,i){var s=n.observableQuery;if(s){var a=s.options.fetchPolicy;s.resetLastResults();if(a!=="cache-only"&&(e||a!=="standby")){r.push(s.refetch())}t.setQuery(i,(function(){return{newData:null}}));t.invalidate(i)}}));this.broadcastQueries();return Promise.all(r)};e.prototype.observeQuery=function(e,t,r){this.addQueryListener(e,this.queryListenerForObserver(e,t,r));return this.fetchQuery(e,t)};e.prototype.startQuery=function(e,t,r){this.addQueryListener(e,r);this.fetchQuery(e,t).catch((function(){return undefined}));return e};e.prototype.startGraphQLSubscription=function(e){var t=this;var r=e.query,n=e.fetchPolicy,i=e.variables;r=this.transform(r).document;i=this.getVariables(r,i);var s=function(e){return t.getObservableFromLink(r,{},e,false).map((function(i){if(!n||n!=="no-cache"){t.dataStore.markSubscriptionResult(i,r,e);t.broadcastQueries()}if(en(i)){throw new jn({graphQLErrors:i.errors})}return i}))};if(this.transform(r).hasClientExports){var a=this.localState.addExportedVariables(r,i).then(s);return new Dn((function(e){var t=null;a.then((function(r){return t=r.subscribe(e)}),e.error);return function(){return t&&t.unsubscribe()}}))}return s(i)};e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e);this.broadcastQueries()};e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e);this.removeQuery(e)};e.prototype.removeQuery=function(e){this.fetchQueryRejectFns.delete("query:"+e);this.fetchQueryRejectFns.delete("fetchRequest:"+e);this.getQuery(e).subscriptions.forEach((function(e){return e.unsubscribe()}));this.queries.delete(e)};e.prototype.getCurrentQueryResult=function(e,t){if(t===void 0){t=true}var r=e.options,n=r.variables,i=r.query,s=r.fetchPolicy,a=r.returnPartialData;var o=e.getLastResult();var u=this.getQuery(e.queryId).newData;if(u&&u.complete){return{data:u.result,partial:false}}if(s==="no-cache"||s==="network-only"){return{data:undefined,partial:false}}var c=this.dataStore.getCache().diff({query:i,variables:n,previousResult:o?o.data:undefined,returnPartialData:true,optimistic:t}),f=c.result,l=c.complete;return{data:l||a?f:void 0,partial:!l}};e.prototype.getQueryWithPreviousResult=function(e){var t;if(typeof e==="string"){var r=this.getQuery(e).observableQuery;Pt(r,17);t=r}else{t=e}var n=t.options,i=n.variables,s=n.query;return{previousResult:this.getCurrentQueryResult(t,false).data,variables:i,document:s}};e.prototype.broadcastQueries=function(){var e=this;this.onBroadcast();this.queries.forEach((function(t,r){if(t.invalidated){t.listeners.forEach((function(n){if(n){n(e.queryStore.get(r),t.newData)}}))}}))};e.prototype.getLocalState=function(){return this.localState};e.prototype.getObservableFromLink=function(e,t,r,n){var i=this;if(n===void 0){n=this.queryDeduplication}var s;var a=this.transform(e).serverQuery;if(a){var o=this,u=o.inFlightLinkObservables,c=o.link;var f={query:a,variables:r,operationName:xr(a)||void 0,context:this.prepareContext(Et({},t,{forceFetch:!n}))};t=f.context;if(n){var l=u.get(a)||new Map;u.set(a,l);var h=JSON.stringify(r);s=l.get(h);if(!s){l.set(h,s=Wn(Tn(c,f)));var d=function(){l.delete(h);if(!l.size)u.delete(a);p.unsubscribe()};var p=s.subscribe({next:d,error:d,complete:d})}}else{s=Wn(Tn(c,f))}}else{s=Dn.of({data:{}});t=this.prepareContext(t)}var v=this.transform(e).clientQuery;if(v){s=Yn(s,(function(e){return i.localState.runResolvers({document:v,remoteResult:e,context:t,variables:r})}))}return s};e.prototype.fetchRequest=function(e){var t=this;var r=e.requestId,n=e.queryId,i=e.document,s=e.options,a=e.fetchMoreForQueryId;var o=s.variables,u=s.errorPolicy,c=u===void 0?"none":u,f=s.fetchPolicy;var l;var h;return new Promise((function(e,u){var d=t.getObservableFromLink(i,s.context,o);var p="fetchRequest:"+n;t.fetchQueryRejectFns.set(p,u);var v=function(){t.fetchQueryRejectFns.delete(p);t.setQuery(n,(function(e){var t=e.subscriptions;t.delete(g)}))};var g=d.map((function(e){if(r>=t.getQuery(n).lastRequestId){t.markQueryResult(n,e,s,a);t.queryStore.markQueryResult(n,e,a);t.invalidate(n);t.invalidate(a);t.broadcastQueries()}if(c==="none"&&_n(e.errors)){return u(new jn({graphQLErrors:e.errors}))}if(c==="all"){h=e.errors}if(a||f==="no-cache"){l=e.data}else{var d=t.dataStore.getCache().diff({variables:o,query:i,optimistic:false,returnPartialData:true}),p=d.result,v=d.complete;if(v||s.returnPartialData){l=p}}})).subscribe({error:function(e){v();u(e)},complete:function(){v();e({data:l,errors:h,loading:false,networkStatus:On.ready,stale:false})}});t.setQuery(n,(function(e){var t=e.subscriptions;t.add(g)}))}))};e.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:new Set,invalidated:false,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}};e.prototype.setQuery=function(e,t){var r=this.getQuery(e);var n=Et({},r,t(r));this.queries.set(e,n)};e.prototype.invalidate=function(e,t){if(t===void 0){t=true}if(e){this.setQuery(e,(function(){return{invalidated:t}}))}};e.prototype.prepareContext=function(e){if(e===void 0){e={}}var t=this.localState.prepareContext(e);return Et({},t,{clientAwareness:this.clientAwareness})};e.prototype.checkInFlight=function(e){var t=this.queryStore.get(e);return t&&t.networkStatus!==On.ready&&t.networkStatus!==On.error};e.prototype.startPollingQuery=function(e,t,r){var n=this;var i=e.pollInterval;Pt(i,18);if(!this.ssrMode){var s=this.pollingInfoByQueryId.get(t);if(!s){this.pollingInfoByQueryId.set(t,s={})}s.interval=i;s.options=Et({},e,{fetchPolicy:"network-only"});var a=function(){var e=n.pollingInfoByQueryId.get(t);if(e){if(n.checkInFlight(t)){o()}else{n.fetchQuery(t,e.options,Bn.poll).then(o,o)}}};var o=function(){var e=n.pollingInfoByQueryId.get(t);if(e){clearTimeout(e.timeout);e.timeout=setTimeout(a,e.interval)}};if(r){this.addQueryListener(t,r)}o()}return t};e.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)};return e}();var $n=function(){function e(e){this.cache=e}e.prototype.getCache=function(){return this.cache};e.prototype.markQueryResult=function(e,t,r,n,i){if(i===void 0){i=false}var s=!en(e);if(i&&en(e)&&e.data){s=true}if(!n&&s){this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:t,variables:r})}};e.prototype.markSubscriptionResult=function(e,t,r){if(!en(e)){this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:t,variables:r})}};e.prototype.markMutationInit=function(e){var t=this;if(e.optimisticResponse){var r;if(typeof e.optimisticResponse==="function"){r=e.optimisticResponse(e.variables)}else{r=e.optimisticResponse}this.cache.recordOptimisticTransaction((function(n){var i=t.cache;t.cache=n;try{t.markMutationResult({mutationId:e.mutationId,result:{data:r},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})}finally{t.cache=i}}),e.mutationId)}};e.prototype.markMutationResult=function(e){var t=this;if(!en(e.result)){var r=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}];var n=e.updateQueries;if(n){Object.keys(n).forEach((function(i){var s=n[i],a=s.query,o=s.updater;var u=t.cache.diff({query:a.document,variables:a.variables,returnPartialData:true,optimistic:false}),c=u.result,f=u.complete;if(f){var l=Zr((function(){return o(c,{mutationResult:e.result,queryName:xr(a.document)||undefined,queryVariables:a.variables})}));if(l){r.push({result:l,dataId:"ROOT_QUERY",query:a.document,variables:a.variables})}}}))}this.cache.performTransaction((function(t){r.forEach((function(e){return t.write(e)}));var n=e.update;if(n){Zr((function(){return n(t,e.result)}))}}))}};e.prototype.markMutationComplete=function(e){var t=e.mutationId,r=e.optimisticResponse;if(r){this.cache.removeOptimistic(t)}};e.prototype.markUpdateQueryResult=function(e,t,r){this.cache.write({result:r,dataId:"ROOT_QUERY",variables:t,query:e})};e.prototype.reset=function(){return this.cache.reset()};return e}();var Xn="2.6.4";var Zn=false;var ei=function(){function e(e){var t=this;this.defaultOptions={};this.resetStoreCallbacks=[];this.clearStoreCallbacks=[];var r=e.cache,n=e.ssrMode,i=n===void 0?false:n,s=e.ssrForceFetchDelay,a=s===void 0?0:s,o=e.connectToDevTools,u=e.queryDeduplication,c=u===void 0?true:u,f=e.defaultOptions,l=e.assumeImmutableResults,h=l===void 0?false:l,d=e.resolvers,p=e.typeDefs,v=e.fragmentMatcher,g=e.name,y=e.version;var m=e.link;if(!m&&d){m=Fn.empty()}if(!m||!r){throw new Nt(1)}this.link=m;this.cache=r;this.store=new $n(r);this.disableNetworkFetches=i||a>0;this.queryDeduplication=c;this.defaultOptions=f||{};this.typeDefs=p;if(a){setTimeout((function(){return t.disableNetworkFetches=false}),a)}this.watchQuery=this.watchQuery.bind(this);this.query=this.query.bind(this);this.mutate=this.mutate.bind(this);this.resetStore=this.resetStore.bind(this);this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var b="production"!=="production";if(typeof o==="undefined"?b:o&&typeof window!=="undefined"){window.__APOLLO_CLIENT__=this}if(!Zn&&"production"!=="production"){Zn=true;if(typeof window!=="undefined"&&window.document&&window.top===window.self){if(typeof window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__==="undefined"){if(window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("Chrome")>-1){console.debug("Download the Apollo DevTools "+"for a better development experience: "+"https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm")}}}}this.version=Xn;this.localState=new Qn({cache:r,client:this,resolvers:d,fragmentMatcher:v});this.queryManager=new Jn({link:this.link,store:this.store,queryDeduplication:c,ssrMode:i,clientAwareness:{name:g,version:y},localState:this.localState,assumeImmutableResults:h,onBroadcast:function(){if(t.devToolsHookCb){t.devToolsHookCb({action:{},state:{queries:t.queryManager.queryStore.getStore(),mutations:t.queryManager.mutationStore.getStore()},dataWithOptimisticResults:t.cache.extract(true)})}}})}e.prototype.stop=function(){this.queryManager.stop()};e.prototype.watchQuery=function(e){if(this.defaultOptions.watchQuery){e=Et({},this.defaultOptions.watchQuery,e)}if(this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")){e=Et({},e,{fetchPolicy:"cache-first"})}return this.queryManager.watchQuery(e)};e.prototype.query=function(e){if(this.defaultOptions.query){e=Et({},this.defaultOptions.query,e)}Pt(e.fetchPolicy!=="cache-and-network",2);if(this.disableNetworkFetches&&e.fetchPolicy==="network-only"){e=Et({},e,{fetchPolicy:"cache-first"})}return this.queryManager.query(e)};e.prototype.mutate=function(e){if(this.defaultOptions.mutate){e=Et({},this.defaultOptions.mutate,e)}return this.queryManager.mutate(e)};e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)};e.prototype.readQuery=function(e,t){if(t===void 0){t=false}return this.cache.readQuery(e,t)};e.prototype.readFragment=function(e,t){if(t===void 0){t=false}return this.cache.readFragment(e,t)};e.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);this.queryManager.broadcastQueries();return t};e.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);this.queryManager.broadcastQueries();return t};e.prototype.writeData=function(e){var t=this.cache.writeData(e);this.queryManager.broadcastQueries();return t};e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e};e.prototype.__requestRaw=function(e){return Tn(this.link,e)};e.prototype.initQueryManager=function(){return this.queryManager};e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))};e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))};e.prototype.onResetStore=function(e){var t=this;this.resetStoreCallbacks.push(e);return function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}};e.prototype.onClearStore=function(e){var t=this;this.clearStoreCallbacks.push(e);return function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}};e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)};e.prototype.extract=function(e){return this.cache.extract(e)};e.prototype.restore=function(e){return this.cache.restore(e)};e.prototype.addResolvers=function(e){this.localState.addResolvers(e)};e.prototype.setResolvers=function(e){this.localState.setResolvers(e)};e.prototype.getResolvers=function(){return this.localState.getResolvers()};e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)};return e}();function ti(e){var t={kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:ni(e)};var r={kind:"Document",definitions:[t]};return r}function ri(e,t){var r={kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:t||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:ni(e)};var n={kind:"Document",definitions:[r]};return n}function ni(e){if(typeof e==="number"||typeof e==="boolean"||typeof e==="string"||typeof e==="undefined"||e===null){return null}if(Array.isArray(e)){return ni(e[0])}var t=[];Object.keys(e).forEach((function(r){var n=ni(e[r]);var i={kind:"Field",name:{kind:"Name",value:r},selectionSet:n||undefined};t.push(i)}));var r={kind:"SelectionSet",selections:t};return r}var ii={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]};var si=function(){function e(){}e.prototype.transformDocument=function(e){return e};e.prototype.transformForLink=function(e){return e};e.prototype.readQuery=function(e,t){if(t===void 0){t=false}return this.read({query:e.query,variables:e.variables,optimistic:t})};e.prototype.readFragment=function(e,t){if(t===void 0){t=false}return this.read({query:br(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})};e.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})};e.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:br(e.fragment,e.fragmentName)})};e.prototype.writeData=function(e){var t=e.id,r=e.data;if(typeof t!=="undefined"){var n=null;try{n=this.read({rootId:t,optimistic:false,query:ii})}catch(e){}var i=n&&n.__typename||"__ClientData";var s=Object.assign({__typename:i},r);this.writeFragment({id:t,fragment:ri(s,i),data:s})}else{this.writeQuery({query:ti(r),data:r})}};return e}();var ai=null;var oi={};var ui=1;var ci=function(){return function(){function e(){this.id=["slot",ui++,Date.now(),Math.random().toString(36).slice(2)].join(":")}e.prototype.hasValue=function(){for(var e=ai;e;e=e.parent){if(this.id in e.slots){var t=e.slots[this.id];if(t===oi)break;if(e!==ai){ai.slots[this.id]=t}return true}}if(ai){ai.slots[this.id]=oi}return false};e.prototype.getValue=function(){if(this.hasValue()){return ai.slots[this.id]}};e.prototype.withValue=function(e,t,r,n){var i;var s=(i={__proto__:null},i[this.id]=e,i);var a=ai;ai={parent:a,slots:s};try{return t.apply(n,r)}finally{ai=a}};e.bind=function(e){var t=ai;return function(){var r=ai;try{ai=t;return e.apply(this,arguments)}finally{ai=r}}};e.noContext=function(e,t,r){if(ai){var n=ai;try{ai=null;return e.apply(r,t)}finally{ai=n}}else{return e.apply(r,t)}};return e}()};var fi="@wry/context:Slot";var li=Array;var hi=li[fi]||function(){var e=ci();try{Object.defineProperty(li,fi,{value:li[fi]=e,enumerable:false,writable:false,configurable:false})}finally{return e}}();function di(){}var pi=function(){function e(e,t){if(e===void 0){e=Infinity}if(t===void 0){t=di}this.max=e;this.dispose=t;this.map=new Map;this.newest=null;this.oldest=null}e.prototype.has=function(e){return this.map.has(e)};e.prototype.get=function(e){var t=this.getEntry(e);return t&&t.value};e.prototype.getEntry=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var r=t.older,n=t.newer;if(n){n.older=r}if(r){r.newer=n}t.older=this.newest;t.older.newer=t;t.newer=null;this.newest=t;if(t===this.oldest){this.oldest=n}}return t};e.prototype.set=function(e,t){var r=this.getEntry(e);if(r){return r.value=t}r={key:e,value:t,newer:null,older:this.newest};if(this.newest){this.newest.newer=r}this.newest=r;this.oldest=this.oldest||r;this.map.set(e,r);return r.value};e.prototype.clean=function(){while(this.oldest&&this.map.size>this.max){this.delete(this.oldest.key)}};e.prototype.delete=function(e){var t=this.map.get(e);if(t){if(t===this.newest){this.newest=t.older}if(t===this.oldest){this.oldest=t.newer}if(t.newer){t.newer.older=t.older}if(t.older){t.older.newer=t.newer}this.map.delete(e);this.dispose(t.value,e);return true}return false};return e}();var vi=new hi;var gi=[];var yi=[];var mi=100;function bi(e,t){if(!e){throw new Error(t||"assertion failure")}}function wi(e,t){var r=e.length;return r>0&&r===t.length&&e[r-1]===t[r-1]}function Si(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}function Ei(e){return e.slice(0)}var xi=function(){function e(t,r){this.fn=t;this.args=r;this.parents=new Set;this.childValues=new Map;this.dirtyChildren=null;this.dirty=true;this.recomputing=false;this.value=[];++e.count}e.prototype.recompute=function(){bi(!this.recomputing,"already recomputing");if(!Ai(this)&&Ni(this)){return void 0}return Ci(this)?Fi(this):Si(this.value)};e.prototype.setDirty=function(){if(this.dirty)return;this.dirty=true;this.value.length=0;Ii(this);Li(this)};e.prototype.dispose=function(){var e=this;Pi(this).forEach(Ni);Li(this);this.parents.forEach((function(t){t.setDirty();ji(t,e)}))};e.count=0;return e}();function Ai(e){var t=vi.getValue();if(t){e.parents.add(t);if(!t.childValues.has(e)){t.childValues.set(e,[])}if(Ci(e)){Ri(t,e)}else{Di(t,e)}return t}}function Fi(e){var t=Pi(e);vi.withValue(e,Ti,[e]);if(Bi(e)){ki(e)}t.forEach(Ni);return Si(e.value)}function Ti(e){e.recomputing=true;e.value.length=0;try{e.value[0]=e.fn.apply(null,e.args)}catch(t){e.value[1]=t}e.recomputing=false}function Ci(e){return e.dirty||!!(e.dirtyChildren&&e.dirtyChildren.size)}function ki(e){e.dirty=false;if(Ci(e)){return}Oi(e)}function Ii(e){e.parents.forEach((function(t){return Ri(t,e)}))}function Oi(e){e.parents.forEach((function(t){return Di(t,e)}))}function Ri(e,t){bi(e.childValues.has(t));bi(Ci(t));if(!e.dirtyChildren){e.dirtyChildren=yi.pop()||new Set}else if(e.dirtyChildren.has(t)){return}e.dirtyChildren.add(t);Ii(e)}function Di(e,t){bi(e.childValues.has(t));bi(!Ci(t));var r=e.childValues.get(t);if(r.length===0){e.childValues.set(t,Ei(t.value))}else if(!wi(r,t.value)){e.setDirty()}_i(e,t);if(Ci(e)){return}Oi(e)}function _i(e,t){var r=e.dirtyChildren;if(r){r.delete(t);if(r.size===0){if(yi.length<mi){yi.push(r)}e.dirtyChildren=null}}}function Ni(e){return e.parents.size===0&&typeof e.reportOrphan==="function"&&e.reportOrphan()===true}function Pi(e){var t=gi;if(e.childValues.size>0){t=[];e.childValues.forEach((function(r,n){ji(e,n);t.push(n)}))}bi(e.dirtyChildren===null);return t}function ji(e,t){t.parents.delete(e);e.childValues.delete(t);_i(e,t)}function Bi(e){if(typeof e.subscribe==="function"){try{Li(e);e.unsubscribe=e.subscribe.apply(null,e.args)}catch(t){e.setDirty();return false}}return true}function Li(e){var t=e.unsubscribe;if(typeof t==="function"){e.unsubscribe=void 0;t()}}var Hi=function(){function e(e){this.weakness=e}e.prototype.lookup=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return this.lookupArray(e)};e.prototype.lookupArray=function(e){var t=this;e.forEach((function(e){return t=t.getChildTrie(e)}));return t.data||(t.data=Object.create(null))};e.prototype.getChildTrie=function(t){var r=this.weakness&&Mi(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map);var n=r.get(t);if(!n)r.set(t,n=new e(this.weakness));return n};return e}();function Mi(e){switch(typeof e){case"object":if(e===null)break;case"function":return true}return false}var Vi=new Hi(typeof WeakMap==="function");function Ui(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return Vi.lookupArray(e)}var qi=new Set;function Ki(e,t){if(t===void 0){t=Object.create(null)}var r=new pi(t.max||Math.pow(2,16),(function(e){return e.dispose()}));var n=!!t.disposable;var i=t.makeCacheKey||Ui;function s(){if(n&&!vi.hasValue()){return void 0}var s=i.apply(null,arguments);if(!s){return e.apply(null,arguments)}var a=Array.prototype.slice.call(arguments);var o=r.get(s);if(o){o.args=a}else{o=new xi(e,a);r.set(s,o);o.subscribe=t.subscribe;if(n){o.reportOrphan=function(){return r.delete(s)}}}var u=o.recompute();r.set(s,o);qi.add(r);if(!vi.hasValue()){qi.forEach((function(e){return e.clean()}));qi.clear()}return n?void 0:u}s.dirty=function(){var e=i.apply(null,arguments);var t=e&&r.get(e);if(t){t.setDirty()}};return s}var zi=function(){function e(){}e.prototype.ensureReady=function(){return Promise.resolve()};e.prototype.canBypassInit=function(){return true};e.prototype.match=function(e,t,r){var n=r.store.get(e.id);var i=e.id==="ROOT_QUERY";if(!n){return i}var s=n.__typename,a=s===void 0?i&&"Query":s;if(!a){return"heuristic"}if(a===t){return true}return"heuristic"};return e}();var Qi=Object.prototype.hasOwnProperty;var Wi=function(){function e(e){var t=this;if(e===void 0){e=Object.create(null)}this.data=e;this.depend=Ki((function(e){return t.data[e]}),{disposable:true,makeCacheKey:function(e){return e}})}e.prototype.toObject=function(){return this.data};e.prototype.get=function(e){this.depend(e);return this.data[e]};e.prototype.set=function(e,t){var r=this.data[e];if(t!==r){this.data[e]=t;this.depend.dirty(e)}};e.prototype.delete=function(e){if(Qi.call(this.data,e)){delete this.data[e];this.depend.dirty(e)}};e.prototype.clear=function(){this.replace(null)};e.prototype.replace=function(e){var t=this;if(e){Object.keys(e).forEach((function(r){t.set(r,e[r])}));Object.keys(this.data).forEach((function(r){if(!Qi.call(e,r)){t.delete(r)}}))}else{Object.keys(this.data).forEach((function(e){t.delete(e)}))}};return e}();function Yi(e){return new Wi(e)}var Gi=function(){function e(e){var t=this;var r=e===void 0?{}:e,n=r.cacheKeyRoot,i=n===void 0?new Hi(zr):n,s=r.freezeResults,a=s===void 0?false:s;var o=this,u=o.executeStoreQuery,c=o.executeSelectionSet,f=o.executeSubSelectedArray;this.freezeResults=a;this.executeStoreQuery=Ki((function(e){return u.call(t,e)}),{makeCacheKey:function(e){var t=e.query,r=e.rootValue,n=e.contextValue,s=e.variableValues,a=e.fragmentMatcher;if(n.store instanceof Wi){return i.lookup(n.store,t,a,JSON.stringify(s),r.id)}}});this.executeSelectionSet=Ki((function(e){return c.call(t,e)}),{makeCacheKey:function(e){var t=e.selectionSet,r=e.rootValue,n=e.execContext;if(n.contextValue.store instanceof Wi){return i.lookup(n.contextValue.store,t,n.fragmentMatcher,JSON.stringify(n.variableValues),r.id)}}});this.executeSubSelectedArray=Ki((function(e){return f.call(t,e)}),{makeCacheKey:function(e){var t=e.field,r=e.array,n=e.execContext;if(n.contextValue.store instanceof Wi){return i.lookup(n.contextValue.store,t,r,JSON.stringify(n.variableValues))}}})}e.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(Et({},e,{returnPartialData:false})).result};e.prototype.diffQueryAgainstStore=function(e){var t=e.store,r=e.query,n=e.variables,i=e.previousResult,s=e.returnPartialData,a=s===void 0?true:s,o=e.rootId,u=o===void 0?"ROOT_QUERY":o,c=e.fragmentMatcherFunction,f=e.config;var l=Fr(r);n=wr({},Ir(l),n);var h={store:t,dataIdFromObject:f&&f.dataIdFromObject,cacheRedirects:f&&f.cacheRedirects||{}};var d=this.executeStoreQuery({query:r,rootValue:{type:"id",id:u,generated:true,typename:"Query"},contextValue:h,variableValues:n,fragmentMatcher:c});var p=d.missing&&d.missing.length>0;if(p&&!a){d.missing.forEach((function(e){if(e.tolerable)return;throw new Nt(8)}))}if(i){if(qt(i,d.result)){d.result=i}}return{result:d.result,complete:!p}};e.prototype.executeStoreQuery=function(e){var t=e.query,r=e.rootValue,n=e.contextValue,i=e.variableValues,s=e.fragmentMatcher,a=s===void 0?$i:s;var o=Cr(t);var u=Ar(t);var c=kr(u);var f={query:t,fragmentMap:c,contextValue:n,variableValues:i,fragmentMatcher:a};return this.executeSelectionSet({selectionSet:o.selectionSet,rootValue:r,execContext:f})};e.prototype.executeSelectionSet=function(e){var t=this;var r=e.selectionSet,n=e.rootValue,i=e.execContext;var s=i.fragmentMap,a=i.contextValue,o=i.variableValues;var u={result:null};var c=[];var f=a.store.get(n.id);var l=f&&f.__typename||n.id==="ROOT_QUERY"&&"Query"||void 0;function h(e){var t;if(e.missing){u.missing=u.missing||[];(t=u.missing).push.apply(t,e.missing)}return e.result}r.selections.forEach((function(e){var r;if(!dr(e,o)){return}if(or(e)){var u=h(t.executeField(f,l,e,i));if(typeof u!=="undefined"){c.push((r={},r[ar(e)]=u,r))}}else{var d=void 0;if(ur(e)){d=e}else{d=s[e.name.value];if(!d){throw new Nt(9)}}var p=d.typeCondition&&d.typeCondition.name.value;var v=!p||i.fragmentMatcher(n,p,a);if(v){var g=t.executeSelectionSet({selectionSet:d.selectionSet,rootValue:n,execContext:i});if(v==="heuristic"&&g.missing){g=Et({},g,{missing:g.missing.map((function(e){return Et({},e,{tolerable:true})}))})}c.push(h(g))}}}));u.result=an(c);if(this.freezeResults&&"production"!=="production"){Object.freeze(u.result)}return u};e.prototype.executeField=function(e,t,r,n){var i=n.variableValues,s=n.contextValue;var a=r.name.value;var o=sr(r,i);var u={resultKey:ar(r),directives:hr(r,i)};var c=Xi(e,t,a,o,s,u);if(Array.isArray(c.result)){return this.combineExecResults(c,this.executeSubSelectedArray({field:r,array:c.result,execContext:n}))}if(!r.selectionSet){Ji(r,c.result);if(this.freezeResults&&"production"!=="production"){rn(c)}return c}if(c.result==null){return c}return this.combineExecResults(c,this.executeSelectionSet({selectionSet:r.selectionSet,rootValue:c.result,execContext:n}))};e.prototype.combineExecResults=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var r;e.forEach((function(e){if(e.missing){r=r||[];r.push.apply(r,e.missing)}}));return{result:e.pop().result,missing:r}};e.prototype.executeSubSelectedArray=function(e){var t=this;var r=e.field,n=e.array,i=e.execContext;var s;function a(e){if(e.missing){s=s||[];s.push.apply(s,e.missing)}return e.result}n=n.map((function(e){if(e===null){return null}if(Array.isArray(e)){return a(t.executeSubSelectedArray({field:r,array:e,execContext:i}))}if(r.selectionSet){return a(t.executeSelectionSet({selectionSet:r.selectionSet,rootValue:e,execContext:i}))}Ji(r,e);return e}));if(this.freezeResults&&"production"!=="production"){Object.freeze(n)}return{result:n,missing:s}};return e}();function Ji(e,t){if(!e.selectionSet&&cr(t)){throw new Nt(10)}}function $i(){return true}function Xi(e,t,r,n,i,s){var a=s.directives;var o=r;if(n||a){o=ir(o,n,a)}var u=void 0;if(e){u=e[o];if(typeof u==="undefined"&&i.cacheRedirects&&typeof t==="string"){var c=i.cacheRedirects[t];if(c){var f=c[r];if(f){u=f(e,n,{getCacheKey:function(e){var t=i.dataIdFromObject(e);return t&&fr({id:t,typename:e.__typename})}})}}}}if(typeof u==="undefined"){return{result:u,missing:[{object:e,fieldName:o,tolerable:false}]}}if(lr(u)){u=u.json}return{result:u}}var Zi=function(){function e(e){if(e===void 0){e=Object.create(null)}this.data=e}e.prototype.toObject=function(){return this.data};e.prototype.get=function(e){return this.data[e]};e.prototype.set=function(e,t){this.data[e]=t};e.prototype.delete=function(e){this.data[e]=void 0};e.prototype.clear=function(){this.data=Object.create(null)};e.prototype.replace=function(e){this.data=e||Object.create(null)};return e}();var es=function(e){St(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.type="WriteError";return t}return t}(Error);function ts(e,t){var r=new es("Error writing result to store for query:\n "+JSON.stringify(t));r.message+="\n"+e.message;r.stack=e.stack;return r}var rs=function(){function e(){}e.prototype.writeQueryToStore=function(e){var t=e.query,r=e.result,n=e.store,i=n===void 0?Yi():n,s=e.variables,a=e.dataIdFromObject,o=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:r,document:t,store:i,variables:s,dataIdFromObject:a,fragmentMatcherFunction:o})};e.prototype.writeResultToStore=function(e){var t=e.dataId,r=e.result,n=e.document,i=e.store,s=i===void 0?Yi():i,a=e.variables,o=e.dataIdFromObject,u=e.fragmentMatcherFunction;var c=Er(n);try{return this.writeSelectionSetToStore({result:r,dataId:t,selectionSet:c.selectionSet,context:{store:s,processedData:{},variables:wr({},Ir(c),a),dataIdFromObject:o,fragmentMap:kr(Ar(n)),fragmentMatcherFunction:u}})}catch(e){throw ts(e,n)}};e.prototype.writeSelectionSetToStore=function(e){var t=this;var r=e.result,n=e.dataId,i=e.selectionSet,s=e.context;var a=s.variables,o=s.store,u=s.fragmentMap;i.selections.forEach((function(e){var i;if(!dr(e,a)){return}if(or(e)){var o=ar(e);var c=r[o];if(typeof c!=="undefined"){t.writeFieldToStore({dataId:n,value:c,field:e,context:s})}else{var f=false;var l=false;if(e.directives&&e.directives.length){f=e.directives.some((function(e){return e.name&&e.name.value==="defer"}));l=e.directives.some((function(e){return e.name&&e.name.value==="client"}))}}}else{var h=void 0;if(ur(e)){h=e}else{h=(u||{})[e.name.value];Pt(h,2)}var d=true;if(s.fragmentMatcherFunction&&h.typeCondition){var p=n||"self";var v=fr({id:p,typename:undefined});var g={store:new Zi((i={},i[p]=r,i)),cacheRedirects:{}};var y=s.fragmentMatcherFunction(v,h.typeCondition.name.value,g);d=!!y}if(d){t.writeSelectionSetToStore({result:r,selectionSet:h.selectionSet,dataId:n,context:s})}}}));return o};e.prototype.writeFieldToStore=function(e){var t;var r=e.field,n=e.value,i=e.dataId,s=e.context;var a=s.variables,o=s.dataIdFromObject,u=s.store;var c;var f;var l=rr(r,a);if(!r.selectionSet||n===null){c=n!=null&&typeof n==="object"?{type:"json",json:n}:n}else if(Array.isArray(n)){var h=i+"."+l;c=this.processArrayValue(n,h,r.selectionSet,s)}else{var d=i+"."+l;var p=true;if(!ns(d)){d="$"+d}if(o){var v=o(n);Pt(!v||!ns(v),3);if(v||typeof v==="number"&&v===0){d=v;p=false}}if(!ss(d,r,s.processedData)){this.writeSelectionSetToStore({dataId:d,result:n,selectionSet:r.selectionSet,context:s})}var g=n.__typename;c=fr({id:d,typename:g},p);f=u.get(i);var y=f&&f[l];if(y!==c&&cr(y)){var m=y.typename!==undefined;var b=g!==undefined;var w=m&&b&&y.typename!==g;Pt(!p||y.generated||w,4);Pt(!m||b,5);if(y.generated){if(w){if(!p){u.delete(y.id)}}else{is(y.id,c.id,u)}}}}f=u.get(i);if(!f||!qt(c,f[l])){u.set(i,Et({},f,(t={},t[l]=c,t)))}};e.prototype.processArrayValue=function(e,t,r,n){var i=this;return e.map((function(e,s){if(e===null){return null}var a=t+"."+s;if(Array.isArray(e)){return i.processArrayValue(e,a,r,n)}var o=true;if(n.dataIdFromObject){var u=n.dataIdFromObject(e);if(u){a=u;o=false}}if(!ss(a,r,n.processedData)){i.writeSelectionSetToStore({dataId:a,result:e,selectionSet:r,context:n})}return fr({id:a,typename:e.__typename},o)}))};return e}();function ns(e){return e[0]==="$"}function is(e,t,r){if(e===t){return false}var n=r.get(e);var i=r.get(t);var s=false;Object.keys(n).forEach((function(e){var t=n[e];var a=i[e];if(cr(t)&&ns(t.id)&&cr(a)&&!qt(t,a)&&is(t.id,a.id,r)){s=true}}));r.delete(e);var a=Et({},n,i);if(qt(a,i)){return s}r.set(t,a);return true}function ss(e,t,r){if(!r){return false}if(r[e]){if(r[e].indexOf(t)>=0){return true}else{r[e].push(t)}}else{r[e]=[t]}return false}var as={fragmentMatcher:new zi,dataIdFromObject:os,addTypename:true,resultCaching:true,freezeResults:false};function os(e){if(e.__typename){if(e.id!==undefined){return e.__typename+":"+e.id}if(e._id!==undefined){return e.__typename+":"+e._id}}return null}var us=Object.prototype.hasOwnProperty;var cs=function(e){St(t,e);function t(t,r,n){var i=e.call(this,Object.create(null))||this;i.optimisticId=t;i.parent=r;i.transaction=n;return i}t.prototype.toObject=function(){return Et({},this.parent.toObject(),this.data)};t.prototype.get=function(e){return us.call(this.data,e)?this.data[e]:this.parent.get(e)};return t}(Zi);var fs=function(e){St(t,e);function t(t){if(t===void 0){t={}}var r=e.call(this)||this;r.watches=new Set;r.typenameDocumentCache=new Map;r.cacheKeyRoot=new Hi(zr);r.silenceBroadcast=false;r.config=Et({},as,t);if(r.config.customResolvers){r.config.cacheRedirects=r.config.customResolvers}if(r.config.cacheResolvers){r.config.cacheRedirects=r.config.cacheResolvers}r.addTypename=!!r.config.addTypename;r.data=r.config.resultCaching?new Wi:new Zi;r.optimisticData=r.data;r.storeWriter=new rs;r.storeReader=new Gi({cacheKeyRoot:r.cacheKeyRoot,freezeResults:t.freezeResults});var n=r;var i=n.maybeBroadcastWatch;r.maybeBroadcastWatch=Ki((function(e){return i.call(r,e)}),{makeCacheKey:function(e){if(e.optimistic){return}if(e.previousResult){return}if(n.data instanceof Wi){return n.cacheKeyRoot.lookup(e.query,JSON.stringify(e.variables))}}});return r}t.prototype.restore=function(e){if(e)this.data.replace(e);return this};t.prototype.extract=function(e){if(e===void 0){e=false}return(e?this.optimisticData:this.data).toObject()};t.prototype.read=function(e){if(typeof e.rootId==="string"&&typeof this.data.get(e.rootId)==="undefined"){return null}var t=this.config.fragmentMatcher;var r=t&&t.match;return this.storeReader.readQueryFromStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,rootId:e.rootId,fragmentMatcherFunction:r,previousResult:e.previousResult,config:this.config})||null};t.prototype.write=function(e){var t=this.config.fragmentMatcher;var r=t&&t.match;this.storeWriter.writeResultToStore({dataId:e.dataId,result:e.result,variables:e.variables,document:this.transformDocument(e.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:r});this.broadcastWatches()};t.prototype.diff=function(e){var t=this.config.fragmentMatcher;var r=t&&t.match;return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,returnPartialData:e.returnPartialData,previousResult:e.previousResult,fragmentMatcherFunction:r,config:this.config})};t.prototype.watch=function(e){var t=this;this.watches.add(e);return function(){t.watches.delete(e)}};t.prototype.evict=function(e){throw new Nt(1)};t.prototype.reset=function(){this.data.clear();this.broadcastWatches();return Promise.resolve()};t.prototype.removeOptimistic=function(e){var t=[];var r=0;var n=this.optimisticData;while(n instanceof cs){if(n.optimisticId===e){++r}else{t.push(n)}n=n.parent}if(r>0){this.optimisticData=n;while(t.length>0){var i=t.pop();this.performTransaction(i.transaction,i.optimisticId)}this.broadcastWatches()}};t.prototype.performTransaction=function(e,t){var r=this,n=r.data,i=r.silenceBroadcast;this.silenceBroadcast=true;if(typeof t==="string"){this.data=this.optimisticData=new cs(t,this.optimisticData,e)}try{e(this)}finally{this.silenceBroadcast=i;this.data=n}this.broadcastWatches()};t.prototype.recordOptimisticTransaction=function(e,t){return this.performTransaction(e,t)};t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);if(!t){t=jr(e);this.typenameDocumentCache.set(e,t);this.typenameDocumentCache.set(t,t)}return t}return e};t.prototype.broadcastWatches=function(){var e=this;if(!this.silenceBroadcast){this.watches.forEach((function(t){return e.maybeBroadcastWatch(t)}))}};t.prototype.maybeBroadcastWatch=function(e){e.callback(this.diff({query:e.query,variables:e.variables,previousResult:e.previousResult&&e.previousResult(),optimistic:e.optimistic}))};return t}(si);var ls=ln;function hs(e){var t=["query","operationName","variables","extensions","context"];for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(t.indexOf(i)<0){throw new Nt(2)}}return e}var ds=function(e){St(t,e);function t(t,r){var n=e.call(this,t)||this;n.link=r;return n}return t}(Error);function ps(e){return e.request.length<=1}function vs(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};if(!t.operationName){t.operationName=typeof t.query!=="string"?xr(t.query):""}return t}function gs(e,t){var r=Et({},e);var n=function(e){if(typeof e==="function"){r=Et({},r,e(r))}else{r=Et({},r,e)}};var i=function(){return Et({},r)};Object.defineProperty(t,"setContext",{enumerable:false,value:n});Object.defineProperty(t,"getContext",{enumerable:false,value:i});Object.defineProperty(t,"toKey",{enumerable:false,value:function(){return ys(t)}});return t}function ys(e){var t=e.query,r=e.variables,n=e.operationName;return JSON.stringify([n,t,r])}function ms(e,t){return t?t(e):ls.of()}function bs(e){return typeof e==="function"?new As(e):e}function ws(){return new As((function(){return ls.of()}))}function Ss(e){if(e.length===0)return ws();return e.map(bs).reduce((function(e,t){return e.concat(t)}))}function Es(e,t,r){var n=bs(t);var i=bs(r||new As(ms));if(ps(n)&&ps(i)){return new As((function(t){return e(t)?n.request(t)||ls.of():i.request(t)||ls.of()}))}else{return new As((function(t,r){return e(t)?n.request(t,r)||ls.of():i.request(t,r)||ls.of()}))}}var xs=function(e,t){var r=bs(e);if(ps(r)){return r}var n=bs(t);if(ps(n)){return new As((function(e){return r.request(e,(function(e){return n.request(e)||ls.of()}))||ls.of()}))}else{return new As((function(e,t){return r.request(e,(function(e){return n.request(e,t)||ls.of()}))||ls.of()}))}};var As=function(){function e(e){if(e)this.request=e}e.prototype.split=function(t,r,n){return this.concat(Es(t,r,n||new e(ms)))};e.prototype.concat=function(e){return xs(this,e)};e.prototype.request=function(e,t){throw new Nt(1)};e.empty=ws;e.from=Ss;e.split=Es;e.execute=Fs;return e}();function Fs(e,t){return e.request(gs(t.context,vs(hs(t))))||ls.of()}function Ts(e){return new As((function(t,r){var n=xt(t,[]);return new ls((function(i){var s;Promise.resolve(n).then((function(r){return e(r,t.getContext())})).then(t.setContext).then((function(){s=r(t).subscribe({next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)})})).catch(i.error.bind(i));return function(){if(s)s.unsubscribe()}}))}))}var Cs=ln;function ks(e){var t=["query","operationName","variables","extensions","context"];for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(t.indexOf(i)<0){throw new Nt(2)}}return e}var Is=function(e){St(t,e);function t(t,r){var n=e.call(this,t)||this;n.link=r;return n}return t}(Error);function Os(e){return e.request.length<=1}function Rs(e){return new Cs((function(t){t.error(e)}))}function Ds(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};if(!t.operationName){t.operationName=typeof t.query!=="string"?xr(t.query):""}return t}function _s(e,t){var r=Et({},e);var n=function(e){if(typeof e==="function"){r=Et({},r,e(r))}else{r=Et({},r,e)}};var i=function(){return Et({},r)};Object.defineProperty(t,"setContext",{enumerable:false,value:n});Object.defineProperty(t,"getContext",{enumerable:false,value:i});Object.defineProperty(t,"toKey",{enumerable:false,value:function(){return Ns(t)}});return t}function Ns(e){var t=e.query,r=e.variables,n=e.operationName;return JSON.stringify([n,t,r])}function Ps(e,t){return t?t(e):Cs.of()}function js(e){return typeof e==="function"?new Vs(e):e}function Bs(){return new Vs((function(){return Cs.of()}))}function Ls(e){if(e.length===0)return Bs();return e.map(js).reduce((function(e,t){return e.concat(t)}))}function Hs(e,t,r){var n=js(t);var i=js(r||new Vs(Ps));if(Os(n)&&Os(i)){return new Vs((function(t){return e(t)?n.request(t)||Cs.of():i.request(t)||Cs.of()}))}else{return new Vs((function(t,r){return e(t)?n.request(t,r)||Cs.of():i.request(t,r)||Cs.of()}))}}var Ms=function(e,t){var r=js(e);if(Os(r)){return r}var n=js(t);if(Os(n)){return new Vs((function(e){return r.request(e,(function(e){return n.request(e)||Cs.of()}))||Cs.of()}))}else{return new Vs((function(e,t){return r.request(e,(function(e){return n.request(e,t)||Cs.of()}))||Cs.of()}))}};var Vs=function(){function e(e){if(e)this.request=e}e.prototype.split=function(t,r,n){return this.concat(Hs(t,r,n||new e(Ps)))};e.prototype.concat=function(e){return Ms(this,e)};e.prototype.request=function(e,t){throw new Nt(1)};e.empty=Bs;e.from=Ls;e.split=Hs;e.execute=Us;return e}();function Us(e,t){return e.request(_s(t.context,Ds(ks(t))))||Cs.of()}function qs(e){return kt(e,{leave:Ks})}var Ks={Name:function e(t){return t.value},Variable:function e(t){return"$"+t.name},Document:function e(t){return Qs(t.definitions,"\n\n")+"\n"},OperationDefinition:function e(t){var r=t.operation;var n=t.name;var i=Ys("(",Qs(t.variableDefinitions,", "),")");var s=Qs(t.directives," ");var a=t.selectionSet;return!n&&!s&&!i&&r==="query"?a:Qs([r,Qs([n,i]),s,a]," ")},VariableDefinition:function e(t){var r=t.variable,n=t.type,i=t.defaultValue,s=t.directives;return r+": "+n+Ys(" = ",i)+Ys(" ",Qs(s," "))},SelectionSet:function e(t){var r=t.selections;return Ws(r)},Field:function e(t){var r=t.alias,n=t.name,i=t.arguments,s=t.directives,a=t.selectionSet;return Qs([Ys("",r,": ")+n+Ys("(",Qs(i,", "),")"),Qs(s," "),a]," ")},Argument:function e(t){var r=t.name,n=t.value;return r+": "+n},FragmentSpread:function e(t){var r=t.name,n=t.directives;return"..."+r+Ys(" ",Qs(n," "))},InlineFragment:function e(t){var r=t.typeCondition,n=t.directives,i=t.selectionSet;return Qs(["...",Ys("on ",r),Qs(n," "),i]," ")},FragmentDefinition:function e(t){var r=t.name,n=t.typeCondition,i=t.variableDefinitions,s=t.directives,a=t.selectionSet;return"fragment ".concat(r).concat(Ys("(",Qs(i,", "),")")," ")+"on ".concat(n," ").concat(Ys("",Qs(s," ")," "))+a},IntValue:function e(t){var r=t.value;return r},FloatValue:function e(t){var r=t.value;return r},StringValue:function e(t,r){var n=t.value,i=t.block;return i?L(n,r==="description"?"":"  "):JSON.stringify(n)},BooleanValue:function e(t){var r=t.value;return r?"true":"false"},NullValue:function e(){return"null"},EnumValue:function e(t){var r=t.value;return r},ListValue:function e(t){var r=t.values;return"["+Qs(r,", ")+"]"},ObjectValue:function e(t){var r=t.fields;return"{"+Qs(r,", ")+"}"},ObjectField:function e(t){var r=t.name,n=t.value;return r+": "+n},Directive:function e(t){var r=t.name,n=t.arguments;return"@"+r+Ys("(",Qs(n,", "),")")},NamedType:function e(t){var r=t.name;return r},ListType:function e(t){var r=t.type;return"["+r+"]"},NonNullType:function e(t){var r=t.type;return r+"!"},SchemaDefinition:function e(t){var r=t.directives,n=t.operationTypes;return Qs(["schema",Qs(r," "),Ws(n)]," ")},OperationTypeDefinition:function e(t){var r=t.operation,n=t.type;return r+": "+n},ScalarTypeDefinition:zs((function(e){var t=e.name,r=e.directives;return Qs(["scalar",t,Qs(r," ")]," ")})),ObjectTypeDefinition:zs((function(e){var t=e.name,r=e.interfaces,n=e.directives,i=e.fields;return Qs(["type",t,Ys("implements ",Qs(r," & ")),Qs(n," "),Ws(i)]," ")})),FieldDefinition:zs((function(e){var t=e.name,r=e.arguments,n=e.type,i=e.directives;return t+($s(r)?Ys("(\n",Gs(Qs(r,"\n")),"\n)"):Ys("(",Qs(r,", "),")"))+": "+n+Ys(" ",Qs(i," "))})),InputValueDefinition:zs((function(e){var t=e.name,r=e.type,n=e.defaultValue,i=e.directives;return Qs([t+": "+r,Ys("= ",n),Qs(i," ")]," ")})),InterfaceTypeDefinition:zs((function(e){var t=e.name,r=e.directives,n=e.fields;return Qs(["interface",t,Qs(r," "),Ws(n)]," ")})),UnionTypeDefinition:zs((function(e){var t=e.name,r=e.directives,n=e.types;return Qs(["union",t,Qs(r," "),n&&n.length!==0?"= "+Qs(n," | "):""]," ")})),EnumTypeDefinition:zs((function(e){var t=e.name,r=e.directives,n=e.values;return Qs(["enum",t,Qs(r," "),Ws(n)]," ")})),EnumValueDefinition:zs((function(e){var t=e.name,r=e.directives;return Qs([t,Qs(r," ")]," ")})),InputObjectTypeDefinition:zs((function(e){var t=e.name,r=e.directives,n=e.fields;return Qs(["input",t,Qs(r," "),Ws(n)]," ")})),DirectiveDefinition:zs((function(e){var t=e.name,r=e.arguments,n=e.repeatable,i=e.locations;return"directive @"+t+($s(r)?Ys("(\n",Gs(Qs(r,"\n")),"\n)"):Ys("(",Qs(r,", "),")"))+(n?" repeatable":"")+" on "+Qs(i," | ")})),SchemaExtension:function e(t){var r=t.directives,n=t.operationTypes;return Qs(["extend schema",Qs(r," "),Ws(n)]," ")},ScalarTypeExtension:function e(t){var r=t.name,n=t.directives;return Qs(["extend scalar",r,Qs(n," ")]," ")},ObjectTypeExtension:function e(t){var r=t.name,n=t.interfaces,i=t.directives,s=t.fields;return Qs(["extend type",r,Ys("implements ",Qs(n," & ")),Qs(i," "),Ws(s)]," ")},InterfaceTypeExtension:function e(t){var r=t.name,n=t.directives,i=t.fields;return Qs(["extend interface",r,Qs(n," "),Ws(i)]," ")},UnionTypeExtension:function e(t){var r=t.name,n=t.directives,i=t.types;return Qs(["extend union",r,Qs(n," "),i&&i.length!==0?"= "+Qs(i," | "):""]," ")},EnumTypeExtension:function e(t){var r=t.name,n=t.directives,i=t.values;return Qs(["extend enum",r,Qs(n," "),Ws(i)]," ")},InputObjectTypeExtension:function e(t){var r=t.name,n=t.directives,i=t.fields;return Qs(["extend input",r,Qs(n," "),Ws(i)]," ")}};function zs(e){return function(t){return Qs([t.description,e(t)],"\n")}}function Qs(e,t){return e?e.filter((function(e){return e})).join(t||""):""}function Ws(e){return e&&e.length!==0?"{\n"+Gs(Qs(e,"\n"))+"\n}":""}function Ys(e,t,r){return t?e+t+(r||""):""}function Gs(e){return e&&"  "+e.replace(/\n/g,"\n  ")}function Js(e){return e.indexOf("\n")!==-1}function $s(e){return e&&e.some(Js)}var Xs={includeQuery:true,includeExtensions:false};var Zs={accept:"*/*","content-type":"application/json"};var ea={method:"POST"};var ta={http:Xs,headers:Zs,options:ea};var ra=function(e,t,r){var n=new Error(r);n.name="ServerError";n.response=e;n.statusCode=e.status;n.result=t;throw n};var na=function(e){return function(t){return t.text().then((function(e){try{return JSON.parse(e)}catch(n){var r=n;r.name="ServerParseError";r.response=t;r.statusCode=t.status;r.bodyText=e;return Promise.reject(r)}})).then((function(r){if(t.status>=300){ra(t,r,"Response not successful: Received status code "+t.status)}if(!Array.isArray(r)&&!r.hasOwnProperty("data")&&!r.hasOwnProperty("errors")){ra(t,r,"Server response was missing for query '"+(Array.isArray(e)?e.map((function(e){return e.operationName})):e.operationName)+"'.")}return r}))}};var ia=function(e){if(!e&&typeof fetch==="undefined"){throw new Nt(1)}};var sa=function(){if(typeof AbortController==="undefined")return{controller:false,signal:false};var e=new AbortController;var t=e.signal;return{controller:e,signal:t}};var aa=function(e,t){var r=[];for(var n=2;n<arguments.length;n++){r[n-2]=arguments[n]}var i=Et({},t.options,{headers:t.headers,credentials:t.credentials});var s=t.http;r.forEach((function(e){i=Et({},i,e.options,{headers:Et({},i.headers,e.headers)});if(e.credentials)i.credentials=e.credentials;s=Et({},s,e.http)}));var a=e.operationName,o=e.extensions,u=e.variables,c=e.query;var f={operationName:a,variables:u};if(s.includeExtensions)f.extensions=o;if(s.includeQuery)f.query=qs(c);return{options:i,body:f}};var oa=function(e,t){var r;try{r=JSON.stringify(e)}catch(e){var n=new Nt(2);n.parseError=e;throw n}return r};var ua=function(e,t){var r=e.getContext();var n=r.uri;if(n){return n}else if(typeof t==="function"){return t(e)}else{return t||"/graphql"}};var ca=function(e){if(e===void 0){e={}}var t=e.uri,r=t===void 0?"/graphql":t,n=e.fetch,i=e.includeExtensions,s=e.useGETForQueries,a=xt(e,["uri","fetch","includeExtensions","useGETForQueries"]);ia(n);if(!n){n=fetch}var o={http:{includeExtensions:i},options:a.fetchOptions,credentials:a.credentials,headers:a.headers};return new Vs((function(e){var t=ua(e,r);var i=e.getContext();var a={};if(i.clientAwareness){var u=i.clientAwareness,c=u.name,f=u.version;if(c){a["apollographql-client-name"]=c}if(f){a["apollographql-client-version"]=f}}var l=Et({},a,i.headers);var h={http:i.http,options:i.fetchOptions,credentials:i.credentials,headers:l};var d=aa(e,ta,o,h),p=d.options,v=d.body;var g;if(!p.signal){var y=sa(),m=y.controller,b=y.signal;g=m;if(g)p.signal=b}var w=function(e){return e.kind==="OperationDefinition"&&e.operation==="mutation"};if(s&&!e.query.definitions.some(w)){p.method="GET"}if(p.method==="GET"){var S=fa(t,v),E=S.newURI,x=S.parseError;if(x){return Rs(x)}t=E}else{try{p.body=oa(v)}catch(x){return Rs(x)}}return new Cs((function(r){n(t,p).then((function(t){e.setContext({response:t});return t})).then(na(e)).then((function(e){r.next(e);r.complete();return e})).catch((function(e){if(e.name==="AbortError")return;if(e.result&&e.result.errors&&e.result.data){r.next(e.result)}r.error(e)}));return function(){if(g)g.abort()}}))}))};function fa(e,t){var r=[];var n=function(e,t){r.push(e+"="+encodeURIComponent(t))};if("query"in t){n("query",t.query)}if(t.operationName){n("operationName",t.operationName)}if(t.variables){var i=void 0;try{i=oa(t.variables)}catch(e){return{parseError:e}}n("variables",i)}if(t.extensions){var s=void 0;try{s=oa(t.extensions)}catch(e){return{parseError:e}}n("extensions",s)}var a="",o=e;var u=e.indexOf("#");if(u!==-1){a=e.substr(u);o=e.substr(0,u)}var c=o.indexOf("?")===-1?"?":"&";var f=o+c+r.join("&")+a;return{newURI:f}}var la=function(e){St(t,e);function t(t){return e.call(this,ca(t).request)||this}return t}(Vs);var ha=he((function(e,t){var r=function(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof n!=="undefined"){return n}throw new Error("unable to locate global object")};var n=r();e.exports=t=n.fetch;t.default=n.fetch.bind(n);t.Headers=n.Headers;t.Request=n.Request;t.Response=n.Response}));var da=false;function pa(e){var t={watchQuery:{fetchPolicy:"no-cache"},query:{fetchPolicy:"no-cache"}};var r=ca(Object.assign({uri:undefined},da));var n=Ts((function(t,r){var n=r.headers;return{headers:Object.assign(Object.assign({},n),{authorization:e})}}));return new ei({link:n.concat(r),defaultOptions:t,cache:new fs})}var va=e("crds_greeting",function(){function e(e){t(this,e);this.user=null;this.displayName=null}e.prototype.authTokenHandler=function(e,t){if(e!==t){this.apolloClient=pa(e);this.getUser()}};e.prototype.componentWillLoad=function(){this.apolloClient=pa(this.authToken)};e.prototype.componentWillRender=function(){if(this.authToken)return this.getUser()};e.prototype.componentDidRender=function(){var e=this;var t=new CustomEvent("component rendered",{detail:this.host});document.dispatchEvent(t);setTimeout((function(){e.host.shadowRoot.querySelector(".greeting").classList.add("fade-in")}),0)};e.prototype.getUser=function(){var e=this;return this.apolloClient.query({query:Re}).then((function(t){e.user=t.data.user;e.getDisplayName();return})).catch((function(t){e.getDisplayName();e.logError(t)}))};e.prototype.getDisplayName=function(){this.displayName=this.user&&(this.user.nickName||this.user.firstName)||this.defaultName||""};e.prototype.parseTimeBasedGreetings=function(e){if(e>=17)return"Good evening";if(e>=12)return"Good afternoon";return"Good morning"};e.prototype.renderGreeting=function(){var e=new Date;var t=this.parseTimeBasedGreetings(e.getHours());return t+", "+this.displayName};e.prototype.logError=function(e){console.error(e)};e.prototype.render=function(){if(!this.displayName)return"";return r("div",{class:"greeting"},r("h3",{class:"font-size-large flush"},this.renderGreeting()),r("p",{class:"flush"},"This place was made for you!"))};Object.defineProperty(e.prototype,"host",{get:function(){return n(this)},enumerable:true,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{authToken:["authTokenHandler"]}},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return"*{-webkit-box-sizing:border-box;box-sizing:border-box}.relative{position:relative}.overflow-hidden{overflow:hidden}.d-flex{display:-ms-flexbox;display:flex}.d-block{display:block}.d-inline{display:inline}.d-none{display:none}.align-items-center{-ms-flex-align:center;align-items:center}.w-100{width:100%}.img-responsive{display:block;height:auto;max-width:100%}hr{border:0;border-top:1px solid #e7e7e7;margin-bottom:1rem;margin-top:1rem}.font-family-base{font-family:acumin-pro,helvetica,arial,sans-serif!important;font-weight:300!important}.text-white{color:#fff!important}.text-gray-light{color:#979797!important}.text-gray{color:#737373!important}.text-center{text-align:center}.text-uppercase{text-transform:uppercase}.text-uppercase.font-size-smaller{font-size:13px!important;letter-spacing:.5px}.font-size-base{font-size:16px!important}\@media (min-width:480px){.font-size-base{font-size:19px!important}}.font-size-large{font-size:19px!important}\@media (min-width:480px){.font-size-large{font-size:22px!important}}.font-size-smaller{font-size:14px!important}.font-size-smallest{font-size:10px}.font-weight-mid{font-weight:500}.bg-charcoal{background-color:#171717}.flush{margin:0!important}.flush-bottom{margin-bottom:0!important}.flush-top{margin-top:0!important}.push-half-bottom{margin-bottom:12px!important}.push-bottom{margin-bottom:24px!important}.push-top{margin-top:24px}.push-half-top{margin-top:12px!important}.soft-quarter-top{padding-top:6px}.component-header{font-family:acumin-pro-extra-condensed;font-size:2rem;font-weight:500;line-height:.95;text-transform:uppercase}\@media (min-width:480px){.component-header{font-size:2.125rem}}.card>a{color:inherit;display:block;text-decoration:none}.card img{width:100%}.color-gray{color:#737373}.media-label{display:-ms-flexbox;display:flex;position:absolute;right:0;bottom:0;padding:6px 8px}.media-label>:not(:last-child){margin-right:5px}.media-label .icon{fill:#fff;height:16px;width:12px}.btn{display:inline-block;margin-bottom:0;font-weight:300;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;background-image:none;border:1px solid transparent;padding:8px 10px;font-size:16px;line-height:1.5;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:4px;line-height:1;margin-top:5px;margin-bottom:5px;font-size:14px;padding:13px 16px}.btn.btn-gray-light{color:#fff;background-color:#979797;border-color:#979797}.btn.btn-gray-light.btn-outline{background:transparent;border-style:solid;border-width:1px;color:#979797}.btn.btn-gray-light.btn-outline:hover{background-color:#979797;color:#fff}.btn.btn-sm{font-size:13px;padding:10px 16px 11px}.greeting{opacity:0;-webkit-transition:opacity .45s ease-in-out .25s;transition:opacity .45s ease-in-out .25s}.greeting.fade-in{opacity:1}"},enumerable:true,configurable:true});return e}());var ga=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++){r[n-1]=arguments[n]}var i=e;var s=true;var a=false;var o=undefined;try{for(var u=r[Symbol.iterator](),c;!(s=(c=u.next()).done);s=true){var f=c.value;if(typeof i==="undefined"||i===null){return undefined}if(typeof f==="function"){i=f(i)}else{i=i[f]}}}catch(e){a=true;o=e}finally{try{if(!s&&u.return){u.return()}}finally{if(a){throw o}}}return i};var ya=function e(t,r){return function e(){var n=new Array(arguments.length);for(var i=0;i<n.length;i++){n[i]=arguments[i]}return t.apply(r,n)}};var ma=function e(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer==="function"&&t.constructor.isBuffer(t)};var ba=Object.prototype.toString;function wa(e){return ba.call(e)==="[object Array]"}function Sa(e){return ba.call(e)==="[object ArrayBuffer]"}function Ea(e){return typeof FormData!=="undefined"&&e instanceof FormData}function xa(e){var t;if(typeof ArrayBuffer!=="undefined"&&ArrayBuffer.isView){t=ArrayBuffer.isView(e)}else{t=e&&e.buffer&&e.buffer instanceof ArrayBuffer}return t}function Aa(e){return typeof e==="string"}function Fa(e){return typeof e==="number"}function Ta(e){return typeof e==="undefined"}function Ca(e){return e!==null&&typeof e==="object"}function ka(e){return ba.call(e)==="[object Date]"}function Ia(e){return ba.call(e)==="[object File]"}function Oa(e){return ba.call(e)==="[object Blob]"}function Ra(e){return ba.call(e)==="[object Function]"}function Da(e){return Ca(e)&&Ra(e.pipe)}function _a(e){return typeof URLSearchParams!=="undefined"&&e instanceof URLSearchParams}function Na(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function Pa(){if(typeof navigator!=="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")){return false}return typeof window!=="undefined"&&typeof document!=="undefined"}function ja(e,t){if(e===null||typeof e==="undefined"){return}if(typeof e!=="object"){e=[e]}if(wa(e)){for(var r=0,n=e.length;r<n;r++){t.call(null,e[r],r,e)}}else{for(var i in e){if(Object.prototype.hasOwnProperty.call(e,i)){t.call(null,e[i],i,e)}}}}function Ba(){var e={};function t(t,r){if(typeof e[r]==="object"&&typeof t==="object"){e[r]=Ba(e[r],t)}else{e[r]=t}}for(var r=0,n=arguments.length;r<n;r++){ja(arguments[r],t)}return e}function La(){var e={};function t(t,r){if(typeof e[r]==="object"&&typeof t==="object"){e[r]=La(e[r],t)}else if(typeof t==="object"){e[r]=La({},t)}else{e[r]=t}}for(var r=0,n=arguments.length;r<n;r++){ja(arguments[r],t)}return e}function Ha(e,t,r){ja(t,(function t(n,i){if(r&&typeof n==="function"){e[i]=ya(n,r)}else{e[i]=n}}));return e}var Ma={isArray:wa,isArrayBuffer:Sa,isBuffer:ma,isFormData:Ea,isArrayBufferView:xa,isString:Aa,isNumber:Fa,isObject:Ca,isUndefined:Ta,isDate:ka,isFile:Ia,isBlob:Oa,isFunction:Ra,isStream:Da,isURLSearchParams:_a,isStandardBrowserEnv:Pa,forEach:ja,merge:Ba,deepMerge:La,extend:Ha,trim:Na};function Va(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Ua=function e(t,r,n){if(!r){return t}var i;if(n){i=n(r)}else if(Ma.isURLSearchParams(r)){i=r.toString()}else{var s=[];Ma.forEach(r,(function e(t,r){if(t===null||typeof t==="undefined"){return}if(Ma.isArray(t)){r=r+"[]"}else{t=[t]}Ma.forEach(t,(function e(t){if(Ma.isDate(t)){t=t.toISOString()}else if(Ma.isObject(t)){t=JSON.stringify(t)}s.push(Va(r)+"="+Va(t))}))}));i=s.join("&")}if(i){var a=t.indexOf("#");if(a!==-1){t=t.slice(0,a)}t+=(t.indexOf("?")===-1?"?":"&")+i}return t};function qa(){this.handlers=[]}qa.prototype.use=function e(t,r){this.handlers.push({fulfilled:t,rejected:r});return this.handlers.length-1};qa.prototype.eject=function e(t){if(this.handlers[t]){this.handlers[t]=null}};qa.prototype.forEach=function e(t){Ma.forEach(this.handlers,(function e(r){if(r!==null){t(r)}}))};var Ka=qa;var za=function e(t,r,n){Ma.forEach(n,(function e(n){t=n(t,r)}));return t};var Qa=function e(t){return!!(t&&t.__CANCEL__)};var Wa=function e(t,r){Ma.forEach(t,(function e(n,i){if(i!==r&&i.toUpperCase()===r.toUpperCase()){t[r]=n;delete t[i]}}))};var Ya=function e(t,r,n,i,s){t.config=r;if(n){t.code=n}t.request=i;t.response=s;t.isAxiosError=true;t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}};return t};var Ga=function e(t,r,n,i,s){var a=new Error(t);return Ya(a,r,n,i,s)};var Ja=function e(t,r,n){var i=n.config.validateStatus;if(!i||i(n.status)){t(n)}else{r(Ga("Request failed with status code "+n.status,n.config,null,n.request,n))}};var $a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];var Xa=function e(t){var r={};var n;var i;var s;if(!t){return r}Ma.forEach(t.split("\n"),(function e(t){s=t.indexOf(":");n=Ma.trim(t.substr(0,s)).toLowerCase();i=Ma.trim(t.substr(s+1));if(n){if(r[n]&&$a.indexOf(n)>=0){return}if(n==="set-cookie"){r[n]=(r[n]?r[n]:[]).concat([i])}else{r[n]=r[n]?r[n]+", "+i:i}}}));return r};var Za=Ma.isStandardBrowserEnv()?function e(){var t=/(msie|trident)/i.test(navigator.userAgent);var r=document.createElement("a");var n;function i(e){var n=e;if(t){r.setAttribute("href",n);n=r.href}r.setAttribute("href",n);return{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}n=i(window.location.href);return function e(t){var r=Ma.isString(t)?i(t):t;return r.protocol===n.protocol&&r.host===n.host}}():function e(){return function e(){return true}}();var eo=Ma.isStandardBrowserEnv()?function e(){return{write:function e(t,r,n,i,s,a){var o=[];o.push(t+"="+encodeURIComponent(r));if(Ma.isNumber(n)){o.push("expires="+new Date(n).toGMTString())}if(Ma.isString(i)){o.push("path="+i)}if(Ma.isString(s)){o.push("domain="+s)}if(a===true){o.push("secure")}document.cookie=o.join("; ")},read:function e(t){var r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function e(t){this.write(t,"",Date.now()-864e5)}}}():function e(){return{write:function e(){},read:function e(){return null},remove:function e(){}}}();var to=function e(t){return new Promise((function e(r,n){var i=t.data;var s=t.headers;if(Ma.isFormData(i)){delete s["Content-Type"]}var a=new XMLHttpRequest;if(t.auth){var o=t.auth.username||"";var u=t.auth.password||"";s.Authorization="Basic "+btoa(o+":"+u)}a.open(t.method.toUpperCase(),Ua(t.url,t.params,t.paramsSerializer),true);a.timeout=t.timeout;a.onreadystatechange=function e(){if(!a||a.readyState!==4){return}if(a.status===0&&!(a.responseURL&&a.responseURL.indexOf("file:")===0)){return}var i="getAllResponseHeaders"in a?Xa(a.getAllResponseHeaders()):null;var s=!t.responseType||t.responseType==="text"?a.responseText:a.response;var o={data:s,status:a.status,statusText:a.statusText,headers:i,config:t,request:a};Ja(r,n,o);a=null};a.onabort=function e(){if(!a){return}n(Ga("Request aborted",t,"ECONNABORTED",a));a=null};a.onerror=function e(){n(Ga("Network Error",t,null,a));a=null};a.ontimeout=function e(){n(Ga("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",a));a=null};if(Ma.isStandardBrowserEnv()){var c=eo;var f=(t.withCredentials||Za(t.url))&&t.xsrfCookieName?c.read(t.xsrfCookieName):undefined;if(f){s[t.xsrfHeaderName]=f}}if("setRequestHeader"in a){Ma.forEach(s,(function e(t,r){if(typeof i==="undefined"&&r.toLowerCase()==="content-type"){delete s[r]}else{a.setRequestHeader(r,t)}}))}if(t.withCredentials){a.withCredentials=true}if(t.responseType){try{a.responseType=t.responseType}catch(e){if(t.responseType!=="json"){throw e}}}if(typeof t.onDownloadProgress==="function"){a.addEventListener("progress",t.onDownloadProgress)}if(typeof t.onUploadProgress==="function"&&a.upload){a.upload.addEventListener("progress",t.onUploadProgress)}if(t.cancelToken){t.cancelToken.promise.then((function e(t){if(!a){return}a.abort();n(t);a=null}))}if(i===undefined){i=null}a.send(i)}))};var ro={"Content-Type":"application/x-www-form-urlencoded"};function no(e,t){if(!Ma.isUndefined(e)&&Ma.isUndefined(e["Content-Type"])){e["Content-Type"]=t}}function io(){var e;if(typeof bt!=="undefined"&&Object.prototype.toString.call(bt)==="[object process]"){e=to}else if(typeof XMLHttpRequest!=="undefined"){e=to}return e}var so={adapter:io(),transformRequest:[function e(t,r){Wa(r,"Accept");Wa(r,"Content-Type");if(Ma.isFormData(t)||Ma.isArrayBuffer(t)||Ma.isBuffer(t)||Ma.isStream(t)||Ma.isFile(t)||Ma.isBlob(t)){return t}if(Ma.isArrayBufferView(t)){return t.buffer}if(Ma.isURLSearchParams(t)){no(r,"application/x-www-form-urlencoded;charset=utf-8");return t.toString()}if(Ma.isObject(t)){no(r,"application/json;charset=utf-8");return JSON.stringify(t)}return t}],transformResponse:[function e(t){if(typeof t==="string"){try{t=JSON.parse(t)}catch(e){}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function e(t){return t>=200&&t<300}};so.headers={common:{Accept:"application/json, text/plain, */*"}};Ma.forEach(["delete","get","head"],(function e(t){so.headers[t]={}}));Ma.forEach(["post","put","patch"],(function e(t){so.headers[t]=Ma.merge(ro)}));var ao=so;var oo=function e(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)};var uo=function e(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t};function co(e){if(e.cancelToken){e.cancelToken.throwIfRequested()}}var fo=function e(t){co(t);if(t.baseURL&&!oo(t.url)){t.url=uo(t.baseURL,t.url)}t.headers=t.headers||{};t.data=za(t.data,t.headers,t.transformRequest);t.headers=Ma.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{});Ma.forEach(["delete","get","head","post","put","patch","common"],(function e(r){delete t.headers[r]}));var r=t.adapter||ao.adapter;return r(t).then((function e(r){co(t);r.data=za(r.data,r.headers,t.transformResponse);return r}),(function e(r){if(!Qa(r)){co(t);if(r&&r.response){r.response.data=za(r.response.data,r.response.headers,t.transformResponse)}}return Promise.reject(r)}))};var lo=function e(t,r){r=r||{};var n={};Ma.forEach(["url","method","params","data"],(function e(t){if(typeof r[t]!=="undefined"){n[t]=r[t]}}));Ma.forEach(["headers","auth","proxy"],(function e(i){if(Ma.isObject(r[i])){n[i]=Ma.deepMerge(t[i],r[i])}else if(typeof r[i]!=="undefined"){n[i]=r[i]}else if(Ma.isObject(t[i])){n[i]=Ma.deepMerge(t[i])}else if(typeof t[i]!=="undefined"){n[i]=t[i]}}));Ma.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function e(i){if(typeof r[i]!=="undefined"){n[i]=r[i]}else if(typeof t[i]!=="undefined"){n[i]=t[i]}}));return n};function ho(e){this.defaults=e;this.interceptors={request:new Ka,response:new Ka}}ho.prototype.request=function e(t){if(typeof t==="string"){t=arguments[1]||{};t.url=arguments[0]}else{t=t||{}}t=lo(this.defaults,t);t.method=t.method?t.method.toLowerCase():"get";var r=[fo,undefined];var n=Promise.resolve(t);this.interceptors.request.forEach((function e(t){r.unshift(t.fulfilled,t.rejected)}));this.interceptors.response.forEach((function e(t){r.push(t.fulfilled,t.rejected)}));while(r.length){n=n.then(r.shift(),r.shift())}return n};ho.prototype.getUri=function e(t){t=lo(this.defaults,t);return Ua(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};Ma.forEach(["delete","get","head","options"],(function e(t){ho.prototype[t]=function(e,r){return this.request(Ma.merge(r||{},{method:t,url:e}))}}));Ma.forEach(["post","put","patch"],(function e(t){ho.prototype[t]=function(e,r,n){return this.request(Ma.merge(n||{},{method:t,url:e,data:r}))}}));var po=ho;function vo(e){this.message=e}vo.prototype.toString=function e(){return"Cancel"+(this.message?": "+this.message:"")};vo.prototype.__CANCEL__=true;var go=vo;function yo(e){if(typeof e!=="function"){throw new TypeError("executor must be a function.")}var t;this.promise=new Promise((function e(r){t=r}));var r=this;e((function e(n){if(r.reason){return}r.reason=new go(n);t(r.reason)}))}yo.prototype.throwIfRequested=function e(){if(this.reason){throw this.reason}};yo.source=function e(){var t;var r=new yo((function e(r){t=r}));return{token:r,cancel:t}};var mo=yo;var bo=function e(t){return function e(r){return t.apply(null,r)}};function wo(e){var t=new po(e);var r=ya(po.prototype.request,t);Ma.extend(r,po.prototype,t);Ma.extend(r,t);return r}var So=wo(ao);So.Axios=po;So.create=function e(t){return wo(lo(So.defaults,t))};So.Cancel=go;So.CancelToken=mo;So.isCancel=Qa;So.all=function e(t){return Promise.all(t)};So.spread=bo;var Eo=So;var xo=So;Eo.default=xo;var Ao=Eo;var Fo=e("crds_heart_button",function(){function e(e){t(this,e);this.debug=false;this.storageKey="crds-hearts";this._likes=[]}e.prototype.componentWillLoad=function(){var e=this;this.console=new i(this.debug);this.config=new s;this.isLiked=this.likes().includes(this.contentfulId);this.getCount().then((function(t){e.count=t}))};e.prototype.getCount=function(){var e=this.config.endpoint()+"/entries/"+this.contentfulId;return Ao.get(e,{params:{access_token:this.config.token()}}).then((function(e){return ga(e,"data","fields","interaction_count")||0}))};e.prototype.abbrevCount=function(){if(this.count>1e3){var e=this.count/1e3;var t=Math.round(e*4)/4;return t+"K"}else{return(this.count||0).toString()}};e.prototype.likes=function(){var e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):[]};e.prototype.toggle=function(e){this.console.log("toggle()");e.preventDefault();this.isLiked=!this.isLiked;if(this.isLiked){this.add();this.count++}else{this.remove();if(this.count>0){this.count--}}};e.prototype.remove=function(){var e=this;this.console.log("removeFromStore()");this._likes=this.likes().filter((function(t){if(t.toString()!==e.contentfulId){return t}}));this.save(this._likes)};e.prototype.add=function(){this._likes=this.likes();this._likes.push(this.contentfulId);this.save(this.removeDuplicates(this._likes))};e.prototype.removeDuplicates=function(e){return Array.from(new Set(e))};e.prototype.save=function(e){this.console.log("save()");localStorage.setItem(this.storageKey,JSON.stringify(e));Ao.post(this.endpoint()+"/content-interactions",{entry_id:this.contentfulId,action:this.isLiked?"add":"subtract"})};e.prototype.endpoint=function(){return a.getMeta("crds:interactions-endpoint")||"https://8k97vbzbrk.execute-api.us-east-1.amazonaws.com/int"};e.prototype.render=function(){var e=this;var t='<svg width="256px" height="256px" viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="heart"><path d="M222.944078,39.3395243 C232.469215,47.3270078 239.075354,57.1577642 242.762502,68.8317796 C246.449652,80.505795 246.987363,92.2566154 244.37563,104.084241 C241.763898,115.911866 236.156363,126.126627 227.553015,134.728537 L138.600552,226.891836 C135.527926,229.963948 131.994414,231.5 128,231.5 C124.005586,231.5 120.472074,229.963948 117.399448,226.891836 L28.4469857,135.189353 C19.8436364,126.280238 14.2361025,115.911866 11.6243699,104.084241 C9.01263721,92.2566154 9.55034867,80.505795 13.2374974,68.8317796 C16.924646,57.1577642 23.5307851,47.3270078 33.0559215,39.3395243 C41.3520061,32.2736738 50.7235066,27.8191121 61.1704302,25.9758461 C71.6173538,24.1325802 81.9106415,24.90061 92.0503004,28.2799285 C102.189959,31.6592471 111.100566,37.3426551 118.782129,45.3301387 L128,54.5464684 L137.217871,45.3301387 C144.899434,37.3426551 153.810041,31.6592471 163.9497,28.2799285 C174.089359,24.90061 184.382646,24.1325802 194.82957,25.9758461 C205.276493,27.8191121 214.647994,32.2736738 222.944078,39.3395243 Z" id="Path"></path></g></svg>';var n='<svg width="256px" height="256px" viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="heart-o"><path d="M218.116413,43.6103959 C227.157221,51.1917362 233.427455,60.5226236 236.927121,71.603045 C240.426788,82.6834664 240.937158,93.8367875 238.458225,105.063008 C235.979293,116.289229 230.656887,125.984595 222.490997,134.14912 L138.061541,221.626149 C135.14515,224.542052 131.791308,226 128,226 C124.208692,226 120.85485,224.542052 117.938459,221.626149 L33.5090034,134.586505 C25.3431125,126.130395 20.0207075,116.289229 17.5417748,105.063008 C15.0628421,93.8367875 15.5732123,82.6834664 19.0728789,71.603045 C22.5725454,60.5226236 28.7698738,51.1917362 37.6648574,43.6103959 C46.559841,36.0290557 56.4026531,31.6552043 67.1932938,30.4888417 C76.8173768,29.3224791 86.587277,30.6346345 96.5030011,34.425308 C105.543809,37.9243891 113.126417,42.8814185 119.250834,49.2964028 L128,58.4814907 L136.749166,49.2964028 C144.040141,41.7150625 152.570578,36.3206413 162.340478,33.1131525 C172.110378,29.9056637 181.95319,29.1766863 191.868914,30.9262268 C201.784638,32.6757674 210.533805,36.903826 218.116413,43.6103959 Z M212.429455,124.526647 C218.262231,118.694847 222.272267,111.477993 224.459559,102.876083 C226.646851,94.2741726 226.573939,85.8909618 224.24083,77.726437 C221.61608,68.3955562 216.585309,60.5955167 209.148518,54.3263319 C201.711727,48.0571471 193.47293,44.630959 184.432123,44.0477811 C177.141149,43.7561888 169.704357,45.3599365 162.121749,48.8590176 C155.705691,51.4833285 150.602015,54.9824096 146.810708,59.356261 L128,78.6012073 L109.189292,59.356261 C105.10635,54.9824096 100.002668,51.3375357 93.8782512,48.4216325 C86.2956426,44.9225514 78.8588512,43.4646031 71.567877,44.0477811 C62.5270696,44.630959 54.2882735,48.0571471 46.8514821,54.3263319 C39.4146907,60.5955167 34.38392,68.3955562 31.7591701,77.726437 C29.4260613,85.8909618 29.3531494,94.2741726 31.5404409,102.876083 C33.7277325,111.477993 37.7377693,118.694847 43.5705447,124.526647 L128,212.003675 L212.429455,124.526647 Z"></path></g></svg>';return r("a",{href:"#",onClick:function(t){return e.toggle(t)},class:this.isLiked?"on":"off"},r("span",{innerHTML:t,class:"icon heart"}),r("span",{innerHTML:n,class:"icon heart-o"}),r("span",{class:"count"},this.abbrevCount()))};Object.defineProperty(e,"style",{get:function(){return"a{font-family:sans-serif;display:block;color:#979797;font-size:80%;text-decoration:none}a>*{vertical-align:middle}a.on>span.heart-o.heart,a.on>span.heart.heart{display:inline-block}a.on>span.heart-o.heart-o,a.on>span.heart.heart-o{display:none}a.on>span.heart-o>svg,a.on>span.heart>svg{fill:#c05c04}a span.count{padding-left:.5rem}a span.heart,a span.heart-o{display:inline-block;border:1px solid;border-radius:50%;width:42px;height:42px}a span.heart-o svg,a span.heart svg{margin:9px;width:24px;height:24px;fill:currentColor}a span.heart{display:none}a span.heart-o{display:inline-block}"},enumerable:true,configurable:true});return e}());var To=e("crds_modal",function(){function e(e){var r=this;t(this,e);this.isActive=false;this.handleInnerClick=function(e){e.stopPropagation()};this.closeModal=function(){r.isActive=false;if(typeof r.onModalClose=="function")r.onModalClose()}}e.prototype.componentDidUpdate=function(){document.body.appendChild(this.element)};e.prototype.render=function(){return r("div",{class:"modal "+(this.isActive?"is-active":""),id:"subscribeModalForm",tabindex:"-1",onClick:this.closeModal},r("div",{class:"modal-content",onClick:this.handleInnerClick},r("div",{class:"modal-header"},r("button",{type:"button",class:"modal-close",onClick:this.closeModal})),r("div",{class:"modal-body"},this.label&&r("h3",{class:"modal-title"},this.label),r("slot",null))))};Object.defineProperty(e.prototype,"element",{get:function(){return n(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return".modal{background-color:rgba(0,0,0,.8);bottom:0;left:0;opacity:0;position:fixed;right:0;top:0;-webkit-transition:opacity .3s ease,visibility .3s ease;transition:opacity .3s ease,visibility .3s ease;visibility:hidden;will-change:opacity,visibility}.modal.is-active{opacity:1;visibility:visible;z-index:11}.modal.is-active .modal-content{-webkit-transform:translateY(0);transform:translateY(0)}.modal-content{background:#fff;font-size:16px;margin:45px auto;max-width:600px;position:relative;-webkit-transform:translateY(-50px);transform:translateY(-50px);-webkit-transition:-webkit-transform .35s ease;transition:-webkit-transform .35s ease;transition:transform .35s ease;transition:transform .35s ease,-webkit-transform .35s ease;will-change:transform}.modal-body{padding:40px}.modal-title{font-family:acumin-pro-extra-condensed,sans-serif!important;font-weight:500!important;font-size:36px!important;margin:0;text-transform:uppercase}\@media screen and (min-width:480px){.modal-title{font-size:52.2px!important}}input{background-image:none;-webkit-box-shadow:none;box-shadow:none}input[type=text]{background-color:#f4f4f4;border:1px solid #f4f4f4;border-radius:0;color:#4d4d4d;display:block;font-size:16px;line-height:1.5;padding:8px 10px;-webkit-transition:border-color .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;transition:border-color .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;width:100%}input:focus{border-color:#8bceed;-webkit-box-shadow:inset 0 0 0 1px rgba(139,206,237,.5);box-shadow:inset 0 0 0 1px rgba(139,206,237,.5)}input[type=submit]{-webkit-appearance:button;-moz-appearance:button;appearance:button;background-color:#0095d9;border:1px solid #0095d9;border-radius:4px;color:#fff;cursor:pointer;font-size:16px;line-height:1;margin-top:24px;padding:14px 20px 16px}input[type=submit],label{display:inline-block;margin-bottom:5px}label{font-weight:700;max-width:100%}.modal-close{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:hsla(0,0%,73.3%,.6);-o-border-image:none;border-image:none;border-radius:50%;border-style:none;color:#fff;cursor:pointer;height:25px;position:absolute;right:15px;top:15px;width:25px}.modal-close:after{font-family:acumin-pro,helvetica,arial,sans-serif!important;font-weight:300!important;bottom:3px;content:\"x\";display:inline-block;font-size:16px;position:relative}.modal-close:focus{outline:none}"},enumerable:true,configurable:true});return e}());var Co=function(){function e(){}e.articleIcon=function(){return r("path",{d:"M118.96 18.175c0 1.376-.481 2.547-1.445 3.51-.964.964-2.134 1.446-3.511 1.446H4.957c-1.377 0-2.547-.482-3.511-1.445C.482 20.722 0 19.55 0 18.175V4.957C0 3.58.482 2.41 1.446 1.446S3.58 0 4.956 0h109.048c1.377 0 2.547.482 3.51 1.446.965.964 1.447 2.134 1.447 3.51v13.219zM4.958 76.003c-1.377 0-2.547-.482-3.511-1.446S0 72.423 0 71.046V57.828c0-1.377.482-2.547 1.446-3.51.964-.965 2.134-1.447 3.51-1.447h175.137c1.377 0 2.547.482 3.511 1.446s1.446 2.134 1.446 3.511v13.218c0 1.377-.482 2.547-1.446 3.51-.964.965-2.134 1.447-3.51 1.447H4.956zm0 105.742c-1.377 0-2.547-.482-3.511-1.445C.482 179.336 0 178.166 0 176.789V163.57c0-1.377.482-2.547 1.446-3.511s2.134-1.446 3.51-1.446h175.137c1.377 0 2.547.482 3.511 1.446s1.446 2.134 1.446 3.51v13.219c0 1.377-.482 2.547-1.446 3.51-.964.964-2.134 1.446-3.51 1.446H4.956zm109.047-76.002c1.377 0 2.547.482 3.51 1.445.965.964 1.447 2.135 1.447 3.511v13.218c0 1.377-.482 2.547-1.446 3.511s-2.134 1.446-3.511 1.446H4.957c-1.377 0-2.547-.482-3.511-1.446S0 125.294 0 123.918v-13.219c0-1.376.482-2.547 1.446-3.51.964-.964 2.134-1.446 3.51-1.446h109.048z"})};e.podcastIcon=function(){return r("path",{d:"M30.857 41.151c0-11.43 4-21.147 12-29.149C50.857 4.001 60.571 0 72 0c11.428 0 21.143 4 29.143 12.002s12 17.718 12 29.149v68.585c0 11.43-4 21.147-12 29.149-8 8.001-17.715 12.002-29.143 12.002-11.429 0-21.143-4-29.143-12.002s-12-17.718-12-29.15V41.152zm108 44.58c1.428 0 2.643.5 3.643 1.5s1.5 2.215 1.5 3.644v18.86c0 12.003-2.715 23.077-8.143 33.222-5.429 10.145-12.857 18.575-22.286 25.29-9.428 6.716-19.857 10.931-31.285 12.646v19.718h29.142c1.429 0 2.643.5 3.643 1.5s1.5 2.215 1.5 3.644v8.573c0 1.429-.5 2.643-1.5 3.644-1 1-2.214 1.5-3.643 1.5H32.571c-1.428 0-2.643-.5-3.642-1.5-1-1-1.5-2.215-1.5-3.644v-8.573c0-1.429.5-2.643 1.5-3.644 1-1 2.214-1.5 3.642-1.5h29.143v-19.718c-11.428-1.715-21.857-5.93-31.286-12.645-9.428-6.716-16.857-15.146-22.285-25.291C2.714 132.812 0 121.738 0 109.736v-18.86c0-1.43.5-2.644 1.5-3.644s2.214-1.5 3.643-1.5h10.286c1.428 0 2.642.5 3.642 1.5s1.5 2.214 1.5 3.643v18.86c0 9.431 2.358 18.076 7.072 25.935 4.714 7.858 11 14.074 18.857 18.646 7.857 4.573 16.428 6.859 25.714 6.859 9.286 0 17.857-2.358 25.714-7.073 7.857-4.715 14.072-11.074 18.643-19.075 4.572-8.002 6.857-16.575 6.857-25.72V90.875c0-1.429.5-2.643 1.5-3.643s2.215-1.5 3.643-1.5h10.286z"})};e.videoIcon=function(){return r("path",{d:"M168.209 84.996c4.231 2.371 7.075 5.665 8.53 9.88 1.454 4.217 1.454 8.433 0 12.649-1.455 4.216-4.299 7.51-8.53 9.88L28.564 199.619c-3.967 2.371-8.2 3.162-12.695 2.371-4.496-.79-8.265-2.898-11.307-6.324C1.521 192.24 0 188.155 0 183.412V18.99c0-5.27 1.587-9.552 4.76-12.845C7.935 2.85 11.77.874 16.266.214c4.497-.658 8.596.198 12.299 2.57l139.645 82.212z"})};e.bullseyeIcon=function(e,t,n){return r("svg",{width:e,height:t,"aria-hidden":"true",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512"},r("path",{fill:n,d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"}))};return e}();var ko=Oe(__makeTemplateObject(["\n{\n    user {\n        lifeStage {\n            id\n            title\n        }\n    }\n}\n"],["\n{\n    user {\n        lifeStage {\n            id\n            title\n        }\n    }\n}\n"]));var Io=Oe(__makeTemplateObject(["\n{\n  lifeStages{\n    title\n    description\n    id\n    imageUrl\n    contentType\n    contentTotal\n    content {\n        id\n        title\n        authors {\n            fullName\n            qualifiedUrl\n        }\n        duration\n        contentType\n        category\n        slug\n        qualifiedUrl\n        imageUrl\n    }\n  }\n}\n"],["\n{\n  lifeStages{\n    title\n    description\n    id\n    imageUrl\n    contentType\n    contentTotal\n    content {\n        id\n        title\n        authors {\n            fullName\n            qualifiedUrl\n        }\n        duration\n        contentType\n        category\n        slug\n        qualifiedUrl\n        imageUrl\n    }\n  }\n}\n"]));var Oo=Oe(__makeTemplateObject(["\nmutation setLifeStage($lifeStage: LifeStageInput)\n {\n  setLifeStage(lifeStage: $lifeStage) {\n    lifeStage {\n      title\n      id\n    }\n  }\n}"],["\nmutation setLifeStage($lifeStage: LifeStageInput)\n {\n  setLifeStage(lifeStage: $lifeStage) {\n    lifeStage {\n      title\n      id\n    }\n  }\n}"]));var Ro=e("crds_recommended_content",function(){function e(e){t(this,e);this.analytics=window["analytics"]||{};this.crdsDefaultImg="https://crds-cms-uploads.imgix.net/content/images/cr-social-sharing-still-bg.jpg";this.recommendedContent=[];this.lifeStages=[];this.user={name:"",lifeStage:null}}e.prototype.authTokenHandler=function(e,t){if(e!==t){this.apolloClient=pa(e);this.getUser()}};e.prototype.componentWillLoad=function(){this.apolloClient=pa(this.authToken);this.getLifeStages();this.getUser()};e.prototype.componentDidLoad=function(){a.trackInView(this.host,"RecommendedContentComponent",this.getLifeStageId.bind(this))};e.prototype.componentWillRender=function(){if(this.user.lifeStage&&this.user.lifeStage.id!==null&&this.lifeStages.length)return this.filterContent(this.user.lifeStage.id)};e.prototype.getLifeStageId=function(){return this.user.lifeStage&&this.user.lifeStage.id};e.prototype.getUser=function(){var e=this;if(!this.authToken)return null;return this.apolloClient.query({query:ko}).then((function(t){var r=t.data.user.lifeStage&&t.data.user.lifeStage.title;var n=t.data.user.lifeStage&&t.data.user.lifeStage.id;e.user=Object.assign(Object.assign({},e.user),{lifeStage:{id:n,title:r}});e.host.forceUpdate()}))};e.prototype.getLifeStages=function(){var e=this;return this.apolloClient.query({query:Io}).then((function(t){e.lifeStages=t.data.lifeStages;e.host.forceUpdate()}))};e.prototype.filterContent=function(e){return this.recommendedContent=this.lifeStages.find((function(t){return t.id===e})).content};e.prototype.handleBackClick=function(e){this.recommendedContent=[];this.user=Object.assign(Object.assign({},this.user),{lifeStage:{id:null,title:null}});e.target.parentNode.scrollLeft=0};e.prototype.handleContentClicked=function(e){try{this.analytics.track("RecommendedContentClicked",{parent:this.host.tagName,title:e.currentTarget.querySelector(".component-header").innerText,targetUrl:e.target.parentElement.href,lifeStageId:this.user.lifeStage.id,lifeStageName:this.user.lifeStage.title})}catch(e){console.error(e)}};e.prototype.setLifeStage=function(e,t){var r=e?{id:e,title:t}:null;return this.apolloClient.mutate({variables:{lifeStage:r},mutation:Oo}).catch((function(e){return console.error(e)}))};e.prototype.handleLifeStageClicked=function(e){var t=e.target;var r=this.host.shadowRoot.querySelectorAll("[data-life-stage-id]");r.forEach((function(e){return e.classList.add("disabled")}));this.user=Object.assign(Object.assign({},this.user),{lifeStage:{id:t.dataset.lifeStageId,title:t.dataset.lifeStageName}});try{this.analytics.track("LifeStageUpdated",{lifeStageId:this.user.lifeStage.id,lifeStageName:this.user.lifeStage.title})}catch(e){console.error(e)}this.filterContent(this.user.lifeStage.id);t.parentNode.scrollLeft=0;r.forEach((function(e){return e.classList.remove("disabled")}));this.setLifeStage(this.user.lifeStage.id,this.user.lifeStage.title)};e.prototype.renderCardSkeleton=function(){return[1,2,3,4,5].map((function(){return r("div",{class:"skeleton skeleton-life-stage"},r("div",{class:"content"},r("div",{class:"text title shimmer shimmer-reverse"}),r("div",{class:"text subtitle shimmer shimmer-reverse"})))}))};e.prototype.renderTextSkeleton=function(){return r("div",{class:"skeleton text-skeleton"},r("div",{class:"title shimmer"}),r("div",{class:"subtitle shimmer"}))};e.prototype.renderLifeStages=function(){var e=this;return this.lifeStages.map((function(t,n){return r("div",{class:"card "+(e.recommendedContent.length?"d-none":""),key:n,style:{backgroundImage:"url("+a.imgixify(t.imageUrl+"?auto=format&h=400"),backgroundSize:"cover",backgroundPosition:"center"},"data-life-stage-name":t.title,"data-life-stage-id":t.id,onClick:function(t){return e.handleLifeStageClicked(t)}},r("div",{class:"bg-overlay"}),r("div",{class:"card-content"},r("h2",{class:"card-title component-header"},t.title),r("h3",{class:"card-subtitle"},t.contentTotal+" items")))}))};e.prototype.renderMediaLabel=function(e,t){if(e!=="series"){return r("div",{class:"media-label bg-charcoal text-white align-items-center"},t&&r("span",{class:"font-size-smallest"},t),this.renderIcon(e))}};e.prototype.renderIcon=function(e){var t;switch(e){case"video":t=Co.videoIcon();break;case"message":t=Co.videoIcon();break;case"podcast":t=Co.podcastIcon();break;case"episode":t=Co.podcastIcon();break;case"article":t=Co.articleIcon();break}return r("svg",{class:"icon",viewBox:"0 0 256 256"},t)};e.prototype.renderRecommendedContent=function(){var e=this;var t=window.innerWidth>767?"?auto=format&w=400&h=225&fit=crop":"?auto=format&w=262&h=196.5&fit=crop";return this.recommendedContent.map((function(n,i){return r("div",{class:"card",key:i,onClick:function(t){return e.handleContentClicked(t)}},r("a",{class:"relative d-block",href:n.qualifiedUrl},e.renderMediaLabel(n.contentType,n.duration),r("img",{src:(n.imageUrl||e.crdsDefaultImg)+t,class:"img-responsive"})),r("a",{href:n.qualifiedUrl},r("h4",{class:"text-gray font-size-smaller font-weight-mid text-uppercase soft-quarter-top"},n.category),r("h3",{class:"component-header"},n.title),n.authors&&r("p",{class:"soft-quarter-top"},n.authors.map((function(e,t){return r("a",{class:"text-gray-light font-size-smaller",href:e.qualifiedUrl,style:{color:"inherit",display:"inline-block",textDecoration:"none"}},e.fullName,t<n.authors.length-1?r("span",null,", "):"")})))))}))};e.prototype.renderText=function(){var e=this;var t=this.lifeStages.find((function(t){return t.id===(e.user.lifeStage&&e.user.lifeStage.id)}));return r("div",null,r("h2",{class:"component-header flush-bottom"},this.recommendedContent.length&&t?"Recommended For You":"Personalize Your Experience"),r("p",{class:"push-half-top push-half-bottom color-gray"},this.recommendedContent.length&&t?t.description:"Which of these best describes your stage of life? (Pick one)"))};e.prototype.render=function(){var e=this;var t=this.lifeStages.length&&this.user.lifeStage&&!this.user.lifeStage.id;var n=this.recommendedContent.length;var i="cards "+(this.recommendedContent.length?"media-cards":"");return r("div",{class:"life-stages"},r("div",{class:"life-stages-inner"},r("div",{class:"life-stages-header"},function(){if(t||n)return e.renderText();return e.renderTextSkeleton()}(),!!this.recommendedContent.length&&r("div",{class:"life-stage-selected"},r("a",{class:"btn btn-gray-light btn-outline btn-sm back-btn flush",onClick:function(t){return e.handleBackClick(t)}},"change"))),r("div",{class:i},function(){if(t)return e.renderLifeStages();if(n)return e.renderRecommendedContent();return e.renderCardSkeleton()}())))};Object.defineProperty(e.prototype,"host",{get:function(){return n(this)},enumerable:true,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{authToken:["authTokenHandler"]}},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return"*{-webkit-box-sizing:border-box;box-sizing:border-box}.relative{position:relative}.overflow-hidden{overflow:hidden}.d-flex{display:-ms-flexbox;display:flex}.d-block{display:block}.d-inline{display:inline}.d-none{display:none}.align-items-center{-ms-flex-align:center;align-items:center}.w-100{width:100%}.img-responsive{display:block;height:auto;max-width:100%}hr{border:0;border-top:1px solid #e7e7e7;margin-bottom:1rem;margin-top:1rem}.font-family-base{font-family:acumin-pro,helvetica,arial,sans-serif!important;font-weight:300!important}.text-white{color:#fff!important}.text-gray-light{color:#979797!important}.text-gray{color:#737373!important}.text-center{text-align:center}.text-uppercase{text-transform:uppercase}.text-uppercase.font-size-smaller{font-size:13px!important;letter-spacing:.5px}.font-size-base{font-size:16px!important}\@media (min-width:480px){.font-size-base{font-size:19px!important}}.font-size-large{font-size:19px!important}\@media (min-width:480px){.font-size-large{font-size:22px!important}}.font-size-smaller{font-size:14px!important}.font-size-smallest{font-size:10px}.font-weight-mid{font-weight:500}.bg-charcoal{background-color:#171717}.flush{margin:0!important}.flush-bottom{margin-bottom:0!important}.flush-top{margin-top:0!important}.push-half-bottom{margin-bottom:12px!important}.push-bottom{margin-bottom:24px!important}.push-top{margin-top:24px}.push-half-top{margin-top:12px!important}.soft-quarter-top{padding-top:6px}.component-header{font-family:acumin-pro-extra-condensed;font-size:2rem;font-weight:500;line-height:.95;text-transform:uppercase}\@media (min-width:480px){.component-header{font-size:2.125rem}}.card>a{color:inherit;display:block;text-decoration:none}.card img{width:100%}.color-gray{color:#737373}.media-label{display:-ms-flexbox;display:flex;position:absolute;right:0;bottom:0;padding:6px 8px}.media-label>:not(:last-child){margin-right:5px}.media-label .icon{fill:#fff;height:16px;width:12px}.btn{display:inline-block;margin-bottom:0;font-weight:300;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;background-image:none;border:1px solid transparent;padding:8px 10px;font-size:16px;line-height:1.5;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:4px;line-height:1;margin-top:5px;margin-bottom:5px;font-size:14px;padding:13px 16px}.btn.btn-gray-light{color:#fff;background-color:#979797;border-color:#979797}.btn.btn-gray-light.btn-outline{background:transparent;border-style:solid;border-width:1px;color:#979797}.btn.btn-gray-light.btn-outline:hover{background-color:#979797;color:#fff}.btn.btn-sm{font-size:13px;padding:10px 16px 11px}.skeleton{position:relative}.skeleton,.skeleton .shimmer{overflow:hidden}.skeleton .shimmer:after{position:absolute;top:0;right:0;bottom:0;left:0;-webkit-transform:translateX(-100%);transform:translateX(-100%);background-image:linear-gradient(100deg,#f0f0f0 20%,hsla(0,0%,100%,.3) 30%,hsla(0,0%,100%,.7) 40%,#f0f0f0 50%);-webkit-animation:shimmer 1.5s infinite;animation:shimmer 1.5s infinite;-webkit-animation-timing-function:ease;animation-timing-function:ease;content:\"\"}.skeleton .shimmer-reverse:after{background-image:linear-gradient(100deg,#fff 20%,hsla(0,0%,94.1%,.3) 30%,hsla(0,0%,94.1%,.7) 40%,#fff 50%)}\@-webkit-keyframes shimmer{to{-webkit-transform:translateX(100%);transform:translateX(100%)}}\@keyframes shimmer{to{-webkit-transform:translateX(100%);transform:translateX(100%)}}h1,h2,h3,h4,h5,p{margin:0}.disabled{opacity:.5;pointer-events:none}.life-stages{background-color:#fff;min-height:300px;overflow:hidden}\@media (min-width:768px){.life-stages{min-height:500px}}.life-stages .life-stages-inner{-webkit-transition:all .45s ease;transition:all .45s ease}.life-stages .life-stages-header{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-bottom:1.875rem}\@media (min-width:768px){.life-stages .life-stages-header{-ms-flex-direction:row;flex-direction:row}}.life-stages .life-stages-header .life-stage-selected{font-size:.875rem}\@media (min-width:768px){.life-stages .life-stages-header .life-stage-selected{margin-left:auto}}.cards{display:grid;grid-auto-columns:180px;grid-auto-flow:column;grid-column:1/-1;grid-gap:1rem;-webkit-overflow-scrolling:touch;overflow-x:scroll;padding-bottom:1.875rem;-webkit-scroll-snap-type:x mandatory;-ms-scroll-snap-type:x mandatory;scroll-snap-type:x mandatory;scrollbar-base-color:transparent}.cards.media-cards{grid-auto-columns:262px}\@media (min-width:768px){.cards{grid-auto-columns:220px;grid-gap:1.875rem}.cards.media-cards{grid-auto-columns:400px}}.cards .card,.cards .skeleton-life-stage{cursor:pointer;height:340px;overflow:hidden;position:relative;scroll-snap-align:start}.cards .card:hover,.cards .skeleton-life-stage:hover{cursor:pointer}.cards .card:hover .bg-overlay,.cards .skeleton-life-stage:hover .bg-overlay{opacity:.75}.cards .card .bg-overlay,.cards .card .card-content,.cards .skeleton-life-stage .bg-overlay,.cards .skeleton-life-stage .card-content{bottom:0;pointer-events:none;position:absolute;width:100%}.cards .card .bg-overlay,.cards .skeleton-life-stage .bg-overlay{background:-webkit-gradient(linear,left bottom,left top,from(#000),color-stop(50%,transparent));background:linear-gradient(0deg,#000,transparent 50%);height:100%;-webkit-transition:all .45s ease;transition:all .45s ease}.cards .card .card-content,.cards .skeleton-life-stage .card-content{bottom:0;left:0;padding:1rem}.cards .card .card-content .card-subtitle,.cards .card .card-content .card-title,.cards .skeleton-life-stage .card-content .card-subtitle,.cards .skeleton-life-stage .card-content .card-title{letter-spacing:.5px;margin:0;text-transform:uppercase}.cards .card .card-content .card-title,.cards .skeleton-life-stage .card-content .card-title{color:#fff}.cards .card .card-content .card-subtitle,.cards .skeleton-life-stage .card-content .card-subtitle{color:hsla(0,0%,100%,.75);font-size:.75rem}.skeleton-life-stage{background-color:#f0f0f0}.skeleton-life-stage .content{bottom:0;padding:1rem;position:absolute;width:100%}.skeleton-life-stage .content .text{background-color:#fff;margin-top:.5rem;overflow:hidden;position:relative}.skeleton-life-stage .content .title{height:24px;width:90%}.skeleton-life-stage .content .subtitle{height:16px;width:55%}.text-skeleton{width:100%}.text-skeleton .subtitle,.text-skeleton .title{background-color:#f0f0f0;overflow:hidden;position:relative}.text-skeleton .title{height:24px;margin-bottom:1rem;width:35%}.text-skeleton .subtitle{height:16px;width:50%}"},enumerable:true,configurable:true});return e}());var Do=function(e,t){return __spreadArrays(t)};var _o=e("crds_shared_footer",function(){function e(e){t(this,e);this.env="prod";this.data=[]}e.prototype.componentWillLoad=function(){var e=this;var t=this.src||"https://crds-data.netlify.com/shared-footer/"+this.env+".json";Ao.get(t).then((function(t){return e.data=t.data}))};e.prototype.componentDidLoad=function(){this.element.parentElement.classList.add("shared-footer");this.element.parentElement.classList.remove("shared-footer-skeleton")};e.prototype.renderElement=function(e){if(!e.href)return e.title;var t={target:e.href.match(/:\/\//)?"_blank":"",href:e.href};if(e["automation-id"])t["data-automation-id"]=e["automation-id"];return r("a",Object.assign({},t),e.img?r("img",{src:e.img,alt:e.title,title:e.title}):e.title)};e.prototype.renderGroups=function(e){var t=this;var n=e.map((function(e){if(!e.children)return r("li",null,t.renderElement(e));return r(Do,null,r("p",null,e.title),r("ul",null,e.children.map((function(e){return r("li",null,t.renderElement(e))}))))}));var i=e.filter((function(e){return e.children})).length>0?"Fragment":"ul";return r(i,null,n)};e.prototype.renderColumns=function(){var e=this;return this.data.map((function(t){return r("div",{class:t.class},r("h5",null,e.renderElement(t)),e.renderGroups(t.children))}))};e.prototype.render=function(){if(this.data.length===0)return null;return r("footer",null,r("div",{class:"container"},this.renderColumns()))};Object.defineProperty(e.prototype,"element",{get:function(){return n(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return"footer{font-family:acumin-pro,helvetica,arial,sans-serif!important;font-weight:300!important;color:#737373;background-color:#e7e7e7;overflow:hidden;padding:3.125rem 0}footer .container{margin:0 auto;max-width:1170px}\@media only screen and (min-width:768px){footer .container{display:-ms-flexbox;display:flex}}footer .container div{padding-left:15px;padding-right:15px;margin-bottom:24px;vertical-align:top}\@media only screen and (min-width:768px){footer .container div{-ms-flex:1;flex:1;width:16.66667%}}footer .container div p{margin-bottom:0;font-weight:700}footer .container div ul{list-style-type:none;margin:0;padding-left:0}footer .container div.social-icons{padding-left:0}\@media only screen and (min-width:768px){footer .container div.social-icons{-ms-flex:2;flex:2;text-align:right;width:33.33333%}}footer .container div.social-icons li{display:inline}footer .container div.social-icons li a{-webkit-box-sizing:border-box;box-sizing:border-box;margin-left:.75rem;background:#737373;border-radius:50%;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-pack:center;justify-content:center;height:36px;width:36px;padding:10px}footer .container div.social-icons li a img{max-width:100%}footer .container a{color:#737373;text-decoration:none}footer .container h5{font-size:16.1px!important;line-height:1.1;margin:12px 0}"},enumerable:true,configurable:true});return e}());var No=e("crds_shared_header",function(){function e(e){t(this,e);this.env="prod";this.mainNavIsShowing=false;this.profileNavIsShowing=false;this.giveNavIsShowing=false;this.data=[]}e.prototype.componentWillLoad=function(){var e=this;var t=this.src||"https://crds-data.netlify.com/shared-header/"+this.env+".json";return Ao.get(t).then((function(t){return e.data=t.data})).catch((function(e){return console.error(e)}))};e.prototype.componentDidLoad=function(){this.element.parentElement.classList.add("shared-header");this.element.parentElement.classList.remove("shared-header-skeleton")};e.prototype.onClick=function(e,t){e.preventDefault();this.active=t};e.prototype.renderSections=function(e){var t=this;if(!e)return null;return e.map((function(e){var n=a.parameterize(e.title);return r("nav-section",{slug:n,onActivate:t.onClick.bind(t),isActive:t.active==n},r("h2",null,e.title),r("p",null,e.description))}))};e.prototype.handleBackClick=function(e){e.preventDefault();this.active=null};e.prototype.renderSubnavs=function(e){var t=this;if(!e)return null;var n=e.map((function(e){return r("nav-section-subnav",{onBack:t.handleBackClick.bind(t),active:t.active,slug:a.parameterize(e.title)},t.renderChildren(e))}));return r("div",{class:"subnavigation"},n)};e.prototype.renderChildren=function(e){var t=e.children.map((function(e){if(typeof e=="string"){return r("h4",null,e)}else{var t=e.map((function(e){return r("li",{class:e.top_level?"top-level":null},r("a",{href:e.href||"#","data-automation-id":e["automation-id"]},e.title))}));return r("ul",null,t)}}));return r(Do,null,r("h2",null,e.title),t)};e.prototype.toggleMenu=function(e,t){e.preventDefault();e.stopPropagation();if(t=="main-nav"){this.giveNavIsShowing=false;this.mainNavIsShowing=!this.mainNavIsShowing;this.profileNavIsShowing=false;if(this.mainNavIsShowing){document.body.setAttribute("style","overflow: hidden; position: absolute; width: 100vw;")}else{document.body.setAttribute("style","overflow: scroll;")}}else if(t=="profile-nav"){this.giveNavIsShowing=false;this.mainNavIsShowing=false;this.profileNavIsShowing=!this.profileNavIsShowing;return this.profileNavIsShowing?document.body.setAttribute("style","overflow: hidden; position: absolute; width: 100vw;"):document.body.setAttribute("style","overflow: scroll;")}else if(t=="give-nav"){this.giveNavIsShowing=!this.giveNavIsShowing;this.mainNavIsShowing=false;this.profileNavIsShowing=false;return this.giveNavIsShowing?document.body.setAttribute("style","overflow: hidden; position: absolute; width: 100vw;"):document.body.setAttribute("style","overflow: scroll; ")}};e.prototype.closeMenus=function(e){e.preventDefault();this.giveNavIsShowing=false;this.mainNavIsShowing=false;this.profileNavIsShowing=false;return document.body.setAttribute("style","overflow: scroll;")};e.prototype.navClasses=function(){var e=[];if(this.mainNavIsShowing)e.push("is-showing");if(this.active)e.push("section--"+this.active);if(this.profileNavIsShowing||this.giveNavIsShowing)e=[];return e.join(" ")};e.prototype.navCloseClasses=function(){var e=["close"];if(this.mainNavIsShowing||this.profileNavIsShowing||this.giveNavIsShowing)e.push("is-showing");return e.join(" ")};e.prototype.handleScroll=function(e){if(this.mainNavIsShowing||this.giveNavIsShowing||this.profileNavIsShowing){return document.body.setAttribute("style","overflow: scroll;"),this.closeMenus(e)}};e.prototype.render=function(){var e='<svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="times" class="svg-inline--fa fa-times fa-w-10" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="" d="M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"></path></svg>';return r(Do,null,r("global-nav",{mainNavIsShowing:this.mainNavIsShowing,profileNavIsShowing:this.profileNavIsShowing,giveNavIsShowing:this.giveNavIsShowing,navClickHandler:this.toggleMenu.bind(this),giveData:this.data.give,profileData:this.data.profile,config:this.data.config,env:this.env}),r("nav",{class:this.navClasses(),onClick:function(e){return e.stopPropagation()}},r("div",{class:"content"},r("div",{class:"navigation"},r("ul",null,this.renderSections(this.data.nav))),this.renderSubnavs(this.data.nav),r("nav-ctas",{active:this.active,data:this.data.promos}))),r("div",{class:this.navCloseClasses()},r("div",{class:"close-icon",innerHTML:e,onClick:this.closeMenus.bind(this)})))};Object.defineProperty(e.prototype,"element",{get:function(){return n(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return"\@media (max-width:992px){.subnavigation{left:100vw;padding-bottom:125px;position:absolute;top:0}}\@media (min-width:992px){.subnavigation{padding-top:47px}}.subnavigation h3{color:#fff;font-size:11px;opacity:.5;text-transform:uppercase}nav{background-color:#000;background-repeat:no-repeat;background-size:cover;color:#fff;display:none;font-family:acumin-pro,helvetica,arial,sans-serif;height:calc(100% - 47px);overflow-x:hidden;overflow-y:scroll;position:fixed;top:47px;-webkit-transform:translateX(0);transform:translateX(0);width:100vw;z-index:2;background-image:url(https://crds-media.imgix.net/7B6MoNNiWMZOtdusfRpipl/651049926b72990ae4f510a725cc2b26/nav-section-default-mobile.jpg?auto=format%2Ccompress)}nav.is-showing{display:block}\@media (min-width:768px){nav{height:100vh}}\@media (min-width:992px){nav{background-size:100%;background-image:url(https://crds-media.imgix.net/1OTqm9FjFl6wtjCXAkA04V/d44f06765e1fe0cf6a33ac3222b29302/nav-section-default.jpg?auto=format%2Ccompress)}}nav.section--come-visit{background-image:url(https://crds-media.imgix.net/7tP5INZjs0NUsWUlUDRpKv/6af5b40c0caf555a52876d51037de2a2/nav-section-locations-mobile.jpg?auto=format%2Ccompress)}\@media (min-width:992px){nav.section--come-visit{background-image:url(https://crds-media.imgix.net/49tv3Wjdt28dPnim7TbR89/6e9931a3700a3894510faa32d6dcea0f/nav-section-locations.jpg?auto=format%2Ccompress)}}nav.section--find-community{background-image:url(https://crds-media.imgix.net/67LrfkAcGom2zu23JncnA0/6e3c9b52f38f455d69f8b441d0d60726/nav-section-community-mobile.jpg?auto=format%2Ccompress)}\@media (min-width:992px){nav.section--find-community{background-image:url(https://crds-media.imgix.net/zEx1Ajg3dIlh5SpvzQ1qI/981c79df660b3dc5b393338a7640b2a1/nav-section-community.jpg?auto=format%2Ccompress)}}nav.section--get-support{background-image:url(https://crds-media.imgix.net/Cx02UnQr9sbVzjpXIcuqY/92b73ec270bf84af99c590bbd0173c54/nav-section-support-mobile.jpg?auto=format%2Ccompress)}\@media (min-width:992px){nav.section--get-support{background-image:url(https://crds-media.imgix.net/7i7YFUv6uY8MpwztZwIZE0/d093954885a5af29757040281c3b7e4c/nav-section-support.jpg?auto=format%2Ccompress)}}nav.section--watch-listen-read{background-image:url(https://crds-media.imgix.net/5lMvnR6A9cavGG4aS0zzO8/bcff1c0f42284f027a411b22a85bfb55/nav-section-media-mobile.jpg?auto=format%2Ccompress)}\@media (min-width:992px){nav.section--watch-listen-read{background-image:url(https://crds-media.imgix.net/59liSAMGW8dBCeUza5NUvj/b43c1e158ac599fd6debc40b916997d9/nav-section-media.jpg?auto=format%2Ccompress)}}nav .content{position:relative;width:200vw;z-index:3;margin:0 auto;max-width:1170px}\@media (max-width:992px){nav .content{padding-bottom:125px;-webkit-transform:translateX(0);transform:translateX(0);-webkit-transition:-webkit-transform .2s linear;transition:-webkit-transform .2s linear;transition:transform .2s linear;transition:transform .2s linear,-webkit-transform .2s linear}}\@media (min-width:992px){nav .content{display:-ms-flexbox;display:flex;padding-bottom:0}}\@media (max-width:992px){nav[class*=section--] .content{-webkit-transform:translateX(-100vw);transform:translateX(-100vw);-webkit-transition:-webkit-transform .2s linear;transition:-webkit-transform .2s linear;transition:transform .2s linear;transition:transform .2s linear,-webkit-transform .2s linear}}\@media (min-width:992px){nav[class*=section--] .ctas{display:none}}\@media (min-width:992px){nav[class*=section--] .subnavigation{width:calc(50% - 40px)}}.navigation{position:relative;width:100vw}\@media (min-width:992px){.navigation{margin-right:1.2%;width:50%}}.navigation ul{padding-left:0;margin:0;padding:30px 0 20px}.navigation ul li{list-style:none}\@media (min-width:992px){.navigation ul{padding:50px 20px 0;position:relative;z-index:1}}.navigation li{width:100%}.navigation:after{background-color:#d8d8d8;bottom:0;content:\"\";height:2px;left:20px;margin:0 auto;opacity:.2;position:absolute;width:calc(100vw - 40px)}\@media (min-width:992px){.navigation:after{background:-webkit-gradient(linear,left top,left bottom,from(#fff),to(hsla(0,0%,100%,0)));background:linear-gradient(180deg,#fff 0,hsla(0,0%,100%,0));height:100%;left:auto;right:56px;top:50px;width:2px}}.close{background:-webkit-gradient(linear,left top,left bottom,from(transparent),to(rgba(0,0,0,.9)));background:linear-gradient(180deg,transparent,rgba(0,0,0,.9));bottom:0;display:none;height:125px;padding-left:22px;position:fixed;width:100%;z-index:3}\@media (max-width:992px){.close.is-showing{display:block}}.close-icon{background-color:#0095d9;border-radius:50%;bottom:22px;-webkit-box-shadow:0 5px 24px -5px rgba(0,0,0,.75);box-shadow:0 5px 24px -5px rgba(0,0,0,.75);cursor:pointer;height:64px;position:absolute;width:64px}.close svg{fill:#fff;height:30px;left:50%;position:absolute;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:30px}"},enumerable:true,configurable:true});return e}());var Po=he((function(e,t){(function(t){var r={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}|~{3,})([^`~\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:"+"<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)"+"|comment[^\\n]*(\\n+|$)"+"|<\\?[\\s\\S]*?\\?>\\n*"+"|<![A-Z][\\s\\S]*?>\\n*"+"|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*"+"|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)"+"|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)"+"|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)"+")",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:y,table:y,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};r._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/;r._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;r.def=h(r.def).replace("label",r._label).replace("title",r._title).getRegex();r.bullet=/(?:[*+-]|\d{1,9}\.)/;r.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/;r.item=h(r.item,"gm").replace(/bull/g,r.bullet).getRegex();r.list=h(r.list).replace(/bull/g,r.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+r.def.source+")").getRegex();r._tag="address|article|aside|base|basefont|blockquote|body|caption"+"|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption"+"|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe"+"|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option"+"|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr"+"|track|ul";r._comment=/<!--(?!-?>)[\s\S]*?-->/;r.html=h(r.html,"i").replace("comment",r._comment).replace("tag",r._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();r.paragraph=h(r._paragraph).replace("hr",r.hr).replace("heading"," {0,3}#{1,6} +").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}|~{3,})[^`\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",r._tag).getRegex();r.blockquote=h(r.blockquote).replace("paragraph",r.paragraph).getRegex();r.normal=m({},r);r.gfm=m({},r.normal,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/});r.pedantic=m({},r.normal,{html:h("^ *(?:comment *(?:\\n|\\s*$)"+"|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)"+"|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",r._comment).replace(/tag/g,"(?!(?:"+"a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub"+"|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)"+"\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:y,paragraph:h(r.normal._paragraph).replace("hr",r.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",r.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});function n(e){this.tokens=[];this.tokens.links=Object.create(null);this.options=e||x.defaults;this.rules=r.normal;if(this.options.pedantic){this.rules=r.pedantic}else if(this.options.gfm){this.rules=r.gfm}}n.rules=r;n.lex=function(e,t){var r=new n(t);return r.lex(e)};n.prototype.lex=function(e){e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n");return this.token(e,true)};n.prototype.token=function(e,t){e=e.replace(/^ +$/gm,"");var n,i,s,a,o,u,c,l,h,d,p,v,g,y,m,S;while(e){if(s=this.rules.newline.exec(e)){e=e.substring(s[0].length);if(s[0].length>1){this.tokens.push({type:"space"})}}if(s=this.rules.code.exec(e)){var E=this.tokens[this.tokens.length-1];e=e.substring(s[0].length);if(E&&E.type==="paragraph"){E.text+="\n"+s[0].trimRight()}else{s=s[0].replace(/^ {4}/gm,"");this.tokens.push({type:"code",codeBlockStyle:"indented",text:!this.options.pedantic?w(s,"\n"):s})}continue}if(s=this.rules.fences.exec(e)){e=e.substring(s[0].length);this.tokens.push({type:"code",lang:s[2]?s[2].trim():s[2],text:s[3]||""});continue}if(s=this.rules.heading.exec(e)){e=e.substring(s[0].length);this.tokens.push({type:"heading",depth:s[1].length,text:s[2]});continue}if(s=this.rules.nptable.exec(e)){u={type:"table",header:b(s[1].replace(/^ *| *\| *$/g,"")),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3]?s[3].replace(/\n$/,"").split("\n"):[]};if(u.header.length===u.align.length){e=e.substring(s[0].length);for(p=0;p<u.align.length;p++){if(/^ *-+: *$/.test(u.align[p])){u.align[p]="right"}else if(/^ *:-+: *$/.test(u.align[p])){u.align[p]="center"}else if(/^ *:-+ *$/.test(u.align[p])){u.align[p]="left"}else{u.align[p]=null}}for(p=0;p<u.cells.length;p++){u.cells[p]=b(u.cells[p],u.header.length)}this.tokens.push(u);continue}}if(s=this.rules.hr.exec(e)){e=e.substring(s[0].length);this.tokens.push({type:"hr"});continue}if(s=this.rules.blockquote.exec(e)){e=e.substring(s[0].length);this.tokens.push({type:"blockquote_start"});s=s[0].replace(/^ *> ?/gm,"");this.token(s,t);this.tokens.push({type:"blockquote_end"});continue}if(s=this.rules.list.exec(e)){e=e.substring(s[0].length);a=s[2];y=a.length>1;c={type:"list_start",ordered:y,start:y?+a:"",loose:false};this.tokens.push(c);s=s[0].match(this.rules.item);l=[];n=false;g=s.length;p=0;for(;p<g;p++){u=s[p];d=u.length;u=u.replace(/^ *([*+-]|\d+\.) */,"");if(~u.indexOf("\n ")){d-=u.length;u=!this.options.pedantic?u.replace(new RegExp("^ {1,"+d+"}","gm"),""):u.replace(/^ {1,4}/gm,"")}if(p!==g-1){o=r.bullet.exec(s[p+1])[0];if(a.length>1?o.length===1:o.length>1||this.options.smartLists&&o!==a){e=s.slice(p+1).join("\n")+e;p=g-1}}i=n||/\n\n(?!\s*$)/.test(u);if(p!==g-1){n=u.charAt(u.length-1)==="\n";if(!i)i=n}if(i){c.loose=true}m=/^\[[ xX]\] /.test(u);S=undefined;if(m){S=u[1]!==" ";u=u.replace(/^\[[ xX]\] +/,"")}h={type:"list_item_start",task:m,checked:S,loose:i};l.push(h);this.tokens.push(h);this.token(u,false);this.tokens.push({type:"list_item_end"})}if(c.loose){g=l.length;p=0;for(;p<g;p++){l[p].loose=true}}this.tokens.push({type:"list_end"});continue}if(s=this.rules.html.exec(e)){e=e.substring(s[0].length);this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&(s[1]==="pre"||s[1]==="script"||s[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):f(s[0]):s[0]});continue}if(t&&(s=this.rules.def.exec(e))){e=e.substring(s[0].length);if(s[3])s[3]=s[3].substring(1,s[3].length-1);v=s[1].toLowerCase().replace(/\s+/g," ");if(!this.tokens.links[v]){this.tokens.links[v]={href:s[2],title:s[3]}}continue}if(s=this.rules.table.exec(e)){u={type:"table",header:b(s[1].replace(/^ *| *\| *$/g,"")),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3]?s[3].replace(/\n$/,"").split("\n"):[]};if(u.header.length===u.align.length){e=e.substring(s[0].length);for(p=0;p<u.align.length;p++){if(/^ *-+: *$/.test(u.align[p])){u.align[p]="right"}else if(/^ *:-+: *$/.test(u.align[p])){u.align[p]="center"}else if(/^ *:-+ *$/.test(u.align[p])){u.align[p]="left"}else{u.align[p]=null}}for(p=0;p<u.cells.length;p++){u.cells[p]=b(u.cells[p].replace(/^ *\| *| *\| *$/g,""),u.header.length)}this.tokens.push(u);continue}}if(s=this.rules.lheading.exec(e)){e=e.substring(s[0].length);this.tokens.push({type:"heading",depth:s[2].charAt(0)==="="?1:2,text:s[1]});continue}if(t&&(s=this.rules.paragraph.exec(e))){e=e.substring(s[0].length);this.tokens.push({type:"paragraph",text:s[1].charAt(s[1].length-1)==="\n"?s[1].slice(0,-1):s[1]});continue}if(s=this.rules.text.exec(e)){e=e.substring(s[0].length);this.tokens.push({type:"text",text:s[0]});continue}if(e){throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}}return this.tokens};var i={escape:/^\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:y,tag:"^comment"+"|^</[a-zA-Z][\\w:-]*\\s*>"+"|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>"+"|^<\\?[\\s\\S]*?\\?>"+"|^<![a-zA-Z]+\\s[\\s\\S]*?>"+"|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:y,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};i._punctuation="!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~";i.em=h(i.em).replace(/punctuation/g,i._punctuation).getRegex();i._escapes=/\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/g;i._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;i._email=/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;i.autolink=h(i.autolink).replace("scheme",i._scheme).replace("email",i._email).getRegex();i._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;i.tag=h(i.tag).replace("comment",r._comment).replace("attribute",i._attribute).getRegex();i._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;i._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/;i._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;i.link=h(i.link).replace("label",i._label).replace("href",i._href).replace("title",i._title).getRegex();i.reflink=h(i.reflink).replace("label",i._label).getRegex();i.normal=m({},i);i.pedantic=m({},i.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:h(/^!?\[(label)\]\((.*?)\)/).replace("label",i._label).getRegex(),reflink:h(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",i._label).getRegex()});i.gfm=m({},i.normal,{escape:h(i.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/});i.gfm.url=h(i.gfm.url,"i").replace("email",i.gfm._extended_email).getRegex();i.breaks=m({},i.gfm,{br:h(i.br).replace("{2,}","*").getRegex(),text:h(i.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function s(e,t){this.options=t||x.defaults;this.links=e;this.rules=i.normal;this.renderer=this.options.renderer||new a;this.renderer.options=this.options;if(!this.links){throw new Error("Tokens array requires a `links` property.")}if(this.options.pedantic){this.rules=i.pedantic}else if(this.options.gfm){if(this.options.breaks){this.rules=i.breaks}else{this.rules=i.gfm}}}s.rules=i;s.output=function(e,t,r){var n=new s(t,r);return n.output(e)};s.prototype.output=function(e){var t="",r,n,i,a,o,u;while(e){if(o=this.rules.escape.exec(e)){e=e.substring(o[0].length);t+=f(o[1]);continue}if(o=this.rules.tag.exec(e)){if(!this.inLink&&/^<a /i.test(o[0])){this.inLink=true}else if(this.inLink&&/^<\/a>/i.test(o[0])){this.inLink=false}if(!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(o[0])){this.inRawBlock=true}else if(this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(o[0])){this.inRawBlock=false}e=e.substring(o[0].length);t+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):f(o[0]):o[0];continue}if(o=this.rules.link.exec(e)){var c=S(o[2],"()");if(c>-1){var l=4+o[1].length+c;o[2]=o[2].substring(0,c);o[0]=o[0].substring(0,l).trim();o[3]=""}e=e.substring(o[0].length);this.inLink=true;i=o[2];if(this.options.pedantic){r=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);if(r){i=r[1];a=r[3]}else{a=""}}else{a=o[3]?o[3].slice(1,-1):""}i=i.trim().replace(/^<([\s\S]*)>$/,"$1");t+=this.outputLink(o,{href:s.escapes(i),title:s.escapes(a)});this.inLink=false;continue}if((o=this.rules.reflink.exec(e))||(o=this.rules.nolink.exec(e))){e=e.substring(o[0].length);r=(o[2]||o[1]).replace(/\s+/g," ");r=this.links[r.toLowerCase()];if(!r||!r.href){t+=o[0].charAt(0);e=o[0].substring(1)+e;continue}this.inLink=true;t+=this.outputLink(o,r);this.inLink=false;continue}if(o=this.rules.strong.exec(e)){e=e.substring(o[0].length);t+=this.renderer.strong(this.output(o[4]||o[3]||o[2]||o[1]));continue}if(o=this.rules.em.exec(e)){e=e.substring(o[0].length);t+=this.renderer.em(this.output(o[6]||o[5]||o[4]||o[3]||o[2]||o[1]));continue}if(o=this.rules.code.exec(e)){e=e.substring(o[0].length);t+=this.renderer.codespan(f(o[2].trim(),true));continue}if(o=this.rules.br.exec(e)){e=e.substring(o[0].length);t+=this.renderer.br();continue}if(o=this.rules.del.exec(e)){e=e.substring(o[0].length);t+=this.renderer.del(this.output(o[1]));continue}if(o=this.rules.autolink.exec(e)){e=e.substring(o[0].length);if(o[2]==="@"){n=f(this.mangle(o[1]));i="mailto:"+n}else{n=f(o[1]);i=n}t+=this.renderer.link(i,null,n);continue}if(!this.inLink&&(o=this.rules.url.exec(e))){if(o[2]==="@"){n=f(o[0]);i="mailto:"+n}else{do{u=o[0];o[0]=this.rules._backpedal.exec(o[0])[0]}while(u!==o[0]);n=f(o[0]);if(o[1]==="www."){i="http://"+n}else{i=n}}e=e.substring(o[0].length);t+=this.renderer.link(i,null,n);continue}if(o=this.rules.text.exec(e)){e=e.substring(o[0].length);if(this.inRawBlock){t+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):f(o[0]):o[0])}else{t+=this.renderer.text(f(this.smartypants(o[0])))}continue}if(e){throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}}return t};s.escapes=function(e){return e?e.replace(s.rules._escapes,"$1"):e};s.prototype.outputLink=function(e,t){var r=t.href,n=t.title?f(t.title):null;return e[0].charAt(0)!=="!"?this.renderer.link(r,n,this.output(e[1])):this.renderer.image(r,n,f(e[1]))};s.prototype.smartypants=function(e){if(!this.options.smartypants)return e;return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")};s.prototype.mangle=function(e){if(!this.options.mangle)return e;var t="",r=e.length,n=0,i;for(;n<r;n++){i=e.charCodeAt(n);if(Math.random()>.5){i="x"+i.toString(16)}t+="&#"+i+";"}return t};function a(e){this.options=e||x.defaults}a.prototype.code=function(e,t,r){var n=(t||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(e,n);if(i!=null&&i!==e){r=true;e=i}}if(!n){return"<pre><code>"+(r?e:f(e,true))+"</code></pre>"}return'<pre><code class="'+this.options.langPrefix+f(n,true)+'">'+(r?e:f(e,true))+"</code></pre>\n"};a.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"};a.prototype.html=function(e){return e};a.prototype.heading=function(e,t,r,n){if(this.options.headerIds){return"<h"+t+' id="'+this.options.headerPrefix+n.slug(r)+'">'+e+"</h"+t+">\n"}return"<h"+t+">"+e+"</h"+t+">\n"};a.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"};a.prototype.list=function(e,t,r){var n=t?"ol":"ul",i=t&&r!==1?' start="'+r+'"':"";return"<"+n+i+">\n"+e+"</"+n+">\n"};a.prototype.listitem=function(e){return"<li>"+e+"</li>\n"};a.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "};a.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"};a.prototype.table=function(e,t){if(t)t="<tbody>"+t+"</tbody>";return"<table>\n"+"<thead>\n"+e+"</thead>\n"+t+"</table>\n"};a.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"};a.prototype.tablecell=function(e,t){var r=t.header?"th":"td";var n=t.align?"<"+r+' align="'+t.align+'">':"<"+r+">";return n+e+"</"+r+">\n"};a.prototype.strong=function(e){return"<strong>"+e+"</strong>"};a.prototype.em=function(e){return"<em>"+e+"</em>"};a.prototype.codespan=function(e){return"<code>"+e+"</code>"};a.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"};a.prototype.del=function(e){return"<del>"+e+"</del>"};a.prototype.link=function(e,t,r){e=d(this.options.sanitize,this.options.baseUrl,e);if(e===null){return r}var n='<a href="'+f(e)+'"';if(t){n+=' title="'+t+'"'}n+=">"+r+"</a>";return n};a.prototype.image=function(e,t,r){e=d(this.options.sanitize,this.options.baseUrl,e);if(e===null){return r}var n='<img src="'+e+'" alt="'+r+'"';if(t){n+=' title="'+t+'"'}n+=this.options.xhtml?"/>":">";return n};a.prototype.text=function(e){return e};function o(){}o.prototype.strong=o.prototype.em=o.prototype.codespan=o.prototype.del=o.prototype.text=function(e){return e};o.prototype.link=o.prototype.image=function(e,t,r){return""+r};o.prototype.br=function(){return""};function u(e){this.tokens=[];this.token=null;this.options=e||x.defaults;this.options.renderer=this.options.renderer||new a;this.renderer=this.options.renderer;this.renderer.options=this.options;this.slugger=new c}u.parse=function(e,t){var r=new u(t);return r.parse(e)};u.prototype.parse=function(e){this.inline=new s(e.links,this.options);this.inlineText=new s(e.links,m({},this.options,{renderer:new o}));this.tokens=e.reverse();var t="";while(this.next()){t+=this.tok()}return t};u.prototype.next=function(){this.token=this.tokens.pop();return this.token};u.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0};u.prototype.parseText=function(){var e=this.token.text;while(this.peek().type==="text"){e+="\n"+this.next().text}return this.inline.output(e)};u.prototype.tok=function(){switch(this.token.type){case"space":{return""}case"hr":{return this.renderer.hr()}case"heading":{return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,l(this.inlineText.output(this.token.text)),this.slugger)}case"code":{return this.renderer.code(this.token.text,this.token.lang,this.token.escaped)}case"table":{var e="",t="",r,n,i,s;i="";for(r=0;r<this.token.header.length;r++){i+=this.renderer.tablecell(this.inline.output(this.token.header[r]),{header:true,align:this.token.align[r]})}e+=this.renderer.tablerow(i);for(r=0;r<this.token.cells.length;r++){n=this.token.cells[r];i="";for(s=0;s<n.length;s++){i+=this.renderer.tablecell(this.inline.output(n[s]),{header:false,align:this.token.align[s]})}t+=this.renderer.tablerow(i)}return this.renderer.table(e,t)}case"blockquote_start":{t="";while(this.next().type!=="blockquote_end"){t+=this.tok()}return this.renderer.blockquote(t)}case"list_start":{t="";var a=this.token.ordered,o=this.token.start;while(this.next().type!=="list_end"){t+=this.tok()}return this.renderer.list(t,a,o)}case"list_item_start":{t="";var u=this.token.loose;var c=this.token.checked;var f=this.token.task;if(this.token.task){t+=this.renderer.checkbox(c)}while(this.next().type!=="list_item_end"){t+=!u&&this.token.type==="text"?this.parseText():this.tok()}return this.renderer.listitem(t,f,c)}case"html":{return this.renderer.html(this.token.text)}case"paragraph":{return this.renderer.paragraph(this.inline.output(this.token.text))}case"text":{return this.renderer.paragraph(this.parseText())}default:{var h='Token with "'+this.token.type+'" type was not found.';if(this.options.silent){console.log(h)}else{throw new Error(h)}}}};function c(){this.seen={}}c.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,.\/:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){var r=t;do{this.seen[r]++;t=r+"-"+this.seen[r]}while(this.seen.hasOwnProperty(t))}this.seen[t]=0;return t};function f(e,t){if(t){if(f.escapeTest.test(e)){return e.replace(f.escapeReplace,(function(e){return f.replacements[e]}))}}else{if(f.escapeTestNoEncode.test(e)){return e.replace(f.escapeReplaceNoEncode,(function(e){return f.replacements[e]}))}}return e}f.escapeTest=/[&<>"']/;f.escapeReplace=/[&<>"']/g;f.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};f.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/;f.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;function l(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,(function(e,t){t=t.toLowerCase();if(t==="colon")return":";if(t.charAt(0)==="#"){return t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1))}return""}))}function h(e,t){e=e.source||e;t=t||"";return{replace:function(t,r){r=r.source||r;r=r.replace(/(^|[^\[])\^/g,"$1");e=e.replace(t,r);return this},getRegex:function(){return new RegExp(e,t)}}}function d(e,t,r){if(e){try{var n=decodeURIComponent(l(r)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0){return null}}if(t&&!g.test(r)){r=p(t,r)}try{r=encodeURI(r).replace(/%25/g,"%")}catch(e){return null}return r}function p(e,t){if(!v[" "+e]){if(/^[^:]+:\/*[^\/]*$/.test(e)){v[" "+e]=e+"/"}else{v[" "+e]=w(e,"/",true)}}e=v[" "+e];if(t.slice(0,2)==="//"){return e.replace(/:[\s\S]*/,":")+t}else if(t.charAt(0)==="/"){return e.replace(/(:\/*[^\/]*)[\s\S]*/,"$1")+t}else{return e+t}}var v={};var g=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function y(){}y.exec=y;function m(e){var t=1,r,n;for(;t<arguments.length;t++){r=arguments[t];for(n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e}function b(e,t){var r=e.replace(/\|/g,(function(e,t,r){var n=false,i=t;while(--i>=0&&r[i]==="\\")n=!n;if(n){return"|"}else{return" |"}})),n=r.split(/ \|/),i=0;if(n.length>t){n.splice(t)}else{while(n.length<t)n.push("")}for(;i<n.length;i++){n[i]=n[i].trim().replace(/\\\|/g,"|")}return n}function w(e,t,r){if(e.length===0){return""}var n=0;while(n<e.length){var i=e.charAt(e.length-n-1);if(i===t&&!r){n++}else if(i!==t&&r){n++}else{break}}return e.substr(0,e.length-n)}function S(e,t){if(e.indexOf(t[1])===-1){return-1}var r=0;for(var n=0;n<e.length;n++){if(e[n]==="\\"){n++}else if(e[n]===t[0]){r++}else if(e[n]===t[1]){r--;if(r<0){return n}}}return-1}function E(e){if(e&&e.sanitize&&!e.silent){console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}}function x(e,t,r){if(typeof e==="undefined"||e===null){throw new Error("marked(): input parameter is undefined or null")}if(typeof e!=="string"){throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected")}if(r||typeof t==="function"){if(!r){r=t;t=null}t=m({},x.defaults,t||{});E(t);var i=t.highlight,s,a,o=0;try{s=n.lex(e,t)}catch(e){return r(e)}a=s.length;var c=function(e){if(e){t.highlight=i;return r(e)}var n;try{n=u.parse(s,t)}catch(t){e=t}t.highlight=i;return e?r(e):r(null,n)};if(!i||i.length<3){return c()}delete t.highlight;if(!a)return c();for(;o<s.length;o++){(function(e){if(e.type!=="code"){return--a||c()}return i(e.text,e.lang,(function(t,r){if(t)return c(t);if(r==null||r===e.text){return--a||c()}e.text=r;e.escaped=true;--a||c()}))})(s[o])}return}try{if(t)t=m({},x.defaults,t);E(t);return u.parse(n.lex(e,t),t)}catch(e){e.message+="\nPlease report this to https://github.com/markedjs/marked.";if((t||x.defaults).silent){return"<p>An error occurred:</p><pre>"+f(e.message+"",true)+"</pre>"}throw e}}x.options=x.setOptions=function(e){m(x.defaults,e);return x};x.getDefaults=function(){return{baseUrl:null,breaks:false,gfm:true,headerIds:true,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:true,pedantic:false,renderer:new a,sanitize:false,sanitizer:null,silent:false,smartLists:false,smartypants:false,xhtml:false}};x.defaults=x.getDefaults();x.Parser=u;x.parser=u.parse;x.Renderer=a;x.TextRenderer=o;x.Lexer=n;x.lexer=n.lex;x.InlineLexer=s;x.inlineLexer=s.output;x.Slugger=c;x.parse=x;{e.exports=x}})()}));var jo=Oe(__makeTemplateObject(['\n  {\n    sites(filter: "Available_Online = 1") {\n      name\n      id\n    }\n  }\n'],['\n  {\n    sites(filter: "Available_Online = 1") {\n      name\n      id\n    }\n  }\n']));var Bo=Oe(__makeTemplateObject(["\n  {\n    user {\n      site {\n        id\n        name\n      }\n    }\n  }\n"],["\n  {\n    user {\n      site {\n        id\n        name\n      }\n    }\n  }\n"]));var Lo=Oe(__makeTemplateObject(["\n  {\n    promos {\n      targetAudience\n      title\n      description\n      qualifiedUrl\n      imageUrl\n    }\n  }\n"],["\n  {\n    promos {\n      targetAudience\n      title\n      description\n      qualifiedUrl\n      imageUrl\n    }\n  }\n"]));var Ho=Oe(__makeTemplateObject(["\n  mutation setSite($siteId: ID!) {\n    setSite(siteId: $siteId) {\n      site {\n        id\n        name\n      }\n    }\n  }\n"],["\n  mutation setSite($siteId: ID!) {\n    setSite(siteId: $siteId) {\n      site {\n        id\n        name\n      }\n    }\n  }\n"]));var Mo=Oe(__makeTemplateObject(['\n  {\n    contentBlocks(filters: { category: "site happenings" }) {\n      content\n      slug\n    }\n  }\n'],['\n  {\n    contentBlocks(filters: { category: "site happenings" }) {\n      content\n      slug\n    }\n  }\n']));var Vo=Oe(__makeTemplateObject(["\nquery contentBlocks($componentName: String) {\n  contentBlocks(filters: { category: $componentName }) {\n    content\n    slug\n  }\n}\n"],["\nquery contentBlocks($componentName: String) {\n  contentBlocks(filters: { category: $componentName }) {\n    content\n    slug\n  }\n}\n"]));var Uo=function(){function e(e,t){this.copy=[];this.apolloClient=e;this.componentName=t}e.prototype.getCopy=function(){var e=this;return this.apolloClient.query({query:Vo,variables:{componentName:this.componentName}}).then((function(t){e.copy=t.data.contentBlocks;return t.data.contentBlocks}))};e.prototype.getContentBlock=function(e){if(!this.copy)return null;var t=this.copy.find((function(t){return t.slug===e}));if(!t)return;return r("div",{innerHTML:t.content.toString()})};return e}();var qo=e("crds_site_happenings",function(){function e(e){t(this,e);this.analytics=window["analytics"]||{};this.contentfulSites=[];this.sites=[];this.happenings=[];this.user=null}e.prototype.watchHandler=function(e,t){if(e!==t){this.apolloClient=pa(e);this.getUser()}};e.prototype.logError=function(e){console.error(e)};e.prototype.getInViewDetails=function(){return{selectedSite:this.selectedSite}};e.prototype.componentDidLoad=function(){a.trackInView(this.host,"HappeningComponent",this.getInViewDetails.bind(this))};e.prototype.componentWillLoad=function(){var e=this;this.apolloClient=pa(this.authToken);this.contentBlockHandler=new Uo(this.apolloClient,"site happenings");Promise.all([this.getSites(),this.getPromos(),this.contentBlockHandler.getCopy(),this.getUser()]).then((function(){e.validateSelectedSite(e.user&&e.user.site||"Churchwide")}))};e.prototype.componentDidRender=function(){this.handleParentElementWidthBasedOnText(this.host.shadowRoot.querySelector(".happenings-dropdown-select"),this.selectedSite)};e.prototype.getSites=function(){var e=this;return this.apolloClient.query({query:jo}).then((function(t){e.validateSites(t.data.sites);return})).catch((function(t){e.logError(t)}))};e.prototype.getUser=function(){var e=this;if(!this.authToken)return Promise.resolve(this.resetUser());return this.apolloClient.query({query:Bo}).then((function(t){var r=t.data.user;var n=r.site&&r.site.name;e.validateUserSite(n);e.validateSelectedSite(e.user.site);return})).catch((function(t){e.resetUser();e.logError(t)}))};e.prototype.getPromos=function(){var e=this;return this.apolloClient.query({query:Lo}).then((function(t){var r=t.data.promos;e.setHappenings(r);e.setContentfulSites();e.renderHappenings();return})).catch((function(t){return e.logError(t)}))};e.prototype.setUserSite=function(e){var t=this;return this.apolloClient.mutate({variables:{siteId:e},mutation:Ho}).catch((function(e){t.logError(e)}))};e.prototype.resetUser=function(){this.user=null;this.validateSelectedSite("Churchwide")};e.prototype.validateSites=function(e){var t=e.filter((function(e){return typeof e.name==="string"&&e.name!=="Not site specific"&&e.name!=="Xroads Church"}));this.sites=t.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0}))};e.prototype.validateUserSite=function(e){if(typeof e==="string"&&e!==""){this.user={site:e}}};e.prototype.validateSelectedSite=function(e){if(e==="Not site specific"||e==="I do not attend Crossroads"||e==="Anywhere"||e===""){e="Churchwide"}if(this.contentfulSites.includes(e))this.selectedSite=e};e.prototype.setHappenings=function(e){this.happenings=e.filter((function(e){return e.targetAudience!==null}))};e.prototype.setContentfulSites=function(){var e=new Set;this.happenings.forEach((function(t){return t.targetAudience.forEach((function(t){return e.add(t)}))}));this.contentfulSites=Array.from(e).sort((function(e,t){return e>t?1:t>e?-1:0}))};e.prototype.handleSiteSelection=function(e){this.validateSelectedSite(e.target.value);this.analytics.track("HappeningSiteFiltered",{site:this.selectedSite})};e.prototype.handleParentElementWidthBasedOnText=function(e,t){var r=document.createElement("select");var n=window.getComputedStyle(e);r.style.visibility="hidden";r.style.margin=n.margin;r.style.padding=n.padding;r.style.fontSize=n.fontSize;r.style.fontFamily=n.fontFamily;r.style.webkitAppearance="none";var i=document.createElement("option");i.innerText=t;r.appendChild(i);this.host.shadowRoot.appendChild(r);e.parentNode.style.width=r.offsetWidth+12+"px";this.host.shadowRoot.removeChild(r)};e.prototype.handleHappeningsClicked=function(e){var t=e.target;var r={title:t.tagName==="A"?t.innerText.toLowerCase():t.alt.toLowerCase(),url:t.tagName==="A"?t.href:t.parentNode.href,userSite:this.user&&this.user.site||"logged out",selectedSite:this.selectedSite};this.analytics.track("HappeningCardClicked",{params:r})};e.prototype.handleSetSiteInput=function(e){var t=e.target.options[e.target.selectedIndex].text;this.validateUserSite(t);this.validateSelectedSite(t);this.handleSetSiteModalClose();var r=e.target.value;this.setUserSite(r);this.analytics.track("HappeningSiteUpdated",{id:r,name:this.selectedSite})};e.prototype.handleSetSiteModalClose=function(){this.host.shadowRoot.querySelector(".site-select-message").classList.add("hidden")};e.prototype.renderHappeningsSkeleton=function(){var e=[];if(window.innerWidth<768){e.push(1,2)}else if(window.innerWidth<960){e.push(1,2,3)}else{e.push(1,2,3,4)}return e.map((function(){return r("div",{class:"skeleton skeleton-happenings"},r("div",{class:"image shimmer"}),r("div",{class:"content"},r("div",{class:"overlap"},r("div",{class:"text title shimmer"}),r("div",{class:"text title shimmer"})),r("div",{class:"text subtitle shimmer"}),r("div",{class:"text subtitle shimmer"}),r("div",{class:"text subtitle shimmer"}),r("div",{class:"text subtitle shimmer"})))}))};e.prototype.renderHappenings=function(){var e=this;if(!this.selectedSite)return this.renderHappeningsSkeleton();return this.happenings.filter((function(t){return t.targetAudience.find((function(t){return t===e.selectedSite}))})).map((function(t,n){return r("div",{class:"card carousel-cell",key:n},r("a",{class:"relative",href:t.qualifiedUrl,onClick:function(t){return e.handleHappeningsClicked(t)}},r("img",{alt:t.title,class:"img-responsive",src:a.imgixify(t.imageUrl)+"?auto=format&w=400&h=300&fit=crop"})),r("div",{class:"card-block"},r("h4",{class:"card-title card-title--overlap text-uppercase"},r("a",{href:t.qualifiedUrl,onClick:function(t){return e.handleHappeningsClicked(t)}},t.title)),r("div",{class:"card-text",innerHTML:Po(t.description||"")})))}))};e.prototype.maybeRenderSetSiteModal=function(){if(this.user&&!this.isUserSiteSet())return this.renderSetSiteModal();return""};e.prototype.renderSetSiteModal=function(){var e=this;return r("div",{class:"site-select-message"},r("button",{type:"button",class:"close","aria-label":"Close",onClick:function(){return e.handleSetSiteModalClose()}},r("svg",{xmlns:"http://www.w3.org/2000/svg"},r("line",{x1:"1",y1:"10",x2:"10",y2:"1",stroke:"#fff",strokeWidth:"2"}),r("line",{x1:"1",y1:"1",x2:"10",y2:"10",stroke:"#fff",strokeWidth:"2"}))),r("div",{class:"text-center push-top w-100"},this.contentBlockHandler.getContentBlock("SiteHappeningsPrompt"),r("div",{class:"happenings-dropdown","data-automation-id":"happenings-choose-site"},r("select",{class:"dropdown w-100",onInput:function(t){return e.handleSetSiteInput(t)}},r("option",{disabled:true,selected:true},"Choose a site"),this.sites.map((function(e){return r("option",{value:e.id,"data-name":e.name},e.name)}))),r("svg",{class:"dropdown-caret icon icon-1 pull-right push-left",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 237 152"},r("path",{d:"M200.731 135.586L92.136 244.182c-1.854 1.853-4.05 2.78-6.587 2.78s-4.731-.927-6.586-2.78l-24.295-24.295c-1.854-1.854-2.781-4.05-2.781-6.587s.927-4.732 2.78-6.586L132.385 129 54.669 51.285c-1.854-1.853-2.781-4.05-2.781-6.586 0-2.537.927-4.732 2.78-6.587l24.296-24.295c1.854-1.853 4.05-2.78 6.586-2.78 2.537 0 4.732.927 6.587 2.78L200.73 122.414c1.854 1.853 2.781 4.049 2.781 6.586s-.927 4.732-2.78 6.586z",transform:"translate(-9 -53) rotate(90 127.7 129)"}))),r("p",null,r("small",null,"*This will update the site field in your profile"))))};e.prototype.isUserSiteSet=function(){return this.user.site&&this.user.site!=="Not site specific"};e.prototype.render=function(){var e=this;return r("div",{class:"container push-top"},r("div",{class:"relative"},this.maybeRenderSetSiteModal(),r("hr",{class:"push-half-bottom"}),r("div",{class:"happenings-dropdown-container push-half-bottom"},r("h4",{id:"happening-filter-label",class:"flush font-size-base font-family-base text-gray-light"},"happening at crossroads"),r("div",{class:"happenings-dropdown","data-automation-id":"happenings-dropdown"},r("select",{class:"happenings-dropdown-select font-family-base",onInput:function(t){return e.handleSiteSelection(t)}},this.contentfulSites.map((function(t){return r("option",{value:t,selected:e.selectedSite===t},t)}))),r("svg",{class:"dropdown-caret icon icon-1 pull-right push-left",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 237 152"},r("path",{d:"M200.731 135.586L92.136 244.182c-1.854 1.853-4.05 2.78-6.587 2.78s-4.731-.927-6.586-2.78l-24.295-24.295c-1.854-1.854-2.781-4.05-2.781-6.587s.927-4.732 2.78-6.586L132.385 129 54.669 51.285c-1.854-1.853-2.781-4.05-2.781-6.586 0-2.537.927-4.732 2.78-6.587l24.296-24.295c1.854-1.853 4.05-2.78 6.586-2.78 2.537 0 4.732.927 6.587 2.78L200.73 122.414c1.854 1.853 2.781 4.049 2.781 6.586s-.927 4.732-2.78 6.586z",transform:"translate(-9 -53) rotate(90 127.7 129)"})),this.selectedSite===(this.user&&this.user.site)?r("span",{class:"my-site-label"},"(my site)"):"")),r("div",{class:"card-deck carousel","data-crds-carousel":"mobile-scroll"},r("div",{id:"section-what-s-happening",class:"feature-cards card-deck--expanded-layout carousel","data-automation-id":"happenings-cards","data-crds-carousel":"mobile-scroll"},this.renderHappenings()))))};Object.defineProperty(e.prototype,"host",{get:function(){return n(this)},enumerable:true,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{authToken:["watchHandler"]}},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return"\@charset \"UTF-8\";*{-webkit-box-sizing:border-box;box-sizing:border-box}.relative{position:relative}.overflow-hidden{overflow:hidden}.d-flex{display:-ms-flexbox;display:flex}.d-block{display:block}.d-inline{display:inline}.d-none{display:none}.align-items-center{-ms-flex-align:center;align-items:center}.w-100{width:100%}hr{border:0;border-top:1px solid #e7e7e7;margin-bottom:1rem;margin-top:1rem}.font-family-base{font-family:acumin-pro,helvetica,arial,sans-serif!important;font-weight:300!important}.text-white{color:#fff!important}.text-gray-light{color:#979797!important}.text-gray{color:#737373!important}.text-center{text-align:center}.text-uppercase{text-transform:uppercase}.text-uppercase.font-size-smaller{font-size:13px!important;letter-spacing:.5px}.font-size-base{font-size:16px!important}\@media (min-width:480px){.font-size-base{font-size:19px!important}}.font-size-large{font-size:19px!important}\@media (min-width:480px){.font-size-large{font-size:22px!important}}.font-size-smaller{font-size:14px!important}.font-size-smallest{font-size:10px}.font-weight-mid{font-weight:500}.bg-charcoal{background-color:#171717}.flush{margin:0!important}.flush-bottom{margin-bottom:0!important}.flush-top{margin-top:0!important}.push-half-bottom{margin-bottom:12px!important}.push-bottom{margin-bottom:24px!important}.push-top{margin-top:24px}.push-half-top{margin-top:12px!important}.soft-quarter-top{padding-top:6px}.component-header{font-family:acumin-pro-extra-condensed;line-height:.95}\@media (min-width:480px){.component-header{font-size:2.125rem}}.card>a{color:inherit;display:block;text-decoration:none}.card img{width:100%}.color-gray{color:#737373}.media-label{display:-ms-flexbox;display:flex;position:absolute;right:0;bottom:0;padding:6px 8px}.media-label>:not(:last-child){margin-right:5px}.media-label .icon{fill:#fff;height:16px;width:12px}.btn{display:inline-block;margin-bottom:0;font-weight:300;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;background-image:none;border:1px solid transparent;padding:8px 10px;font-size:16px;line-height:1.5;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:4px;line-height:1;margin-top:5px;margin-bottom:5px;font-size:14px;padding:13px 16px}.btn.btn-gray-light{color:#fff;background-color:#979797;border-color:#979797}.btn.btn-gray-light.btn-outline{background:transparent;border-style:solid;border-width:1px;color:#979797}.btn.btn-gray-light.btn-outline:hover{background-color:#979797;color:#fff}.btn.btn-sm{font-size:13px;padding:10px 16px 11px}.skeleton{position:relative}.skeleton,.skeleton .shimmer{overflow:hidden}.skeleton .shimmer:after{position:absolute;top:0;right:0;bottom:0;left:0;-webkit-transform:translateX(-100%);transform:translateX(-100%);background-image:linear-gradient(100deg,#f0f0f0 20%,hsla(0,0%,100%,.3) 30%,hsla(0,0%,100%,.7) 40%,#f0f0f0 50%);-webkit-animation:shimmer 1.5s infinite;animation:shimmer 1.5s infinite;-webkit-animation-timing-function:ease;animation-timing-function:ease;content:\"\"}.skeleton .shimmer-reverse:after{background-image:linear-gradient(100deg,#fff 20%,hsla(0,0%,94.1%,.3) 30%,hsla(0,0%,94.1%,.7) 40%,#fff 50%)}\@-webkit-keyframes shimmer{to{-webkit-transform:translateX(100%);transform:translateX(100%)}}\@keyframes shimmer{to{-webkit-transform:translateX(100%);transform:translateX(100%)}}.happenings-dropdown-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}\@media (min-width:480px){.happenings-dropdown-container{-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center}}.happenings-dropdown{position:relative;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.happenings-dropdown .happenings-dropdown-select{font-size:19px;position:relative;background:0;border:0;margin:0;color:#0095d9;padding:.5rem 0;-webkit-appearance:none;-moz-appearance:none;width:100%}.happenings-dropdown .happenings-dropdown-select:hover{cursor:pointer}.happenings-dropdown .happenings-dropdown-select:focus{outline:0}\@media (min-width:480px){.happenings-dropdown .happenings-dropdown-select{padding:.5rem}}.happenings-dropdown .dropdown-caret{fill:#0095d9;position:absolute;width:.75rem;right:0;padding-top:4px;pointer-events:none}\@media (min-width:480px){.happenings-dropdown .dropdown-caret{right:6px}}.happenings-dropdown .my-site-label{position:absolute;width:100%;left:calc(100% + .625rem);font-size:.875rem;color:#979797}.site-select-message{position:absolute;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;width:100%;height:100%;background-color:#fff;-webkit-transition:opacity .5s ease-in-out;transition:opacity .5s ease-in-out;opacity:1;z-index:1}.site-select-message,.site-select-message .happenings-dropdown{-ms-flex-pack:center;justify-content:center}\@media (min-width:768px){.site-select-message .happenings-dropdown{margin:0 auto;width:33.333333%}}.site-select-message .happenings-dropdown .dropdown{display:inline-block;font-weight:300;text-align:center;font-size:14px;line-height:1;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;background-image:none;font-size:16px;line-height:1.5;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-top:5px;margin-bottom:5px;padding:10px;background:transparent;border:1px solid #0095d9;color:#0095d9;-webkit-appearance:none}.site-select-message .happenings-dropdown .dropdown:focus{outline:0}\@media (max-width:480px){.site-select-message .happenings-dropdown .dropdown{width:100%}}.site-select-message .happenings-dropdown .dropdown-caret{right:20px}.site-select-message .close{position:absolute;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;top:1rem;right:1rem;background-color:hsla(0,0%,73.3%,.6);border-radius:50%;width:1.5rem;height:1.5rem;font-weight:unset;opacity:1;padding:0;cursor:pointer;border:0}.site-select-message .close:hover{cursor:pointer}.site-select-message .close svg{width:10px;height:10px;stroke:#fff}.hidden{visibility:hidden;opacity:0}.card-deck .card{-webkit-box-flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.card-deck--expanded-layout,.card-deck .card{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.card-deck--expanded-layout{-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-overflow-scrolling:touch;overflow-x:scroll;-webkit-scroll-snap-type:x mandatory;-ms-scroll-snap-type:x mandatory;scroll-snap-type:x mandatory}\@media (min-width:768px){.card-deck--expanded-layout{-ms-flex-wrap:wrap;flex-wrap:wrap}}.card-deck--expanded-layout .card,.card-deck--expanded-layout .skeleton-happenings{cursor:auto;-webkit-flex:1 0 270px;-ms-flex:1 0 270px;flex:1 0 270px;-ms-flex-preferred-size:270px;flex-basis:270px;margin-bottom:1.5rem;padding:0 .5rem;position:relative;max-width:100%;scroll-snap-align:start}.card-deck--expanded-layout .card:first-child,.card-deck--expanded-layout .skeleton-happenings:first-child{padding-left:0}.card-deck--expanded-layout .card:last-child,.card-deck--expanded-layout .skeleton-happenings:last-child{padding-right:0}\@media (min-width:480px){.card-deck--expanded-layout .card,.card-deck--expanded-layout .skeleton-happenings{max-width:50%}}\@media (min-width:768px){.card-deck--expanded-layout .card,.card-deck--expanded-layout .skeleton-happenings{max-width:33.333333%}}\@media (min-width:960px){.card-deck--expanded-layout .card,.card-deck--expanded-layout .skeleton-happenings{max-width:25%}}.card-deck--expanded-layout .card a,.card-deck--expanded-layout .skeleton-happenings a{color:inherit;text-decoration:none}.card-deck--expanded-layout .card .card-text,.card-deck--expanded-layout .skeleton-happenings .card-text{font-size:.9375rem;position:relative}.card-deck--expanded-layout .card .card-text p,.card-deck--expanded-layout .skeleton-happenings .card-text p{margin:0}.card-deck--expanded-layout .card .card-block,.card-deck--expanded-layout .skeleton-happenings .card-block{font-family:acumin-pro,helvetica,arial,sans-serif;padding:1rem}.card-deck--expanded-layout .card .card-block .component-header,.card-deck--expanded-layout .skeleton-happenings .card-block .component-header{line-height:.95}.skeleton-happenings{height:500px;margin:0}.skeleton-happenings .image{height:75%;max-height:200px;width:100%}.skeleton-happenings .image,.skeleton-happenings .text{background-color:#f0f0f0;position:relative}.skeleton-happenings .content{padding:.5rem}.skeleton-happenings .content .overlap{background:#fff;padding:.5rem;-webkit-transform:translateY(-40%);transform:translateY(-40%)}.skeleton-happenings .content .title{height:24px;margin-bottom:.5rem}.skeleton-happenings .content .title:nth-child(2){width:75%}.skeleton-happenings .content .subtitle{height:16px;margin:.5rem}.skeleton-happenings .content .subtitle:nth-child(3){width:75%}.skeleton-happenings .content .subtitle:nth-child(4){width:85%}.skeleton-happenings .content .subtitle:nth-child(5){width:50%}.img-responsive{display:block;height:auto;max-width:100%}.card-title--overlap{background-color:#fff;display:inline-block;font-family:acumin-pro-extra-condensed,sans-serif;font-size:2.125rem;margin:-2rem -.5rem 0;padding:.25rem .5rem;position:relative}.card-title--overlap:after{color:#979797;content:\"—\";display:block;font-family:acumin-pro,helvetica,arial,sans-serif;font-size:1.25rem;font-weight:100;line-height:1.5}.card-title{color:#4d4d4d;line-height:1;font-weight:600}.text-uppercase{text-transform:uppercase!important}.component-header{font-family:acumin-pro-extra-condensed,sans-serif;font-size:2rem;font-weight:500;line-height:1.1;text-transform:uppercase}"},enumerable:true,configurable:true});return e}());var Ko=e("crds_snail_trail",function(){function e(e){t(this,e);this.env="prod";this.data={}}e.prototype.componentWillLoad=function(){var e=this;if(this.src||this.name&&this.env){var t=this.src||"https://crds-data.netlify.com/snail-trails/"+this.name+"/"+this.env+".json";Ao.get(t).then((function(t){return e.data=t.data}))}};e.prototype.listItem=function(e){if(e.subscribe&&e.src)return r("crds-subscribe",{src:e.src,label:e.title});if(!e.href)return r("strong",null,e.title);return r("crds-snail-trail-link",{href:e.href,automationId:e["data-automation-id"]},e.title)};e.prototype.list=function(e){var t=this;return e.map((function(e){return r("li",null,t.listItem(e))}))};e.prototype.navSections=function(){var e=this;if(!this.data.nav)return;return this.data.nav.map((function(t){return r("ul",null,e.list(t))}))};e.prototype.render=function(){if(!this.data.nav&&this.element.childElementCount==0)return;return r(Do,null,r("nav",null,r("div",null,this.element.childElementCount>0&&r("slot",null),this.element.childElementCount==0&&r(Do,null,this.navSections()))))};Object.defineProperty(e.prototype,"element",{get:function(){return n(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return"nav{font-family:acumin-pro,helvetica,arial,sans-serif!important;font-weight:300!important;background-color:#fff;-webkit-box-shadow:0 1px 6px 0 rgba(0,0,0,.14);box-shadow:0 1px 6px 0 rgba(0,0,0,.14);font-size:14px;padding-left:20px;position:relative}\@media (min-width:1170px){nav{padding-left:0}}nav>div{display:-ms-flexbox;display:flex;-webkit-overflow-scrolling:touch;overflow-x:auto;overflow-y:hidden;position:relative;scrollbar-width:none;margin:0 auto;max-width:1170px}\@media (max-width:992px){nav:after{background:-webkit-gradient(linear,left top,right top,from(hsla(0,0%,100%,0)),to(rgba(0,0,0,.8)));background:linear-gradient(90deg,hsla(0,0%,100%,0),rgba(0,0,0,.8));content:\"\";display:inline-block;height:100%;opacity:.3;position:absolute;right:0;top:0;width:20px}}strong{color:#4d4d4d;display:inline-block;font-weight:600;margin-right:15px;padding:11px 0;text-transform:capitalize;white-space:nowrap}ul{padding-left:0;-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;margin-bottom:0;margin-top:0}ul li{list-style:none}ul:not(:last-of-type):after{border-right:1px solid #d8d8d8;content:\"\";height:calc(100% - 22px);width:1px}li{display:inline-block;text-transform:capitalize;white-space:nowrap}"},enumerable:true,configurable:true});return e}());var zo=2147483647;var Qo=36;var Wo=1;var Yo=26;var Go=38;var Jo=700;var $o=72;var Xo=128;var Zo="-";var eu=/[^\x20-\x7E]/;var tu=/[\x2E\u3002\uFF0E\uFF61]/g;var ru={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"};var nu=Qo-Wo;var iu=Math.floor;var su=String.fromCharCode;function au(e){throw new RangeError(ru[e])}function ou(e,t){var r=e.length;var n=[];while(r--){n[r]=t(e[r])}return n}function uu(e,t){var r=e.split("@");var n="";if(r.length>1){n=r[0]+"@";e=r[1]}e=e.replace(tu,".");var i=e.split(".");var s=ou(i,t).join(".");return n+s}function cu(e){var t=[],r=0,n=e.length,i,s;while(r<n){i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){s=e.charCodeAt(r++);if((s&64512)==56320){t.push(((i&1023)<<10)+(s&1023)+65536)}else{t.push(i);r--}}else{t.push(i)}}return t}function fu(e,t){return e+22+75*(e<26)-((t!=0)<<5)}function lu(e,t,r){var n=0;e=r?iu(e/Jo):e>>1;e+=iu(e/t);for(;e>nu*Yo>>1;n+=Qo){e=iu(e/nu)}return iu(n+(nu+1)*e/(e+Go))}function hu(e){var t,r,n,i,s,a,o,u,c,f,l,h=[],d,p,v,g;e=cu(e);d=e.length;t=Xo;r=0;s=$o;for(a=0;a<d;++a){l=e[a];if(l<128){h.push(su(l))}}n=i=h.length;if(i){h.push(Zo)}while(n<d){for(o=zo,a=0;a<d;++a){l=e[a];if(l>=t&&l<o){o=l}}p=n+1;if(o-t>iu((zo-r)/p)){au("overflow")}r+=(o-t)*p;t=o;for(a=0;a<d;++a){l=e[a];if(l<t&&++r>zo){au("overflow")}if(l==t){for(u=r,c=Qo;;c+=Qo){f=c<=s?Wo:c>=s+Yo?Yo:c-s;if(u<f){break}g=u-f;v=Qo-f;h.push(su(fu(f+g%v,0)));u=iu(g/v)}h.push(su(fu(u,0)));s=lu(r,p,n==i);r=0;++n}}++r;++t}return h.join("")}function du(e){return uu(e,(function(e){return eu.test(e)?"xn--"+hu(e):e}))}var pu=[];var vu=[];var gu=typeof Uint8Array!=="undefined"?Uint8Array:Array;var yu=false;function mu(){yu=true;var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var t=0,r=e.length;t<r;++t){pu[t]=e[t];vu[e.charCodeAt(t)]=t}vu["-".charCodeAt(0)]=62;vu["_".charCodeAt(0)]=63}function bu(e){if(!yu){mu()}var t,r,n,i,s,a;var o=e.length;if(o%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}s=e[o-2]==="="?2:e[o-1]==="="?1:0;a=new gu(o*3/4-s);n=s>0?o-4:o;var u=0;for(t=0,r=0;t<n;t+=4,r+=3){i=vu[e.charCodeAt(t)]<<18|vu[e.charCodeAt(t+1)]<<12|vu[e.charCodeAt(t+2)]<<6|vu[e.charCodeAt(t+3)];a[u++]=i>>16&255;a[u++]=i>>8&255;a[u++]=i&255}if(s===2){i=vu[e.charCodeAt(t)]<<2|vu[e.charCodeAt(t+1)]>>4;a[u++]=i&255}else if(s===1){i=vu[e.charCodeAt(t)]<<10|vu[e.charCodeAt(t+1)]<<4|vu[e.charCodeAt(t+2)]>>2;a[u++]=i>>8&255;a[u++]=i&255}return a}function wu(e){return pu[e>>18&63]+pu[e>>12&63]+pu[e>>6&63]+pu[e&63]}function Su(e,t,r){var n;var i=[];for(var s=t;s<r;s+=3){n=(e[s]<<16)+(e[s+1]<<8)+e[s+2];i.push(wu(n))}return i.join("")}function Eu(e){if(!yu){mu()}var t;var r=e.length;var n=r%3;var i="";var s=[];var a=16383;for(var o=0,u=r-n;o<u;o+=a){s.push(Su(e,o,o+a>u?u:o+a))}if(n===1){t=e[r-1];i+=pu[t>>2];i+=pu[t<<4&63];i+="=="}else if(n===2){t=(e[r-2]<<8)+e[r-1];i+=pu[t>>10];i+=pu[t>>4&63];i+=pu[t<<2&63];i+="="}s.push(i);return s.join("")}function xu(e,t,r,n,i){var s,a;var o=i*8-n-1;var u=(1<<o)-1;var c=u>>1;var f=-7;var l=r?i-1:0;var h=r?-1:1;var d=e[t+l];l+=h;s=d&(1<<-f)-1;d>>=-f;f+=o;for(;f>0;s=s*256+e[t+l],l+=h,f-=8){}a=s&(1<<-f)-1;s>>=-f;f+=n;for(;f>0;a=a*256+e[t+l],l+=h,f-=8){}if(s===0){s=1-c}else if(s===u){return a?NaN:(d?-1:1)*Infinity}else{a=a+Math.pow(2,n);s=s-c}return(d?-1:1)*a*Math.pow(2,s-n)}function Au(e,t,r,n,i,s){var a,o,u;var c=s*8-i-1;var f=(1<<c)-1;var l=f>>1;var h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0;var d=n?0:s-1;var p=n?1:-1;var v=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){o=isNaN(t)?1:0;a=f}else{a=Math.floor(Math.log(t)/Math.LN2);if(t*(u=Math.pow(2,-a))<1){a--;u*=2}if(a+l>=1){t+=h/u}else{t+=h*Math.pow(2,1-l)}if(t*u>=2){a++;u/=2}if(a+l>=f){o=0;a=f}else if(a+l>=1){o=(t*u-1)*Math.pow(2,i);a=a+l}else{o=t*Math.pow(2,l-1)*Math.pow(2,i);a=0}}for(;i>=8;e[r+d]=o&255,d+=p,o/=256,i-=8){}a=a<<i|o;c+=i;for(;c>0;e[r+d]=a&255,d+=p,a/=256,c-=8){}e[r+d-p]|=v*128}var Fu={}.toString;var Tu=Array.isArray||function(e){return Fu.call(e)=="[object Array]"};var Cu=50;Ou.TYPED_ARRAY_SUPPORT=De.TYPED_ARRAY_SUPPORT!==undefined?De.TYPED_ARRAY_SUPPORT:true;function ku(){return Ou.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Iu(e,t){if(ku()<t){throw new RangeError("Invalid typed array length")}if(Ou.TYPED_ARRAY_SUPPORT){e=new Uint8Array(t);e.__proto__=Ou.prototype}else{if(e===null){e=new Ou(t)}e.length=t}return e}function Ou(e,t,r){if(!Ou.TYPED_ARRAY_SUPPORT&&!(this instanceof Ou)){return new Ou(e,t,r)}if(typeof e==="number"){if(typeof t==="string"){throw new Error("If encoding is specified then the first argument must be a string")}return Nu(this,e)}return Ru(this,e,t,r)}Ou.poolSize=8192;Ou._augment=function(e){e.__proto__=Ou.prototype;return e};function Ru(e,t,r,n){if(typeof t==="number"){throw new TypeError('"value" argument must not be a number')}if(typeof ArrayBuffer!=="undefined"&&t instanceof ArrayBuffer){return Bu(e,t,r,n)}if(typeof t==="string"){return Pu(e,t,r)}return Lu(e,t)}Ou.from=function(e,t,r){return Ru(null,e,t,r)};if(Ou.TYPED_ARRAY_SUPPORT){Ou.prototype.__proto__=Uint8Array.prototype;Ou.__proto__=Uint8Array}function Du(e){if(typeof e!=="number"){throw new TypeError('"size" argument must be a number')}else if(e<0){throw new RangeError('"size" argument must not be negative')}}function _u(e,t,r,n){Du(t);if(t<=0){return Iu(e,t)}if(r!==undefined){return typeof n==="string"?Iu(e,t).fill(r,n):Iu(e,t).fill(r)}return Iu(e,t)}Ou.alloc=function(e,t,r){return _u(null,e,t,r)};function Nu(e,t){Du(t);e=Iu(e,t<0?0:Hu(t)|0);if(!Ou.TYPED_ARRAY_SUPPORT){for(var r=0;r<t;++r){e[r]=0}}return e}Ou.allocUnsafe=function(e){return Nu(null,e)};Ou.allocUnsafeSlow=function(e){return Nu(null,e)};function Pu(e,t,r){if(typeof r!=="string"||r===""){r="utf8"}if(!Ou.isEncoding(r)){throw new TypeError('"encoding" must be a valid string encoding')}var n=Vu(t,r)|0;e=Iu(e,n);var i=e.write(t,r);if(i!==n){e=e.slice(0,i)}return e}function ju(e,t){var r=t.length<0?0:Hu(t.length)|0;e=Iu(e,r);for(var n=0;n<r;n+=1){e[n]=t[n]&255}return e}function Bu(e,t,r,n){if(r<0||t.byteLength<r){throw new RangeError("'offset' is out of bounds")}if(t.byteLength<r+(n||0)){throw new RangeError("'length' is out of bounds")}if(r===undefined&&n===undefined){t=new Uint8Array(t)}else if(n===undefined){t=new Uint8Array(t,r)}else{t=new Uint8Array(t,r,n)}if(Ou.TYPED_ARRAY_SUPPORT){e=t;e.__proto__=Ou.prototype}else{e=ju(e,t)}return e}function Lu(e,t){if(Mu(t)){var r=Hu(t.length)|0;e=Iu(e,r);if(e.length===0){return e}t.copy(e,0,0,r);return e}if(t){if(typeof ArrayBuffer!=="undefined"&&t.buffer instanceof ArrayBuffer||"length"in t){if(typeof t.length!=="number"||Ec(t.length)){return Iu(e,0)}return ju(e,t)}if(t.type==="Buffer"&&Tu(t.data)){return ju(e,t.data)}}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Hu(e){if(e>=ku()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+ku().toString(16)+" bytes")}return e|0}Ou.isBuffer=xc;function Mu(e){return!!(e!=null&&e._isBuffer)}Ou.compare=function e(t,r){if(!Mu(t)||!Mu(r)){throw new TypeError("Arguments must be Buffers")}if(t===r)return 0;var n=t.length;var i=r.length;for(var s=0,a=Math.min(n,i);s<a;++s){if(t[s]!==r[s]){n=t[s];i=r[s];break}}if(n<i)return-1;if(i<n)return 1;return 0};Ou.isEncoding=function e(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Ou.concat=function e(t,r){if(!Tu(t)){throw new TypeError('"list" argument must be an Array of Buffers')}if(t.length===0){return Ou.alloc(0)}var n;if(r===undefined){r=0;for(n=0;n<t.length;++n){r+=t[n].length}}var i=Ou.allocUnsafe(r);var s=0;for(n=0;n<t.length;++n){var a=t[n];if(!Mu(a)){throw new TypeError('"list" argument must be an Array of Buffers')}a.copy(i,s);s+=a.length}return i};function Vu(e,t){if(Mu(e)){return e.length}if(typeof ArrayBuffer!=="undefined"&&typeof ArrayBuffer.isView==="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)){return e.byteLength}if(typeof e!=="string"){e=""+e}var r=e.length;if(r===0)return 0;var n=false;for(;;){switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case undefined:return yc(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return wc(e).length;default:if(n)return yc(e).length;t=(""+t).toLowerCase();n=true}}}Ou.byteLength=Vu;function Uu(e,t,r){var n=false;if(t===undefined||t<0){t=0}if(t>this.length){return""}if(r===undefined||r>this.length){r=this.length}if(r<=0){return""}r>>>=0;t>>>=0;if(r<=t){return""}if(!e)e="utf8";while(true){switch(e){case"hex":return ic(this,t,r);case"utf8":case"utf-8":return Zu(this,t,r);case"ascii":return rc(this,t,r);case"latin1":case"binary":return nc(this,t,r);case"base64":return Xu(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return sc(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase();n=true}}}Ou.prototype._isBuffer=true;function qu(e,t,r){var n=e[t];e[t]=e[r];e[r]=n}Ou.prototype.swap16=function e(){var t=this.length;if(t%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var r=0;r<t;r+=2){qu(this,r,r+1)}return this};Ou.prototype.swap32=function e(){var t=this.length;if(t%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var r=0;r<t;r+=4){qu(this,r,r+3);qu(this,r+1,r+2)}return this};Ou.prototype.swap64=function e(){var t=this.length;if(t%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var r=0;r<t;r+=8){qu(this,r,r+7);qu(this,r+1,r+6);qu(this,r+2,r+5);qu(this,r+3,r+4)}return this};Ou.prototype.toString=function e(){var t=this.length|0;if(t===0)return"";if(arguments.length===0)return Zu(this,0,t);return Uu.apply(this,arguments)};Ou.prototype.equals=function e(t){if(!Mu(t))throw new TypeError("Argument must be a Buffer");if(this===t)return true;return Ou.compare(this,t)===0};Ou.prototype.inspect=function e(){var t="";var r=Cu;if(this.length>0){t=this.toString("hex",0,r).match(/.{2}/g).join(" ");if(this.length>r)t+=" ... "}return"<Buffer "+t+">"};Ou.prototype.compare=function e(t,r,n,i,s){if(!Mu(t)){throw new TypeError("Argument must be a Buffer")}if(r===undefined){r=0}if(n===undefined){n=t?t.length:0}if(i===undefined){i=0}if(s===undefined){s=this.length}if(r<0||n>t.length||i<0||s>this.length){throw new RangeError("out of range index")}if(i>=s&&r>=n){return 0}if(i>=s){return-1}if(r>=n){return 1}r>>>=0;n>>>=0;i>>>=0;s>>>=0;if(this===t)return 0;var a=s-i;var o=n-r;var u=Math.min(a,o);var c=this.slice(i,s);var f=t.slice(r,n);for(var l=0;l<u;++l){if(c[l]!==f[l]){a=c[l];o=f[l];break}}if(a<o)return-1;if(o<a)return 1;return 0};function Ku(e,t,r,n,i){if(e.length===0)return-1;if(typeof r==="string"){n=r;r=0}else if(r>2147483647){r=2147483647}else if(r<-2147483648){r=-2147483648}r=+r;if(isNaN(r)){r=i?0:e.length-1}if(r<0)r=e.length+r;if(r>=e.length){if(i)return-1;else r=e.length-1}else if(r<0){if(i)r=0;else return-1}if(typeof t==="string"){t=Ou.from(t,n)}if(Mu(t)){if(t.length===0){return-1}return zu(e,t,r,n,i)}else if(typeof t==="number"){t=t&255;if(Ou.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf==="function"){if(i){return Uint8Array.prototype.indexOf.call(e,t,r)}else{return Uint8Array.prototype.lastIndexOf.call(e,t,r)}}return zu(e,[t],r,n,i)}throw new TypeError("val must be string, number or Buffer")}function zu(e,t,r,n,i){var s=1;var a=e.length;var o=t.length;if(n!==undefined){n=String(n).toLowerCase();if(n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le"){if(e.length<2||t.length<2){return-1}s=2;a/=2;o/=2;r/=2}}function u(e,t){if(s===1){return e[t]}else{return e.readUInt16BE(t*s)}}var c;if(i){var f=-1;for(c=r;c<a;c++){if(u(e,c)===u(t,f===-1?0:c-f)){if(f===-1)f=c;if(c-f+1===o)return f*s}else{if(f!==-1)c-=c-f;f=-1}}}else{if(r+o>a)r=a-o;for(c=r;c>=0;c--){var l=true;for(var h=0;h<o;h++){if(u(e,c+h)!==u(t,h)){l=false;break}}if(l)return c}}return-1}Ou.prototype.includes=function e(t,r,n){return this.indexOf(t,r,n)!==-1};Ou.prototype.indexOf=function e(t,r,n){return Ku(this,t,r,n,true)};Ou.prototype.lastIndexOf=function e(t,r,n){return Ku(this,t,r,n,false)};function Qu(e,t,r,n){r=Number(r)||0;var i=e.length-r;if(!n){n=i}else{n=Number(n);if(n>i){n=i}}var s=t.length;if(s%2!==0)throw new TypeError("Invalid hex string");if(n>s/2){n=s/2}for(var a=0;a<n;++a){var o=parseInt(t.substr(a*2,2),16);if(isNaN(o))return a;e[r+a]=o}return a}function Wu(e,t,r,n){return Sc(yc(t,e.length-r),e,r,n)}function Yu(e,t,r,n){return Sc(mc(t),e,r,n)}function Gu(e,t,r,n){return Yu(e,t,r,n)}function Ju(e,t,r,n){return Sc(wc(t),e,r,n)}function $u(e,t,r,n){return Sc(bc(t,e.length-r),e,r,n)}Ou.prototype.write=function e(t,r,n,i){if(r===undefined){i="utf8";n=this.length;r=0}else if(n===undefined&&typeof r==="string"){i=r;n=this.length;r=0}else if(isFinite(r)){r=r|0;if(isFinite(n)){n=n|0;if(i===undefined)i="utf8"}else{i=n;n=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var s=this.length-r;if(n===undefined||n>s)n=s;if(t.length>0&&(n<0||r<0)||r>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!i)i="utf8";var a=false;for(;;){switch(i){case"hex":return Qu(this,t,r,n);case"utf8":case"utf-8":return Wu(this,t,r,n);case"ascii":return Yu(this,t,r,n);case"latin1":case"binary":return Gu(this,t,r,n);case"base64":return Ju(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $u(this,t,r,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase();a=true}}};Ou.prototype.toJSON=function e(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Xu(e,t,r){if(t===0&&r===e.length){return Eu(e)}else{return Eu(e.slice(t,r))}}function Zu(e,t,r){r=Math.min(e.length,r);var n=[];var i=t;while(i<r){var s=e[i];var a=null;var o=s>239?4:s>223?3:s>191?2:1;if(i+o<=r){var u,c,f,l;switch(o){case 1:if(s<128){a=s}break;case 2:u=e[i+1];if((u&192)===128){l=(s&31)<<6|u&63;if(l>127){a=l}}break;case 3:u=e[i+1];c=e[i+2];if((u&192)===128&&(c&192)===128){l=(s&15)<<12|(u&63)<<6|c&63;if(l>2047&&(l<55296||l>57343)){a=l}}break;case 4:u=e[i+1];c=e[i+2];f=e[i+3];if((u&192)===128&&(c&192)===128&&(f&192)===128){l=(s&15)<<18|(u&63)<<12|(c&63)<<6|f&63;if(l>65535&&l<1114112){a=l}}}}if(a===null){a=65533;o=1}else if(a>65535){a-=65536;n.push(a>>>10&1023|55296);a=56320|a&1023}n.push(a);i+=o}return tc(n)}var ec=4096;function tc(e){var t=e.length;if(t<=ec){return String.fromCharCode.apply(String,e)}var r="";var n=0;while(n<t){r+=String.fromCharCode.apply(String,e.slice(n,n+=ec))}return r}function rc(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i){n+=String.fromCharCode(e[i]&127)}return n}function nc(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i){n+=String.fromCharCode(e[i])}return n}function ic(e,t,r){var n=e.length;if(!t||t<0)t=0;if(!r||r<0||r>n)r=n;var i="";for(var s=t;s<r;++s){i+=gc(e[s])}return i}function sc(e,t,r){var n=e.slice(t,r);var i="";for(var s=0;s<n.length;s+=2){i+=String.fromCharCode(n[s]+n[s+1]*256)}return i}Ou.prototype.slice=function e(t,r){var n=this.length;t=~~t;r=r===undefined?n:~~r;if(t<0){t+=n;if(t<0)t=0}else if(t>n){t=n}if(r<0){r+=n;if(r<0)r=0}else if(r>n){r=n}if(r<t)r=t;var i;if(Ou.TYPED_ARRAY_SUPPORT){i=this.subarray(t,r);i.__proto__=Ou.prototype}else{var s=r-t;i=new Ou(s,undefined);for(var a=0;a<s;++a){i[a]=this[a+t]}}return i};function ac(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}Ou.prototype.readUIntLE=function e(t,r,n){t=t|0;r=r|0;if(!n)ac(t,r,this.length);var i=this[t];var s=1;var a=0;while(++a<r&&(s*=256)){i+=this[t+a]*s}return i};Ou.prototype.readUIntBE=function e(t,r,n){t=t|0;r=r|0;if(!n){ac(t,r,this.length)}var i=this[t+--r];var s=1;while(r>0&&(s*=256)){i+=this[t+--r]*s}return i};Ou.prototype.readUInt8=function e(t,r){if(!r)ac(t,1,this.length);return this[t]};Ou.prototype.readUInt16LE=function e(t,r){if(!r)ac(t,2,this.length);return this[t]|this[t+1]<<8};Ou.prototype.readUInt16BE=function e(t,r){if(!r)ac(t,2,this.length);return this[t]<<8|this[t+1]};Ou.prototype.readUInt32LE=function e(t,r){if(!r)ac(t,4,this.length);return(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};Ou.prototype.readUInt32BE=function e(t,r){if(!r)ac(t,4,this.length);return this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};Ou.prototype.readIntLE=function e(t,r,n){t=t|0;r=r|0;if(!n)ac(t,r,this.length);var i=this[t];var s=1;var a=0;while(++a<r&&(s*=256)){i+=this[t+a]*s}s*=128;if(i>=s)i-=Math.pow(2,8*r);return i};Ou.prototype.readIntBE=function e(t,r,n){t=t|0;r=r|0;if(!n)ac(t,r,this.length);var i=r;var s=1;var a=this[t+--i];while(i>0&&(s*=256)){a+=this[t+--i]*s}s*=128;if(a>=s)a-=Math.pow(2,8*r);return a};Ou.prototype.readInt8=function e(t,r){if(!r)ac(t,1,this.length);if(!(this[t]&128))return this[t];return(255-this[t]+1)*-1};Ou.prototype.readInt16LE=function e(t,r){if(!r)ac(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};Ou.prototype.readInt16BE=function e(t,r){if(!r)ac(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};Ou.prototype.readInt32LE=function e(t,r){if(!r)ac(t,4,this.length);return this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};Ou.prototype.readInt32BE=function e(t,r){if(!r)ac(t,4,this.length);return this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};Ou.prototype.readFloatLE=function e(t,r){if(!r)ac(t,4,this.length);return xu(this,t,true,23,4)};Ou.prototype.readFloatBE=function e(t,r){if(!r)ac(t,4,this.length);return xu(this,t,false,23,4)};Ou.prototype.readDoubleLE=function e(t,r){if(!r)ac(t,8,this.length);return xu(this,t,true,52,8)};Ou.prototype.readDoubleBE=function e(t,r){if(!r)ac(t,8,this.length);return xu(this,t,false,52,8)};function oc(e,t,r,n,i,s){if(!Mu(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}Ou.prototype.writeUIntLE=function e(t,r,n,i){t=+t;r=r|0;n=n|0;if(!i){var s=Math.pow(2,8*n)-1;oc(this,t,r,n,s,0)}var a=1;var o=0;this[r]=t&255;while(++o<n&&(a*=256)){this[r+o]=t/a&255}return r+n};Ou.prototype.writeUIntBE=function e(t,r,n,i){t=+t;r=r|0;n=n|0;if(!i){var s=Math.pow(2,8*n)-1;oc(this,t,r,n,s,0)}var a=n-1;var o=1;this[r+a]=t&255;while(--a>=0&&(o*=256)){this[r+a]=t/o&255}return r+n};Ou.prototype.writeUInt8=function e(t,r,n){t=+t;r=r|0;if(!n)oc(this,t,r,1,255,0);if(!Ou.TYPED_ARRAY_SUPPORT)t=Math.floor(t);this[r]=t&255;return r+1};function uc(e,t,r,n){if(t<0)t=65535+t+1;for(var i=0,s=Math.min(e.length-r,2);i<s;++i){e[r+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}}Ou.prototype.writeUInt16LE=function e(t,r,n){t=+t;r=r|0;if(!n)oc(this,t,r,2,65535,0);if(Ou.TYPED_ARRAY_SUPPORT){this[r]=t&255;this[r+1]=t>>>8}else{uc(this,t,r,true)}return r+2};Ou.prototype.writeUInt16BE=function e(t,r,n){t=+t;r=r|0;if(!n)oc(this,t,r,2,65535,0);if(Ou.TYPED_ARRAY_SUPPORT){this[r]=t>>>8;this[r+1]=t&255}else{uc(this,t,r,false)}return r+2};function cc(e,t,r,n){if(t<0)t=4294967295+t+1;for(var i=0,s=Math.min(e.length-r,4);i<s;++i){e[r+i]=t>>>(n?i:3-i)*8&255}}Ou.prototype.writeUInt32LE=function e(t,r,n){t=+t;r=r|0;if(!n)oc(this,t,r,4,4294967295,0);if(Ou.TYPED_ARRAY_SUPPORT){this[r+3]=t>>>24;this[r+2]=t>>>16;this[r+1]=t>>>8;this[r]=t&255}else{cc(this,t,r,true)}return r+4};Ou.prototype.writeUInt32BE=function e(t,r,n){t=+t;r=r|0;if(!n)oc(this,t,r,4,4294967295,0);if(Ou.TYPED_ARRAY_SUPPORT){this[r]=t>>>24;this[r+1]=t>>>16;this[r+2]=t>>>8;this[r+3]=t&255}else{cc(this,t,r,false)}return r+4};Ou.prototype.writeIntLE=function e(t,r,n,i){t=+t;r=r|0;if(!i){var s=Math.pow(2,8*n-1);oc(this,t,r,n,s-1,-s)}var a=0;var o=1;var u=0;this[r]=t&255;while(++a<n&&(o*=256)){if(t<0&&u===0&&this[r+a-1]!==0){u=1}this[r+a]=(t/o>>0)-u&255}return r+n};Ou.prototype.writeIntBE=function e(t,r,n,i){t=+t;r=r|0;if(!i){var s=Math.pow(2,8*n-1);oc(this,t,r,n,s-1,-s)}var a=n-1;var o=1;var u=0;this[r+a]=t&255;while(--a>=0&&(o*=256)){if(t<0&&u===0&&this[r+a+1]!==0){u=1}this[r+a]=(t/o>>0)-u&255}return r+n};Ou.prototype.writeInt8=function e(t,r,n){t=+t;r=r|0;if(!n)oc(this,t,r,1,127,-128);if(!Ou.TYPED_ARRAY_SUPPORT)t=Math.floor(t);if(t<0)t=255+t+1;this[r]=t&255;return r+1};Ou.prototype.writeInt16LE=function e(t,r,n){t=+t;r=r|0;if(!n)oc(this,t,r,2,32767,-32768);if(Ou.TYPED_ARRAY_SUPPORT){this[r]=t&255;this[r+1]=t>>>8}else{uc(this,t,r,true)}return r+2};Ou.prototype.writeInt16BE=function e(t,r,n){t=+t;r=r|0;if(!n)oc(this,t,r,2,32767,-32768);if(Ou.TYPED_ARRAY_SUPPORT){this[r]=t>>>8;this[r+1]=t&255}else{uc(this,t,r,false)}return r+2};Ou.prototype.writeInt32LE=function e(t,r,n){t=+t;r=r|0;if(!n)oc(this,t,r,4,2147483647,-2147483648);if(Ou.TYPED_ARRAY_SUPPORT){this[r]=t&255;this[r+1]=t>>>8;this[r+2]=t>>>16;this[r+3]=t>>>24}else{cc(this,t,r,true)}return r+4};Ou.prototype.writeInt32BE=function e(t,r,n){t=+t;r=r|0;if(!n)oc(this,t,r,4,2147483647,-2147483648);if(t<0)t=4294967295+t+1;if(Ou.TYPED_ARRAY_SUPPORT){this[r]=t>>>24;this[r+1]=t>>>16;this[r+2]=t>>>8;this[r+3]=t&255}else{cc(this,t,r,false)}return r+4};function fc(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function lc(e,t,r,n,i){if(!i){fc(e,t,r,4)}Au(e,t,r,n,23,4);return r+4}Ou.prototype.writeFloatLE=function e(t,r,n){return lc(this,t,r,true,n)};Ou.prototype.writeFloatBE=function e(t,r,n){return lc(this,t,r,false,n)};function hc(e,t,r,n,i){if(!i){fc(e,t,r,8)}Au(e,t,r,n,52,8);return r+8}Ou.prototype.writeDoubleLE=function e(t,r,n){return hc(this,t,r,true,n)};Ou.prototype.writeDoubleBE=function e(t,r,n){return hc(this,t,r,false,n)};Ou.prototype.copy=function e(t,r,n,i){if(!n)n=0;if(!i&&i!==0)i=this.length;if(r>=t.length)r=t.length;if(!r)r=0;if(i>0&&i<n)i=n;if(i===n)return 0;if(t.length===0||this.length===0)return 0;if(r<0){throw new RangeError("targetStart out of bounds")}if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");if(i>this.length)i=this.length;if(t.length-r<i-n){i=t.length-r+n}var s=i-n;var a;if(this===t&&n<r&&r<i){for(a=s-1;a>=0;--a){t[a+r]=this[a+n]}}else if(s<1e3||!Ou.TYPED_ARRAY_SUPPORT){for(a=0;a<s;++a){t[a+r]=this[a+n]}}else{Uint8Array.prototype.set.call(t,this.subarray(n,n+s),r)}return s};Ou.prototype.fill=function e(t,r,n,i){if(typeof t==="string"){if(typeof r==="string"){i=r;r=0;n=this.length}else if(typeof n==="string"){i=n;n=this.length}if(t.length===1){var s=t.charCodeAt(0);if(s<256){t=s}}if(i!==undefined&&typeof i!=="string"){throw new TypeError("encoding must be a string")}if(typeof i==="string"&&!Ou.isEncoding(i)){throw new TypeError("Unknown encoding: "+i)}}else if(typeof t==="number"){t=t&255}if(r<0||this.length<r||this.length<n){throw new RangeError("Out of range index")}if(n<=r){return this}r=r>>>0;n=n===undefined?this.length:n>>>0;if(!t)t=0;var a;if(typeof t==="number"){for(a=r;a<n;++a){this[a]=t}}else{var o=Mu(t)?t:yc(new Ou(t,i).toString());var u=o.length;for(a=0;a<n-r;++a){this[a+r]=o[a%u]}}return this};var dc=/[^+\/0-9A-Za-z-_]/g;function pc(e){e=vc(e).replace(dc,"");if(e.length<2)return"";while(e.length%4!==0){e=e+"="}return e}function vc(e){if(e.trim)return e.trim();return e.replace(/^\s+|\s+$/g,"")}function gc(e){if(e<16)return"0"+e.toString(16);return e.toString(16)}function yc(e,t){t=t||Infinity;var r;var n=e.length;var i=null;var s=[];for(var a=0;a<n;++a){r=e.charCodeAt(a);if(r>55295&&r<57344){if(!i){if(r>56319){if((t-=3)>-1)s.push(239,191,189);continue}else if(a+1===n){if((t-=3)>-1)s.push(239,191,189);continue}i=r;continue}if(r<56320){if((t-=3)>-1)s.push(239,191,189);i=r;continue}r=(i-55296<<10|r-56320)+65536}else if(i){if((t-=3)>-1)s.push(239,191,189)}i=null;if(r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else{throw new Error("Invalid code point")}}return s}function mc(e){var t=[];for(var r=0;r<e.length;++r){t.push(e.charCodeAt(r)&255)}return t}function bc(e,t){var r,n,i;var s=[];for(var a=0;a<e.length;++a){if((t-=2)<0)break;r=e.charCodeAt(a);n=r>>8;i=r%256;s.push(i);s.push(n)}return s}function wc(e){return bu(pc(e))}function Sc(e,t,r,n){for(var i=0;i<n;++i){if(i+r>=t.length||i>=e.length)break;t[i+r]=e[i]}return i}function Ec(e){return e!==e}function xc(e){return e!=null&&(!!e._isBuffer||Ac(e)||Fc(e))}function Ac(e){return!!e.constructor&&typeof e.constructor.isBuffer==="function"&&e.constructor.isBuffer(e)}function Fc(e){return typeof e.readFloatLE==="function"&&typeof e.slice==="function"&&Ac(e.slice(0,0))}function Tc(e){return e===null}function Cc(e){return e==null}function kc(e){return typeof e==="string"}function Ic(e){return typeof e==="object"&&e!==null}function Oc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Rc=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function Dc(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function _c(e,t,r,n){t=t||"&";r=r||"=";if(e===null){e=undefined}if(typeof e==="object"){return Nc(Pc(e),(function(n){var i=encodeURIComponent(Dc(n))+r;if(Rc(e[n])){return Nc(e[n],(function(e){return i+encodeURIComponent(Dc(e))})).join(t)}else{return i+encodeURIComponent(Dc(e[n]))}})).join(t)}if(!n)return"";return encodeURIComponent(Dc(n))+r+encodeURIComponent(Dc(e))}function Nc(e,t){if(e.map)return e.map(t);var r=[];for(var n=0;n<e.length;n++){r.push(t(e[n],n))}return r}var Pc=Object.keys||function(e){var t=[];for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t.push(r)}return t};function jc(e,t,r,n){t=t||"&";r=r||"=";var i={};if(typeof e!=="string"||e.length===0){return i}var s=/\+/g;e=e.split(t);var a=1e3;if(n&&typeof n.maxKeys==="number"){a=n.maxKeys}var o=e.length;if(a>0&&o>a){o=a}for(var u=0;u<o;++u){var c=e[u].replace(s,"%20"),f=c.indexOf(r),l,h,d,p;if(f>=0){l=c.substr(0,f);h=c.substr(f+1)}else{l=c;h=""}d=decodeURIComponent(l);p=decodeURIComponent(h);if(!Oc(i,d)){i[d]=p}else if(Rc(i[d])){i[d].push(p)}else{i[d]=[i[d],p]}}return i}function Bc(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var Lc=/^([a-z0-9.+-]+:)/i,Hc=/:[0-9]*$/,Mc=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Vc=["<",">",'"',"`"," ","\r","\n","\t"],Uc=["{","}","|","\\","^","`"].concat(Vc),qc=["'"].concat(Uc),Kc=["%","/","?",";","#"].concat(qc),zc=["/","?","#"],Qc=255,Wc=/^[+a-z0-9A-Z_-]{0,63}$/,Yc=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Gc={javascript:true,"javascript:":true},Jc={javascript:true,"javascript:":true},$c={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true};function Xc(e,t,r){if(e&&Ic(e)&&e instanceof Bc)return e;var n=new Bc;n.parse(e,t,r);return n}Bc.prototype.parse=function(e,t,r){return Zc(this,e,t,r)};function Zc(e,t,r,n){if(!kc(t)){throw new TypeError("Parameter 'url' must be a string, not "+typeof t)}var i=t.indexOf("?"),s=i!==-1&&i<t.indexOf("#")?"?":"#",a=t.split(s),o=/\\/g;a[0]=a[0].replace(o,"/");t=a.join(s);var u=t;u=u.trim();if(!n&&t.split("#").length===1){var c=Mc.exec(u);if(c){e.path=u;e.href=u;e.pathname=c[1];if(c[2]){e.search=c[2];if(r){e.query=jc(e.search.substr(1))}else{e.query=e.search.substr(1)}}else if(r){e.search="";e.query={}}return e}}var f=Lc.exec(u);if(f){f=f[0];var l=f.toLowerCase();e.protocol=l;u=u.substr(f.length)}if(n||f||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var h=u.substr(0,2)==="//";if(h&&!(f&&Jc[f])){u=u.substr(2);e.slashes=true}}var d,p,v,g;if(!Jc[f]&&(h||f&&!$c[f])){var y=-1;for(d=0;d<zc.length;d++){p=u.indexOf(zc[d]);if(p!==-1&&(y===-1||p<y))y=p}var m,b;if(y===-1){b=u.lastIndexOf("@")}else{b=u.lastIndexOf("@",y)}if(b!==-1){m=u.slice(0,b);u=u.slice(b+1);e.auth=decodeURIComponent(m)}y=-1;for(d=0;d<Kc.length;d++){p=u.indexOf(Kc[d]);if(p!==-1&&(y===-1||p<y))y=p}if(y===-1)y=u.length;e.host=u.slice(0,y);u=u.slice(y);tf(e);e.hostname=e.hostname||"";var w=e.hostname[0]==="["&&e.hostname[e.hostname.length-1]==="]";if(!w){var S=e.hostname.split(/\./);for(d=0,v=S.length;d<v;d++){var E=S[d];if(!E)continue;if(!E.match(Wc)){var x="";for(var A=0,F=E.length;A<F;A++){if(E.charCodeAt(A)>127){x+="x"}else{x+=E[A]}}if(!x.match(Wc)){var T=S.slice(0,d);var C=S.slice(d+1);var k=E.match(Yc);if(k){T.push(k[1]);C.unshift(k[2])}if(C.length){u="/"+C.join(".")+u}e.hostname=T.join(".");break}}}}if(e.hostname.length>Qc){e.hostname=""}else{e.hostname=e.hostname.toLowerCase()}if(!w){e.hostname=du(e.hostname)}g=e.port?":"+e.port:"";var I=e.hostname||"";e.host=I+g;e.href+=e.host;if(w){e.hostname=e.hostname.substr(1,e.hostname.length-2);if(u[0]!=="/"){u="/"+u}}}if(!Gc[l]){for(d=0,v=qc.length;d<v;d++){var O=qc[d];if(u.indexOf(O)===-1)continue;var R=encodeURIComponent(O);if(R===O){R=escape(O)}u=u.split(O).join(R)}}var D=u.indexOf("#");if(D!==-1){e.hash=u.substr(D);u=u.slice(0,D)}var _=u.indexOf("?");if(_!==-1){e.search=u.substr(_);e.query=u.substr(_+1);if(r){e.query=jc(e.query)}u=u.slice(0,_)}else if(r){e.search="";e.query={}}if(u)e.pathname=u;if($c[l]&&e.hostname&&!e.pathname){e.pathname="/"}if(e.pathname||e.search){g=e.pathname||"";var N=e.search||"";e.path=g+N}e.href=ef(e);return e}function ef(e){var t=e.auth||"";if(t){t=encodeURIComponent(t);t=t.replace(/%3A/i,":");t+="@"}var r=e.protocol||"",n=e.pathname||"",i=e.hash||"",s=false,a="";if(e.host){s=t+e.host}else if(e.hostname){s=t+(e.hostname.indexOf(":")===-1?e.hostname:"["+this.hostname+"]");if(e.port){s+=":"+e.port}}if(e.query&&Ic(e.query)&&Object.keys(e.query).length){a=_c(e.query)}var o=e.search||a&&"?"+a||"";if(r&&r.substr(-1)!==":")r+=":";if(e.slashes||(!r||$c[r])&&s!==false){s="//"+(s||"");if(n&&n.charAt(0)!=="/")n="/"+n}else if(!s){s=""}if(i&&i.charAt(0)!=="#")i="#"+i;if(o&&o.charAt(0)!=="?")o="?"+o;n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)}));o=o.replace("#","%23");return r+s+n+o+i}Bc.prototype.format=function(){return ef(this)};Bc.prototype.resolve=function(e){return this.resolveObject(Xc(e,false,true)).format()};Bc.prototype.resolveObject=function(e){if(kc(e)){var t=new Bc;t.parse(e,false,true);e=t}var r=new Bc;var n=Object.keys(this);for(var i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}r.hash=e.hash;if(e.href===""){r.href=r.format();return r}if(e.slashes&&!e.protocol){var a=Object.keys(e);for(var o=0;o<a.length;o++){var u=a[o];if(u!=="protocol")r[u]=e[u]}if($c[r.protocol]&&r.hostname&&!r.pathname){r.path=r.pathname="/"}r.href=r.format();return r}var c;if(e.protocol&&e.protocol!==r.protocol){if(!$c[e.protocol]){var f=Object.keys(e);for(var l=0;l<f.length;l++){var h=f[l];r[h]=e[h]}r.href=r.format();return r}r.protocol=e.protocol;if(!e.host&&!Jc[e.protocol]){c=(e.pathname||"").split("/");while(c.length&&!(e.host=c.shift()));if(!e.host)e.host="";if(!e.hostname)e.hostname="";if(c[0]!=="")c.unshift("");if(c.length<2)c.unshift("");r.pathname=c.join("/")}else{r.pathname=e.pathname}r.search=e.search;r.query=e.query;r.host=e.host||"";r.auth=e.auth;r.hostname=e.hostname||e.host;r.port=e.port;if(r.pathname||r.search){var d=r.pathname||"";var p=r.search||"";r.path=d+p}r.slashes=r.slashes||e.slashes;r.href=r.format();return r}var v=r.pathname&&r.pathname.charAt(0)==="/",g=e.host||e.pathname&&e.pathname.charAt(0)==="/",y=g||v||r.host&&e.pathname,m=y,b=r.pathname&&r.pathname.split("/")||[],w=r.protocol&&!$c[r.protocol];c=e.pathname&&e.pathname.split("/")||[];if(w){r.hostname="";r.port=null;if(r.host){if(b[0]==="")b[0]=r.host;else b.unshift(r.host)}r.host="";if(e.protocol){e.hostname=null;e.port=null;if(e.host){if(c[0]==="")c[0]=e.host;else c.unshift(e.host)}e.host=null}y=y&&(c[0]===""||b[0]==="")}var S;if(g){r.host=e.host||e.host===""?e.host:r.host;r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname;r.search=e.search;r.query=e.query;b=c}else if(c.length){if(!b)b=[];b.pop();b=b.concat(c);r.search=e.search;r.query=e.query}else if(!Cc(e.search)){if(w){r.hostname=r.host=b.shift();S=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(S){r.auth=S.shift();r.host=r.hostname=S.shift()}}r.search=e.search;r.query=e.query;if(!Tc(r.pathname)||!Tc(r.search)){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.href=r.format();return r}if(!b.length){r.pathname=null;if(r.search){r.path="/"+r.search}else{r.path=null}r.href=r.format();return r}var E=b.slice(-1)[0];var x=(r.host||e.host||b.length>1)&&(E==="."||E==="..")||E==="";var A=0;for(var F=b.length;F>=0;F--){E=b[F];if(E==="."){b.splice(F,1)}else if(E===".."){b.splice(F,1);A++}else if(A){b.splice(F,1);A--}}if(!y&&!m){for(;A--;A){b.unshift("..")}}if(y&&b[0]!==""&&(!b[0]||b[0].charAt(0)!=="/")){b.unshift("")}if(x&&b.join("/").substr(-1)!=="/"){b.push("")}var T=b[0]===""||b[0]&&b[0].charAt(0)==="/";if(w){r.hostname=r.host=T?"":b.length?b.shift():"";S=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(S){r.auth=S.shift();r.host=r.hostname=S.shift()}}y=y||r.host&&b.length;if(y&&!T){b.unshift("")}if(!b.length){r.pathname=null;r.path=null}else{r.pathname=b.join("/")}if(!Tc(r.pathname)||!Tc(r.search)){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.auth=e.auth||r.auth;r.slashes=r.slashes||e.slashes;r.href=r.format();return r};Bc.prototype.parseHost=function(){return tf(this)};function tf(e){var t=e.host;var r=Hc.exec(t);if(r){r=r[0];if(r!==":"){e.port=r.substr(1)}t=t.substr(0,t.length-r.length)}if(t)e.hostname=t}var rf=e("crds_snail_trail_link",function(){function e(e){t(this,e);this.href="#"}e.prototype.componentWillLoad=function(){var e=Xc(this.href);var t=this.stripTrailingSlash(e.pathname);var r=this.stripTrailingSlash(window.location.pathname);this.isActive=this.isActive==undefined?t==r:this.isActive};e.prototype.stripTrailingSlash=function(e){try{return e.replace(/^(.+?)\/*?$/,"$1")}catch(t){return e}};e.prototype.clicked=function(){var e=this.element.parentNode.parentElement.querySelectorAll("crds-snail-trail-link");e.forEach((function(e){return e["isActive"]=false}));this.isActive=true};e.prototype.render=function(){var e={href:this.href,onClick:this.clicked.bind(this),class:this.isActive?"active":""};return r("a",Object.assign({"data-automation-id":this.automationId},e),r("slot",null))};Object.defineProperty(e.prototype,"element",{get:function(){return n(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return"a{color:#4d4d4d;display:block;font-weight:300;padding:11px 15px;position:relative;text-decoration:none}a.active:before{border:10px solid transparent;border-bottom:0;border-top-color:#0095d9;content:\"\";left:50%;position:absolute;top:0;-webkit-transform:translateX(-50%);transform:translateX(-50%)}\@media (hover){a:hover:after{background-color:#0095d9;bottom:0;content:\"\";display:inline-block;height:2px;left:15px;position:absolute;width:calc(100% - 30px)}}"},enumerable:true,configurable:true});return e}());var nf=he((function(e){(function(t){if(typeof window==="undefined")return;var r=0,n=false,i=false,s="message",a=s.length,o="[iFrameSizer]",u=o.length,c=null,f=window.requestAnimationFrame,l={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},h={},d=null,p={autoResize:true,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:true,inPageLinks:false,enablePublicMethods:true,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:false,maxHeight:Infinity,maxWidth:Infinity,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:false,sizeHeight:true,sizeWidth:false,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",onClosed:function(){},onInit:function(){},onMessage:function(){A("onMessage function not defined")},onResized:function(){},onScroll:function(){return true}};function v(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function g(e,t,r){e.addEventListener(t,r,false)}function y(e,t,r){e.removeEventListener(t,r,false)}function m(){var e=["moz","webkit","o","ms"];var t;for(t=0;t<e.length&&!f;t+=1){f=window[e[t]+"RequestAnimationFrame"]}if(!f){E("setup","RequestAnimationFrame not supported")}}function b(e){var t="Host page: "+e;if(window.top!==window.self){if(window.parentIFrame&&window.parentIFrame.getId){t=window.parentIFrame.getId()+": "+e}else{t="Nested host page: "+e}}return t}function w(e){return o+"["+b(e)+"]"}function S(e){return h[e]?h[e].log:n}function E(e,t){F("log",e,t,S(e))}function x(e,t){F("info",e,t,S(e))}function A(e,t){F("warn",e,t,true)}function F(e,t,r,n){if(true===n&&"object"===typeof window.console){console[e](w(t),r)}}function T(e){function t(){function e(){N(z);R(Q);L("onResized",z)}n("Height");n("Width");P(e,z,"init")}function r(){var e=K.substr(u).split(":");return{iframe:h[e[0]]&&h[e[0]].iframe,id:e[0],height:e[1],width:e[2],type:e[3]}}function n(e){var t=Number(h[Q]["max"+e]),r=Number(h[Q]["min"+e]),n=e.toLowerCase(),i=Number(z[n]);E(Q,"Checking "+n+" is in range "+r+"-"+t);if(i<r){i=r;E(Q,"Set "+n+" to min value")}if(i>t){i=t;E(Q,"Set "+n+" to max value")}z[n]=""+i}function i(){function t(){function e(){var e=0,t=false;E(Q,"Checking connection is from allowed list of origins: "+n);for(;e<n.length;e++){if(n[e]===r){t=true;break}}return t}function t(){var e=h[Q]&&h[Q].remoteHost;E(Q,"Checking connection is from: "+e);return r===e}return n.constructor===Array?e():t()}var r=e.origin,n=h[Q]&&h[Q].checkOrigin;if(n&&""+r!=="null"&&!t()){throw new Error("Unexpected message received from: "+r+" for "+z.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.")}return true}function s(){return o===(""+K).substr(0,u)&&K.substr(u).split(":")[0]in h}function f(){var e=z.type in{true:1,false:1,undefined:1};if(e){E(Q,"Ignoring init message from meta parent page")}return e}function l(e){return K.substr(K.indexOf(":")+a+e)}function d(e){E(Q,"onMessage passed: {iframe: "+z.iframe.id+", message: "+e+"}");L("onMessage",{iframe:z.iframe,message:JSON.parse(e)});E(Q,"--")}function p(){var e=document.body.getBoundingClientRect(),t=z.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:t.height,iframeWidth:t.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(t.top-e.top,10),offsetLeft:parseInt(t.left-e.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,documentHeight:document.documentElement.clientHeight,documentWidth:document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth})}function v(e,t){function r(){j("Send Page Info","pageInfo:"+p(),e,t)}V(r,32,t)}function m(){function e(e,r){function i(){if(h[n]){v(h[n].iframe,n)}else{t()}}["scroll","resize"].forEach((function(t){E(n,e+t+" listener for sendPageInfo");r(window,t,i)}))}function t(){e("Remove ",y)}function r(){e("Add ",g)}var n=Q;r();if(h[n]){h[n].stopPageInfo=t}}function b(){if(h[Q]&&h[Q].stopPageInfo){h[Q].stopPageInfo();delete h[Q].stopPageInfo}}function w(){var e=true;if(null===z.iframe){A(Q,"IFrame ("+z.id+") not found");e=false}return e}function S(e){var t=e.getBoundingClientRect();O(Q);return{x:Math.floor(Number(t.left)+Number(c.x)),y:Math.floor(Number(t.top)+Number(c.y))}}function F(e){function t(){c=s;T();E(Q,"--")}function r(){return{x:Number(z.width)+i.x,y:Number(z.height)+i.y}}function n(){if(window.parentIFrame){window.parentIFrame["scrollTo"+(e?"Offset":"")](s.x,s.y)}else{A(Q,"Unable to scroll to requested position, window.parentIFrame not found")}}var i=e?S(z.iframe):{x:0,y:0},s=r();E(Q,"Reposition requested from iFrame (offset x:"+i.x+" y:"+i.y+")");if(window.top!==window.self){n()}else{t()}}function T(){if(false!==L("onScroll",c)){R(Q)}else{D()}}function k(e){function t(){var e=S(s);E(Q,"Moving to in page link (#"+n+") at x: "+e.x+" y: "+e.y);c={x:e.x,y:e.y};T();E(Q,"--")}function r(){if(window.parentIFrame){window.parentIFrame.moveToAnchor(n)}else{E(Q,"In page link #"+n+" not found and window.parentIFrame not found")}}var n=e.split("#")[1]||"",i=decodeURIComponent(n),s=document.getElementById(i)||document.getElementsByName(i)[0];if(s){t()}else if(window.top!==window.self){r()}else{E(Q,"In page link #"+n+" not found")}}function L(e,t){return C(Q,e,t)}function H(){if(h[Q]&&h[Q].firstRun)q();switch(z.type){case"close":if(h[Q].closeRequeston)C(Q,"onCloseRequest",h[Q].iframe);else I(z.iframe);break;case"message":d(l(6));break;case"scrollTo":F(false);break;case"scrollToOffset":F(true);break;case"pageInfo":v(h[Q]&&h[Q].iframe,Q);m();break;case"pageInfoStop":b();break;case"inPageLink":k(l(9));break;case"reset":_(z);break;case"init":t();L("onInit",z.iframe);break;default:t()}}function M(e){var t=true;if(!h[e]){t=false;A(z.type+" No settings for "+e+". Message was: "+K)}return t}function U(){for(var e in h){j("iFrame requested init",B(e),document.getElementById(e),e)}}function q(){if(h[Q]){h[Q].firstRun=false}}var K=e.data,z={},Q=null;if("[iFrameResizerChild]Ready"===K){U()}else if(s()){z=r();Q=z.id;if(h[Q]){h[Q].loaded=true}if(!f()&&M(Q)){E(Q,"Received: "+K);if(w()&&i()){H()}}}else{x(Q,"Ignored: "+K)}}function C(e,t,r){var n=null,i=null;if(h[e]){n=h[e][t];if("function"===typeof n){i=n(r)}else{throw new TypeError(t+" on iFrame["+e+"] is not a function")}}return i}function k(e){var t=e.id;delete h[t]}function I(e){var t=e.id;E(t,"Removing iFrame: "+t);try{if(e.parentNode){e.parentNode.removeChild(e)}}catch(e){A(e)}C(t,"onClosed",t);E(t,"--");k(e)}function O(e){if(null===c){c={x:window.pageXOffset!==t?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==t?window.pageYOffset:document.documentElement.scrollTop};E(e,"Get page position: "+c.x+","+c.y)}}function R(e){if(null!==c){window.scrollTo(c.x,c.y);E(e,"Set page position: "+c.x+","+c.y);D()}}function D(){c=null}function _(e){function t(){N(e);j("reset","reset",e.iframe,e.id)}E(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame"));O(e.id);P(t,e,"reset")}function N(e){function t(t){if(!e.id){E("undefined","messageData id not set");return}e.iframe.style[t]=e[t]+"px";E(e.id,"IFrame ("+s+") "+t+" set to "+e[t]+"px")}function r(t){if(!i&&"0"===e[t]){i=true;E(s,"Hidden iFrame detected, creating visibility listener");U()}}function n(e){t(e);r(e)}var s=e.iframe.id;if(h[s]){if(h[s].sizeHeight){n("height")}if(h[s].sizeWidth){n("width")}}}function P(e,t,r){if(r!==t.type&&f){E(t.id,"Requesting animation frame");f(e)}else{e()}}function j(e,t,r,n,i){function s(){var i=h[n]&&h[n].targetOrigin;E(n,"["+e+"] Sending msg to iframe["+n+"] ("+t+") targetOrigin: "+i);r.contentWindow.postMessage(o+t,i)}function a(){A(n,"["+e+"] IFrame("+n+") not found")}function u(){if(r&&"contentWindow"in r&&null!==r.contentWindow){s()}else{a()}}function c(){function e(){if(h[n]&&!h[n].loaded&&!f){f=true;A(n,"IFrame has not responded within "+h[n].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning.")}}if(!!i&&h[n]&&!!h[n].warningTimeout){h[n].msgTimeout=setTimeout(e,h[n].warningTimeout)}}var f=false;n=n||r.id;if(h[n]){u();c()}}function B(e){return e+":"+h[e].bodyMarginV1+":"+h[e].sizeWidth+":"+h[e].log+":"+h[e].interval+":"+h[e].enablePublicMethods+":"+h[e].autoResize+":"+h[e].bodyMargin+":"+h[e].heightCalculationMethod+":"+h[e].bodyBackground+":"+h[e].bodyPadding+":"+h[e].tolerance+":"+h[e].inPageLinks+":"+h[e].resizeFrom+":"+h[e].widthCalculationMethod}function L(e,i){function s(){function t(t){if(Infinity!==h[T][t]&&0!==h[T][t]){e.style[t]=h[T][t]+"px";E(T,"Set "+t+" = "+h[T][t]+"px")}}function r(e){if(h[T]["min"+e]>h[T]["max"+e]){throw new Error("Value for min"+e+" can not be greater than max"+e)}}r("Height");r("Width");t("maxHeight");t("minHeight");t("maxWidth");t("minWidth")}function a(){var e=i&&i.id||p.id+r++;if(null!==document.getElementById(e)){e+=r++}return e}function o(t){if(""===t){e.id=t=a();n=(i||{}).log;E(t,"Added missing iframe ID: "+t+" ("+e.src+")")}return t}function u(){E(T,"IFrame scrolling "+(h[T]&&h[T].scrolling?"enabled":"disabled")+" for "+T);e.style.overflow=false===(h[T]&&h[T].scrolling)?"hidden":"auto";switch(h[T]&&h[T].scrolling){case"omit":break;case true:e.scrolling="yes";break;case false:e.scrolling="no";break;default:e.scrolling=h[T]?h[T].scrolling:"no"}}function c(){if("number"===typeof(h[T]&&h[T].bodyMargin)||"0"===(h[T]&&h[T].bodyMargin)){h[T].bodyMarginV1=h[T].bodyMargin;h[T].bodyMargin=""+h[T].bodyMargin+"px"}}function f(){var t=h[T]&&h[T].firstRun,r=h[T]&&h[T].heightCalculationMethod in l;if(!t&&r){_({iframe:e,height:0,width:0,type:"init"})}}function d(){if(h[T]){h[T].iframe.iFrameResizer={close:I.bind(null,h[T].iframe),removeListeners:k.bind(null,h[T].iframe),resize:j.bind(null,"Window resize","resize",h[T].iframe),moveToAnchor:function(e){j("Move to anchor","moveToAnchor:"+e,h[T].iframe,T)},sendMessage:function(e){e=JSON.stringify(e);j("Send Message","message:"+e,h[T].iframe,T)}}}}function y(r){function n(){j("iFrame.onload",r,e,t,true);f()}function i(t){if(!e.parentNode){return}var r=new t((function(t){t.forEach((function(t){var r=Array.prototype.slice.call(t.removedNodes);r.forEach((function(t){if(t===e){I(e)}}))}))}));r.observe(e.parentNode,{childList:true})}var s=v();if(s){i(s)}g(e,"load",n);j("init",r,e,t,true)}function m(e){if("object"!==typeof e){throw new TypeError("Options is not an object")}}function b(e){for(var t in p){if(Object.prototype.hasOwnProperty.call(p,t)){h[T][t]=Object.prototype.hasOwnProperty.call(e,t)?e[t]:p[t]}}}function w(e){return""===e||"file://"===e?"*":e}function S(e){var t=e.split("Callback");if(t.length===2){var r="on"+t[0].charAt(0).toUpperCase()+t[0].slice(1);this[r]=this[e];delete this[e];A(T,"Deprecated: '"+e+"' has been renamed '"+r+"'. The old method will be removed in the next major version.")}}function x(t){t=t||{};h[T]={firstRun:true,iframe:e,remoteHost:e.src.split("/").slice(0,3).join("/")};m(t);Object.keys(t).forEach(S,t);b(t);if(h[T]){h[T].targetOrigin=true===h[T].checkOrigin?w(h[T].remoteHost):"*"}}function F(){return T in h&&"iFrameResizer"in e}var T=o(e.id);if(!F()){x(i);u();s();c();y(B(T));d()}else{A(T,"Ignored iFrame, already setup.")}}function H(e,t){if(null===d){d=setTimeout((function(){d=null;e()}),t)}}var M={};function V(e,t,r){if(!M[r]){M[r]=setTimeout((function(){M[r]=null;e()}),t)}}function U(){function e(){function e(e){function t(t){return"0px"===(h[e]&&h[e].iframe.style[t])}function r(e){return null!==e.offsetParent}if(h[e]&&r(h[e].iframe)&&(t("height")||t("width"))){j("Visibility change","resize",h[e].iframe,e)}}Object.keys(h).forEach((function(t){e(h[t])}))}function t(t){E("window","Mutation observed: "+t[0].target+" "+t[0].type);H(e,16)}function r(){var e=document.querySelector("body"),r={attributes:true,attributeOldValue:false,characterData:true,characterDataOldValue:false,childList:true,subtree:true},i=new n(t);i.observe(e,r)}var n=v();if(n){r()}}function q(e){function t(){z("Window "+e,"resize")}E("window","Trigger event: "+e);H(t,16)}function K(){function e(){z("Tab Visable","resize")}if("hidden"!==document.visibilityState){E("document","Trigger event: Visiblity change");H(e,16)}}function z(e,t){function r(e){return h[e]&&"parent"===h[e].resizeFrom&&h[e].autoResize&&!h[e].firstRun}Object.keys(h).forEach((function(n){if(r(n)){j(e,t,document.getElementById(n),n)}}))}function Q(){g(window,"message",T);g(window,"resize",(function(){q("resize")}));g(document,"visibilitychange",K);g(document,"-webkit-visibilitychange",K)}function W(){function e(e,t){function r(){if(!t.tagName){throw new TypeError("Object is not a valid DOM element")}else if("IFRAME"!==t.tagName.toUpperCase()){throw new TypeError("Expected <IFRAME> tag, found <"+t.tagName+">")}}if(t){r();L(t,e);n.push(t)}}function r(e){if(e&&e.enablePublicMethods){A("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}}var n;m();Q();return function i(s,a){n=[];r(s);switch(typeof a){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(a||"iframe"),e.bind(t,s));break;case"object":e(s,a);break;default:throw new TypeError("Unexpected data type ("+typeof a+")")}return n}}function Y(e){if(!e.fn){x("","Unable to bind to jQuery, it is not fully loaded.")}else if(!e.fn.iFrameResize){e.fn.iFrameResize=function e(t){function r(e,r){L(r,t)}return this.filter("iframe").each(r).end()}}}if(window.jQuery){Y(window.jQuery)}if(typeof t==="function"&&t.amd){t([],W)}else{e.exports=W()}window.iFrameResize=window.iFrameResize||W()})()}));var sf=he((function(e){(function(t){if(typeof window==="undefined")return;var r=true,n=10,i="",s=0,a="",o=null,u="",c=false,f={resize:1,click:1},l=128,h=true,d=1,p="bodyOffset",v=p,g=true,y="",m={},b=32,w=null,S=false,E="[iFrameSizer]",x=E.length,A="",F={max:1,min:1,bodyScroll:1,documentElementScroll:1},T="child",C=true,k=window.parent,I="*",O=0,R=false,D=null,_=16,N=1,P="scroll",j=P,B=window,L=function(){Z("onMessage function not defined")},H=function(){},M=function(){},V={height:function(){Z("Custom height calculation function not defined");return document.documentElement.offsetHeight},width:function(){Z("Custom width calculation function not defined");return document.body.scrollWidth}},U={},q=false;function K(){}try{var z=Object.create({},{passive:{get:function(){q=true}}});window.addEventListener("test",K,z);window.removeEventListener("test",K,z)}catch(e){}function Q(e,t,r,n){e.addEventListener(t,r,q?n||{}:false)}function W(e,t,r){e.removeEventListener(t,r,false)}function Y(e){return e.charAt(0).toUpperCase()+e.slice(1)}function G(e){var t,r,n,i=null,s=0,a=function(){s=J();i=null;n=e.apply(t,r);if(!i){t=r=null}};return function(){var o=J();if(!s){s=o}var u=_-(o-s);t=this;r=arguments;if(u<=0||u>_){if(i){clearTimeout(i);i=null}s=o;n=e.apply(t,r);if(!i){t=r=null}}else if(!i){i=setTimeout(a,u)}return n}}var J=Date.now||function(){return(new Date).getTime()};function $(e){return E+"["+A+"] "+e}function X(e){if(S&&"object"===typeof window.console){console.log($(e))}}function Z(e){if("object"===typeof window.console){console.warn($(e))}}function ee(){te();X("Initialising iFrame ("+location.href+")");ne();ae();se("background",i);se("padding",u);be();le();he();oe();Se();de();m=we();Pe("init","Init message from host page");H()}function te(){function e(e){return"true"===e}var n=y.substr(x).split(":");A=n[0];s=t!==n[1]?Number(n[1]):s;c=t!==n[2]?e(n[2]):c;S=t!==n[3]?e(n[3]):S;b=t!==n[4]?Number(n[4]):b;r=t!==n[6]?e(n[6]):r;a=n[7];v=t!==n[8]?n[8]:v;i=n[9];u=n[10];O=t!==n[11]?Number(n[11]):O;m.enable=t!==n[12]?e(n[12]):false;T=t!==n[13]?n[13]:T;j=t!==n[14]?n[14]:j}function re(e){var t=e.split("Callback");if(t.length===2){var r="on"+t[0].charAt(0).toUpperCase()+t[0].slice(1);this[r]=this[e];delete this[e];Z("Deprecated: '"+e+"' has been renamed '"+r+"'. The old method will be removed in the next major version.")}}function ne(){function e(){var e=window.iFrameResizer;X("Reading data from page: "+JSON.stringify(e));Object.keys(e).forEach(re,e);L="onMessage"in e?e.onMessage:L;H="onReady"in e?e.onReady:H;I="targetOrigin"in e?e.targetOrigin:I;v="heightCalculationMethod"in e?e.heightCalculationMethod:v;j="widthCalculationMethod"in e?e.widthCalculationMethod:j}function t(e,t){if("function"===typeof e){X("Setup custom "+t+"CalcMethod");V[t]=e;e="custom"}return e}if("iFrameResizer"in window&&Object===window.iFrameResizer.constructor){e();v=t(v,"height");j=t(j,"width")}X("TargetOrigin for parent set to: "+I)}function ie(e,t){if(-1!==t.indexOf("-")){Z("Negative CSS value ignored for "+e);t=""}return t}function se(e,r){if(t!==r&&""!==r&&"null"!==r){document.body.style[e]=r;X("Body "+e+' set to "'+r+'"')}}function ae(){if(t===a){a=s+"px"}se("margin",ie("margin",a))}function oe(){document.documentElement.style.height="";document.body.style.height="";X('HTML & body height set to "auto"')}function ue(e){var t={add:function(t){function r(){Pe(e.eventName,e.eventType)}U[t]=r;Q(window,t,r,{passive:true})},remove:function(e){var t=U[e];delete U[e];W(window,e,t)}};if(e.eventNames&&Array.prototype.map){e.eventName=e.eventNames[0];e.eventNames.map(t[e.method])}else{t[e.method](e.eventName)}X(Y(e.method)+" event listener: "+e.eventType)}function ce(e){ue({method:e,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]});ue({method:e,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]});ue({method:e,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]});ue({method:e,eventType:"Input",eventName:"input"});ue({method:e,eventType:"Mouse Up",eventName:"mouseup"});ue({method:e,eventType:"Mouse Down",eventName:"mousedown"});ue({method:e,eventType:"Orientation Change",eventName:"orientationchange"});ue({method:e,eventType:"Print",eventName:["afterprint","beforeprint"]});ue({method:e,eventType:"Ready State Change",eventName:"readystatechange"});ue({method:e,eventType:"Touch Start",eventName:"touchstart"});ue({method:e,eventType:"Touch End",eventName:"touchend"});ue({method:e,eventType:"Touch Cancel",eventName:"touchcancel"});ue({method:e,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]});ue({method:e,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]});ue({method:e,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]});if("child"===T){ue({method:e,eventType:"IFrame Resized",eventName:"resize"})}}function fe(e,t,r,n){if(t!==e){if(!(e in r)){Z(e+" is not a valid option for "+n+"CalculationMethod.");e=t}X(n+' calculation method set to "'+e+'"')}return e}function le(){v=fe(v,p,Re,"height")}function he(){j=fe(j,P,De,"width")}function de(){if(true===r){ce("add");Ae()}else{X("Auto Resize disabled")}}function pe(){X("Disable outgoing messages");C=false}function ve(){X("Remove event listener: Message");W(window,"message",Me)}function ge(){if(null!==o){o.disconnect()}}function ye(){ce("remove");ge();clearInterval(w)}function me(){pe();ve();if(true===r)ye()}function be(){var e=document.createElement("div");e.style.clear="both";e.style.display="block";e.style.height="0";document.body.appendChild(e)}function we(){function e(){return{x:window.pageXOffset!==t?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==t?window.pageYOffset:document.documentElement.scrollTop}}function r(t){var r=t.getBoundingClientRect(),n=e();return{x:parseInt(r.left,10)+parseInt(n.x,10),y:parseInt(r.top,10)+parseInt(n.y,10)}}function n(e){function n(e){var t=r(e);X("Moving to in page link (#"+i+") at x: "+t.x+" y: "+t.y);He(t.y,t.x,"scrollToOffset")}var i=e.split("#")[1]||e,s=decodeURIComponent(i),a=document.getElementById(s)||document.getElementsByName(s)[0];if(t!==a){n(a)}else{X("In page link (#"+i+") not found in iFrame, so sending to parent");He(0,0,"inPageLink","#"+i)}}function i(){if(""!==location.hash&&"#"!==location.hash){n(location.href)}}function s(){function e(e){function t(e){e.preventDefault();n(this.getAttribute("href"))}if("#"!==e.getAttribute("href")){Q(e,"click",t)}}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),e)}function a(){Q(window,"hashchange",i)}function o(){setTimeout(i,l)}function u(){if(Array.prototype.forEach&&document.querySelectorAll){X("Setting up location.hash handlers");s();a();o()}else{Z("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}}if(m.enable){u()}else{X("In page linking not enabled")}return{findTarget:n}}function Se(){X("Enable public methods");B.parentIFrame={autoResize:function e(t){if(true===t&&false===r){r=true;de()}else if(false===t&&true===r){r=false;ye()}return r},close:function e(){He(0,0,"close");me()},getId:function e(){return A},getPageInfo:function e(t){if("function"===typeof t){M=t;He(0,0,"pageInfo")}else{M=function(){};He(0,0,"pageInfoStop")}},moveToAnchor:function e(t){m.findTarget(t)},reset:function e(){Le("parentIFrame.reset")},scrollTo:function e(t,r){He(r,t,"scrollTo")},scrollToOffset:function e(t,r){He(r,t,"scrollToOffset")},sendMessage:function e(t,r){He(0,0,"message",JSON.stringify(t),r)},setHeightCalculationMethod:function e(t){v=t;le()},setWidthCalculationMethod:function e(t){j=t;he()},setTargetOrigin:function e(t){X("Set targetOrigin: "+t);I=t},size:function e(t,r){var n=""+(t||"")+(r?","+r:"");Pe("size","parentIFrame.size("+n+")",t,r)}}}function Ee(){if(0!==b){X("setInterval: "+b+"ms");w=setInterval((function(){Pe("interval","setInterval: "+b)}),Math.abs(b))}}function xe(){function e(e){function t(e){if(false===e.complete){X("Attach listeners to "+e.src);e.addEventListener("load",s,false);e.addEventListener("error",a,false);c.push(e)}}if(e.type==="attributes"&&e.attributeName==="src"){t(e.target)}else if(e.type==="childList"){Array.prototype.forEach.call(e.target.querySelectorAll("img"),t)}}function r(e){c.splice(c.indexOf(e),1)}function n(e){X("Remove listeners from "+e.src);e.removeEventListener("load",s,false);e.removeEventListener("error",a,false);r(e)}function i(e,r,i){n(e.target);Pe(r,i+": "+e.target.src,t,t)}function s(e){i(e,"imageLoad","Image loaded")}function a(e){i(e,"imageLoadFailed","Image load failed")}function o(t){Pe("mutationObserver","mutationObserver: "+t[0].target+" "+t[0].type);t.forEach(e)}function u(){var e=document.querySelector("body"),t={attributes:true,attributeOldValue:false,characterData:true,characterDataOldValue:false,childList:true,subtree:true};l=new f(o);X("Create body MutationObserver");l.observe(e,t);return l}var c=[],f=window.MutationObserver||window.WebKitMutationObserver,l=u();return{disconnect:function(){if("disconnect"in l){X("Disconnect body MutationObserver");l.disconnect();c.forEach(n)}}}}function Ae(){var e=0>b;if(window.MutationObserver||window.WebKitMutationObserver){if(e){Ee()}else{o=xe()}}else{X("MutationObserver not supported in this browser!");Ee()}}function Fe(e,t){var r=0;t=t||document.body;r=document.defaultView.getComputedStyle(t,null);r=null!==r?r[e]:0;return parseInt(r,n)}function Te(e){if(e>_/2){_=2*e;X("Event throttle increased to "+_+"ms")}}function Ce(e,t){var r=t.length,n=0,i=0,s=Y(e),a=J();for(var o=0;o<r;o++){n=t[o].getBoundingClientRect()[e]+Fe("margin"+s,t[o]);if(n>i){i=n}}a=J()-a;X("Parsed "+r+" HTML elements");X("Element position calculated in "+a+"ms");Te(a);return i}function ke(e){return[e.bodyOffset(),e.bodyScroll(),e.documentElementOffset(),e.documentElementScroll()]}function Ie(e,t){function r(){Z("No tagged elements ("+t+") found on page");return document.querySelectorAll("body *")}var n=document.querySelectorAll("["+t+"]");if(0===n.length)r();return Ce(e,n)}function Oe(){return document.querySelectorAll("body *")}var Re={bodyOffset:function e(){return document.body.offsetHeight+Fe("marginTop")+Fe("marginBottom")},offset:function(){return Re.bodyOffset()},bodyScroll:function e(){return document.body.scrollHeight},custom:function e(){return V.height()},documentElementOffset:function e(){return document.documentElement.offsetHeight},documentElementScroll:function e(){return document.documentElement.scrollHeight},max:function e(){return Math.max.apply(null,ke(Re))},min:function e(){return Math.min.apply(null,ke(Re))},grow:function e(){return Re.max()},lowestElement:function e(){return Math.max(Re.bodyOffset()||Re.documentElementOffset(),Ce("bottom",Oe()))},taggedElement:function e(){return Ie("bottom","data-iframe-height")}},De={bodyScroll:function e(){return document.body.scrollWidth},bodyOffset:function e(){return document.body.offsetWidth},custom:function e(){return V.width()},documentElementScroll:function e(){return document.documentElement.scrollWidth},documentElementOffset:function e(){return document.documentElement.offsetWidth},scroll:function e(){return Math.max(De.bodyScroll(),De.documentElementScroll())},max:function e(){return Math.max.apply(null,ke(De))},min:function e(){return Math.min.apply(null,ke(De))},rightMostElement:function e(){return Ce("right",Oe())},taggedElement:function e(){return Ie("right","data-iframe-width")}};function _e(e,r,n,i){function s(){d=h;N=p;He(d,N,e)}function a(){function e(e,t){var r=Math.abs(e-t)<=O;return!r}h=t!==n?n:Re[v]();p=t!==i?i:De[j]();return e(d,h)||c&&e(N,p)}function o(){return!(e in{init:1,interval:1,size:1})}function u(){return v in F||c&&j in F}function f(){X("No change in size detected")}function l(){if(o()&&u()){Le(r)}else if(!(e in{interval:1})){f()}}var h,p;if(a()||"init"===e){je();s()}else{l()}}var Ne=G(_e);function Pe(e,t,r,n){function i(){if(!(e in{reset:1,resetPage:1,init:1})){X("Trigger event: "+t)}}function s(){return R&&e in f}if(!s()){i();if(e==="init"){_e(e,t,r,n)}else{Ne(e,t,r,n)}}else{X("Trigger event cancelled: "+e)}}function je(){if(!R){R=true;X("Trigger event lock on")}clearTimeout(D);D=setTimeout((function(){R=false;X("Trigger event lock off");X("--")}),l)}function Be(e){d=Re[v]();N=De[j]();He(d,N,e)}function Le(e){var t=v;v=p;X("Reset trigger event: "+e);je();Be("reset");v=t}function He(e,r,n,i,s){function a(){if(t===s){s=I}else{X("Message targetOrigin: "+s)}}function o(){var a=e+":"+r,o=A+":"+a+":"+n+(t!==i?":"+i:"");X("Sending message to host page ("+o+")");k.postMessage(E+o,s)}if(true===C){a();o()}}function Me(t){var r={init:function e(){y=t.data;k=t.source;ee();h=false;setTimeout((function(){g=false}),l)},reset:function e(){if(!g){X("Page size reset by host page");Be("resetPage")}else{X("Page reset ignored by init")}},resize:function e(){Pe("resizeParent","Parent window requested size check")},moveToAnchor:function e(){m.findTarget(s())},inPageLink:function e(){this.moveToAnchor()},pageInfo:function e(){var t=s();X("PageInfoFromParent called from parent: "+t);M(JSON.parse(t));X(" --")},message:function e(){var t=s();X("onMessage called from parent: "+t);L(JSON.parse(t));X(" --")}};function n(){return E===(""+t.data).substr(0,x)}function i(){return t.data.split("]")[1].split(":")[0]}function s(){return t.data.substr(t.data.indexOf(":")+1)}function a(){return!e.exports&&"iFrameResize"in window||"jQuery"in window&&"iFrameResize"in window.jQuery.prototype}function o(){return t.data.split(":")[2]in{true:1,false:1}}function u(){var e=i();if(e in r){r[e]()}else if(!a()&&!o()){Z("Unexpected message ("+t.data+")")}}function c(){if(false===h){u()}else if(o()){r.init()}else{X('Ignored message of type "'+i()+'". Received before initialization.')}}if(n()){c()}}function Ve(){if("loading"!==document.readyState){window.parent.postMessage("[iFrameResizerChild]Ready","*")}}Q(window,"message",Me);Q(window,"readystatechange",Ve);Ve()})()}));var af=nf;var of=sf;var uf={iframeResizer:af,iframeResizerContentWindow:of};var cf=uf;var ff=e("crds_subscribe",function(){function e(e){var r=this;t(this,e);this.modalIsShowing=false;this.handleSubscribeClick=function(){r.modalIsShowing=true};this.handleModalClose=function(){r.modalIsShowing=false}}e.prototype.componentDidUpdate=function(){cf.iframeResizer({},this.frame)};e.prototype.render=function(){var e=this;return r(Do,null,r("div",{class:"subscribe-script"}),r("button",{onClick:this.handleSubscribeClick,class:"subscribe-button"},this.label),r("crds-modal",{label:this.label,isActive:this.modalIsShowing,onModalClose:this.handleModalClose},r("iframe",{ref:function(t){return e.frame=t},src:this.src,class:"subscribe-frame",frameborder:"0"})))};Object.defineProperty(e,"style",{get:function(){return".subscribe-button{background-color:transparent;border:0;color:#0095d9;cursor:pointer;display:inline-block;font:inherit;font-weight:600;line-height:normal;margin:0;padding:11px 15px}.subscribe-button:focus{border:0;outline:none}.subscribe-frame{border:none;height:100%;width:100%}"},enumerable:true,configurable:true});return e}());var lf=function(){function e(e){this.handleSignOut=e}e.prototype.renderSections=function(e,t){var n=this;var i=true;return r("div",null,r("h2",null," ",t," "),Array.isArray(e.children)&&e.children.map((function(e){var t=typeof e==="string";var s=t?n.renderSubHeader(e):n.maybeRenderList(e,i);i=!t;return s&&r("div",{style:{padding:"0"}},s)})))};e.prototype.renderSubHeader=function(e){return r("h4",null,e)};e.prototype.maybeRenderList=function(e,t){var n=this;if(!Array.isArray(e))return;var i=e.map((function(e){return n.maybeRenderListEntry(e,t)})).filter(Boolean);return i.length>0&&r("ul",null,i)};e.prototype.maybeRenderListEntry=function(e,t){return this.isObjectTruthyNonArray(e)&&r("li",{class:this.topLevelClassValue(e,t)},r("nav-link",{href:e.href,automationId:e["automation-id"],handleSignOut:this.handleSignOut},e.title))};e.prototype.topLevelClassValue=function(e,t){var r=typeof e.top_level==="boolean"?e.top_level:t;return r?"top-level":""};e.prototype.isObjectTruthyNonArray=function(e){return e&&typeof e==="object"&&!Array.isArray(e)};return e}();var hf=e("give_nav",function(){function e(e){t(this,e);this.giveNavIsShowing=true;this.simpleNav=new lf}e.prototype.navTitle=function(){var e=this.data;return e&&e.title||""};e.prototype.backgroundImageURL=function(e){return e.background_img||""};e.prototype.render=function(){if(!this.giveNavIsShowing||!this.simpleNav.isObjectTruthyNonArray(this.data))return null;return r("div",{class:"give-nav",style:{backgroundImage:"url("+this.backgroundImageURL(this.data)+")"}},this.simpleNav.renderSections(this.data,this.navTitle()))};Object.defineProperty(e,"style",{get:function(){return".give-nav,.profile-nav{font-family:acumin-pro,helvetica,arial,sans-serif!important;font-weight:300!important;color:#fff;background-color:#000;background-repeat:no-repeat;background-size:100%;height:100vh;left:0;margin-left:-15px;max-height:100vh;overflow-y:scroll;position:-webkit-sticky;position:sticky;top:48px;width:100vw;z-index:2}.give-nav div,.profile-nav div{height:auto;padding:30px 20px 90px}.give-nav a,.profile-nav a{color:#fff;display:inline-block;font-size:19px;margin-bottom:10px;padding-left:10px;text-decoration:none;text-transform:capitalize}.give-nav a.all,.profile-nav a.all{margin-bottom:30px}.give-nav a:hover,.profile-nav a:hover{color:#ccc}.give-nav h2,.profile-nav h2{font-family:acumin-pro-extra-condensed,sans-serif!important;font-weight:500!important;font-size:48px;line-height:48px;margin:0;text-transform:uppercase;margin-bottom:20px}.give-nav h4,.profile-nav h4{font-size:11px;margin:0 0 10px;opacity:.5;text-transform:uppercase}.give-nav ul,.profile-nav ul{padding-left:0;margin-top:0}.give-nav ul li,.profile-nav ul li{list-style:none}.give-nav ul li.top-level a,.profile-nav ul li.top-level a{padding-left:0}\@media (min-width:992px){.give-nav,.profile-nav{height:auto;left:auto;margin-right:-15px;position:absolute;right:15px;width:375px}}\@media (min-width:1170px){.give-nav,.profile-nav{margin-right:0}}.give-nav::-webkit-scrollbar,.profile-nav::-webkit-scrollbar{width:0}.give-nav ul:last-of-type,.profile-nav ul:last-of-type{padding-bottom:30px}.give-nav{background-image:url(https://crds-media.imgix.net/6sNxa1MWhMOfjhAB47yTCa/0acf1af4109f23abc0199b1e34abeb7a/give-bg_2x.jpg?auto=format%2Ccompress)}.profile-nav:after{background-color:rgba(0,0,0,.75);content:\" \";z-index:-1}.profile-nav .profile-nav-img,.profile-nav:after{height:100%;left:0;position:absolute;top:0;width:100%}.profile-nav .profile-nav-img{background-position:top;background-repeat:no-repeat;background-size:contain;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-filter:blur(2px);filter:blur(2px);z-index:-2}\@media (min-width:992px){.profile-nav div{padding-bottom:0}}"},enumerable:true,configurable:true});return e}());function df(e){return typeof e==="function"}var pf=false;var vf={Promise:undefined,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else if(pf){console.log("RxJS: Back to a better error behavior. Thank you. <3")}pf=e},get useDeprecatedSynchronousErrorHandling(){return pf}};function gf(e){setTimeout((function(){throw e}),0)}var yf={closed:true,next:function(e){},error:function(e){if(vf.useDeprecatedSynchronousErrorHandling){throw e}else{gf(e)}},complete:function(){}};var mf=Array.isArray||function(e){return e&&typeof e.length==="number"};function bf(e){return e!==null&&typeof e==="object"}function wf(e){Error.call(this);this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"";this.name="UnsubscriptionError";this.errors=e;return this}wf.prototype=Object.create(Error.prototype);var Sf=wf;var Ef=function(){function e(e){this.closed=false;this._parentOrParents=null;this._subscriptions=null;if(e){this._unsubscribe=e}}e.prototype.unsubscribe=function(){var t;if(this.closed){return}var r=this,n=r._parentOrParents,i=r._unsubscribe,s=r._subscriptions;this.closed=true;this._parentOrParents=null;this._subscriptions=null;if(n instanceof e){n.remove(this)}else if(n!==null){for(var a=0;a<n.length;++a){var o=n[a];o.remove(this)}}if(df(i)){try{i.call(this)}catch(e){t=e instanceof Sf?xf(e.errors):[e]}}if(mf(s)){var a=-1;var u=s.length;while(++a<u){var c=s[a];if(bf(c)){try{c.unsubscribe()}catch(e){t=t||[];if(e instanceof Sf){t=t.concat(xf(e.errors))}else{t.push(e)}}}}}if(t){throw new Sf(t)}};e.prototype.add=function(t){var r=t;switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||typeof r.unsubscribe!=="function"){return r}else if(this.closed){r.unsubscribe();return r}else if(!(r instanceof e)){var n=r;r=new e;r._subscriptions=[n]}break;default:{if(!t){return e.EMPTY}throw new Error("unrecognized teardown "+t+" added to Subscription.")}}var i=r._parentOrParents;if(i===null){r._parentOrParents=this}else if(i instanceof e){if(i===this){return r}r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1){i.push(this)}else{return r}var s=this._subscriptions;if(s===null){this._subscriptions=[r]}else{s.push(r)}return r};e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);if(r!==-1){t.splice(r,1)}}};return e}();Ef.EMPTY=function(e){e.closed=true;return e}(new Ef);function xf(e){return e.reduce((function(e,t){return e.concat(t instanceof Sf?t.errors:t)}),[])}var Af=typeof Symbol==="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();var Ff=function(e){__extends_1(t,e);function t(r,n,i){var s=e.call(this)||this;s.syncErrorValue=null;s.syncErrorThrown=false;s.syncErrorThrowable=false;s.isStopped=false;switch(arguments.length){case 0:s.destination=yf;break;case 1:if(!r){s.destination=yf;break}if(typeof r==="object"){if(r instanceof t){s.syncErrorThrowable=r.syncErrorThrowable;s.destination=r;r.add(s)}else{s.syncErrorThrowable=true;s.destination=new Tf(s,r)}break}default:s.syncErrorThrowable=true;s.destination=new Tf(s,r,n,i);break}return s}t.prototype[Af]=function(){return this};t.create=function(e,r,n){var i=new t(e,r,n);i.syncErrorThrowable=false;return i};t.prototype.next=function(e){if(!this.isStopped){this._next(e)}};t.prototype.error=function(e){if(!this.isStopped){this.isStopped=true;this._error(e)}};t.prototype.complete=function(){if(!this.isStopped){this.isStopped=true;this._complete()}};t.prototype.unsubscribe=function(){if(this.closed){return}this.isStopped=true;e.prototype.unsubscribe.call(this)};t.prototype._next=function(e){this.destination.next(e)};t.prototype._error=function(e){this.destination.error(e);this.unsubscribe()};t.prototype._complete=function(){this.destination.complete();this.unsubscribe()};t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;this._parentOrParents=null;this.unsubscribe();this.closed=false;this.isStopped=false;this._parentOrParents=e;return this};return t}(Ef);var Tf=function(e){__extends_1(t,e);function t(t,r,n,i){var s=e.call(this)||this;s._parentSubscriber=t;var a;var o=s;if(df(r)){a=r}else if(r){a=r.next;n=r.error;i=r.complete;if(r!==yf){o=Object.create(r);if(df(o.unsubscribe)){s.add(o.unsubscribe.bind(o))}o.unsubscribe=s.unsubscribe.bind(s)}}s._context=o;s._next=a;s._error=n;s._complete=i;return s}t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;if(!vf.useDeprecatedSynchronousErrorHandling||!t.syncErrorThrowable){this.__tryOrUnsub(this._next,e)}else if(this.__tryOrSetError(t,this._next,e)){this.unsubscribe()}}};t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;var r=vf.useDeprecatedSynchronousErrorHandling;if(this._error){if(!r||!t.syncErrorThrowable){this.__tryOrUnsub(this._error,e);this.unsubscribe()}else{this.__tryOrSetError(t,this._error,e);this.unsubscribe()}}else if(!t.syncErrorThrowable){this.unsubscribe();if(r){throw e}gf(e)}else{if(r){t.syncErrorValue=e;t.syncErrorThrown=true}else{gf(e)}this.unsubscribe()}}};t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};if(!vf.useDeprecatedSynchronousErrorHandling||!t.syncErrorThrowable){this.__tryOrUnsub(r);this.unsubscribe()}else{this.__tryOrSetError(t,r);this.unsubscribe()}}else{this.unsubscribe()}}};t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){this.unsubscribe();if(vf.useDeprecatedSynchronousErrorHandling){throw e}else{gf(e)}}};t.prototype.__tryOrSetError=function(e,t,r){if(!vf.useDeprecatedSynchronousErrorHandling){throw new Error("bad call")}try{t.call(this._context,r)}catch(t){if(vf.useDeprecatedSynchronousErrorHandling){e.syncErrorValue=t;e.syncErrorThrown=true;return true}else{gf(t);return true}}return false};t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null;this._parentSubscriber=null;e.unsubscribe()};return t}(Ff);function Cf(e){while(e){var t=e.closed,r=e.destination,n=e.isStopped;if(t||n){return false}else if(r&&r instanceof Ff){e=r}else{e=null}}return true}function kf(e,t,r){if(e){if(e instanceof Ff){return e}if(e[Af]){return e[Af]()}}if(!e&&!t&&!r){return new Ff(yf)}return new Ff(e,t,r)}var If=typeof Symbol==="function"&&Symbol.observable||"@@observable";function Of(){}function Rf(e){if(!e){return Of}if(e.length===1){return e[0]}return function t(r){return e.reduce((function(e,t){return t(e)}),r)}}var Df=function(){function e(e){this._isScalar=false;if(e){this._subscribe=e}}e.prototype.lift=function(t){var r=new e;r.source=this;r.operator=t;return r};e.prototype.subscribe=function(e,t,r){var n=this.operator;var i=kf(e,t,r);if(n){i.add(n.call(i,this.source))}else{i.add(this.source||vf.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i))}if(vf.useDeprecatedSynchronousErrorHandling){if(i.syncErrorThrowable){i.syncErrorThrowable=false;if(i.syncErrorThrown){throw i.syncErrorValue}}}return i};e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){if(vf.useDeprecatedSynchronousErrorHandling){e.syncErrorThrown=true;e.syncErrorValue=t}if(Cf(e)){e.error(t)}else{console.warn(t)}}};e.prototype.forEach=function(e,t){var r=this;t=_f(t);return new t((function(t,n){var i;i=r.subscribe((function(t){try{e(t)}catch(e){n(e);if(i){i.unsubscribe()}}}),n,t)}))};e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)};e.prototype[If]=function(){return this};e.prototype.pipe=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}if(e.length===0){return this}return Rf(e)(this)};e.prototype.toPromise=function(e){var t=this;e=_f(e);return new e((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))};return e}();Df.create=function(e){return new Df(e)};function _f(e){if(!e){e=Promise}if(!e){throw new Error("no Promise impl found")}return e}function Nf(){Error.call(this);this.message="object unsubscribed";this.name="ObjectUnsubscribedError";return this}Nf.prototype=Object.create(Error.prototype);var Pf=Nf;var jf=function(e){__extends_1(t,e);function t(t,r){var n=e.call(this)||this;n.subject=t;n.subscriber=r;n.closed=false;return n}t.prototype.unsubscribe=function(){if(this.closed){return}this.closed=true;var e=this.subject;var t=e.observers;this.subject=null;if(!t||t.length===0||e.isStopped||e.closed){return}var r=t.indexOf(this.subscriber);if(r!==-1){t.splice(r,1)}};return t}(Ef);var Bf=function(e){__extends_1(t,e);function t(t){var r=e.call(this,t)||this;r.destination=t;return r}return t}(Ff);var Lf=function(e){__extends_1(t,e);function t(){var t=e.call(this)||this;t.observers=[];t.closed=false;t.isStopped=false;t.hasError=false;t.thrownError=null;return t}t.prototype[Af]=function(){return new Bf(this)};t.prototype.lift=function(e){var t=new Hf(this,this);t.operator=e;return t};t.prototype.next=function(e){if(this.closed){throw new Pf}if(!this.isStopped){var t=this.observers;var r=t.length;var n=t.slice();for(var i=0;i<r;i++){n[i].next(e)}}};t.prototype.error=function(e){if(this.closed){throw new Pf}this.hasError=true;this.thrownError=e;this.isStopped=true;var t=this.observers;var r=t.length;var n=t.slice();for(var i=0;i<r;i++){n[i].error(e)}this.observers.length=0};t.prototype.complete=function(){if(this.closed){throw new Pf}this.isStopped=true;var e=this.observers;var t=e.length;var r=e.slice();for(var n=0;n<t;n++){r[n].complete()}this.observers.length=0};t.prototype.unsubscribe=function(){this.isStopped=true;this.closed=true;this.observers=null};t.prototype._trySubscribe=function(t){if(this.closed){throw new Pf}else{return e.prototype._trySubscribe.call(this,t)}};t.prototype._subscribe=function(e){if(this.closed){throw new Pf}else if(this.hasError){e.error(this.thrownError);return Ef.EMPTY}else if(this.isStopped){e.complete();return Ef.EMPTY}else{this.observers.push(e);return new jf(this,e)}};t.prototype.asObservable=function(){var e=new Df;e.source=this;return e};return t}(Df);Lf.create=function(e,t){return new Hf(e,t)};var Hf=function(e){__extends_1(t,e);function t(t,r){var n=e.call(this)||this;n.destination=t;n.source=r;return n}t.prototype.next=function(e){var t=this.destination;if(t&&t.next){t.next(e)}};t.prototype.error=function(e){var t=this.destination;if(t&&t.error){this.destination.error(e)}};t.prototype.complete=function(){var e=this.destination;if(e&&e.complete){this.destination.complete()}};t.prototype._subscribe=function(e){var t=this.source;if(t){return this.source.subscribe(e)}else{return Ef.EMPTY}};return t}(Lf);var Mf=function(e){__extends_1(t,e);function t(t){var r=e.call(this)||this;r._value=t;return r}Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:true,configurable:true});t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);if(r&&!r.closed){t.next(this._value)}return r};t.prototype.getValue=function(){if(this.hasError){throw this.thrownError}else if(this.closed){throw new Pf}else{return this._value}};t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)};return t}(Lf);var Vf=new Df((function(e){return e.complete()}));function Uf(e){return e?qf(e):Vf}function qf(e){return new Df((function(t){return e.schedule((function(){return t.complete()}))}))}function Kf(e){return e&&typeof e.schedule==="function"}var zf=function(e){return function(t){for(var r=0,n=e.length;r<n&&!t.closed;r++){t.next(e[r])}t.complete()}};function Qf(e,t){return new Df((function(r){var n=new Ef;var i=0;n.add(t.schedule((function(){if(i===e.length){r.complete();return}r.next(e[i++]);if(!r.closed){n.add(this.schedule())}})));return n}))}function Wf(e,t){if(!t){return new Df(zf(e))}else{return Qf(e,t)}}function Yf(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var r=e[e.length-1];if(Kf(r)){e.pop();return Qf(e,r)}else{return Wf(e)}}function Gf(e){return e}function Jf(e){return!!e&&(e instanceof Df||typeof e.lift==="function"&&typeof e.subscribe==="function")}function $f(){Error.call(this);this.message="argument out of range";this.name="ArgumentOutOfRangeError";return this}$f.prototype=Object.create(Error.prototype);var Xf=$f;function Zf(){Error.call(this);this.message="no elements in sequence";this.name="EmptyError";return this}Zf.prototype=Object.create(Error.prototype);var el=Zf;function tl(e,t){return function r(n){if(typeof e!=="function"){throw new TypeError("argument is not a function. Are you looking for `mapTo()`?")}return n.lift(new rl(e,t))}}var rl=function(){function e(e,t){this.project=e;this.thisArg=t}e.prototype.call=function(e,t){return t.subscribe(new nl(e,this.project,this.thisArg))};return e}();var nl=function(e){__extends_1(t,e);function t(t,r,n){var i=e.call(this,t)||this;i.project=r;i.count=0;i.thisArg=n||i;return i}t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){this.destination.error(e);return}this.destination.next(t)};return t}(Ff);var il=function(e){__extends_1(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)};t.prototype.notifyError=function(e,t){this.destination.error(e)};t.prototype.notifyComplete=function(e){this.destination.complete()};return t}(Ff);var sl=function(e){__extends_1(t,e);function t(t,r,n){var i=e.call(this)||this;i.parent=t;i.outerValue=r;i.outerIndex=n;i.index=0;return i}t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)};t.prototype._error=function(e){this.parent.notifyError(e,this);this.unsubscribe()};t.prototype._complete=function(){this.parent.notifyComplete(this);this.unsubscribe()};return t}(Ff);var al=function(e){return function(t){e.then((function(e){if(!t.closed){t.next(e);t.complete()}}),(function(e){return t.error(e)})).then(null,gf);return t}};function ol(){if(typeof Symbol!=="function"||!Symbol.iterator){return"@@iterator"}return Symbol.iterator}var ul=ol();var cl=function(e){return function(t){var r=e[ul]();do{var n=r.next();if(n.done){t.complete();break}t.next(n.value);if(t.closed){break}}while(true);if(typeof r.return==="function"){t.add((function(){if(r.return){r.return()}}))}return t}};var fl=function(e){return function(t){var r=e[If]();if(typeof r.subscribe!=="function"){throw new TypeError("Provided object does not correctly implement Symbol.observable")}else{return r.subscribe(t)}}};var ll=function(e){return e&&typeof e.length==="number"&&typeof e!=="function"};function hl(e){return!!e&&typeof e.subscribe!=="function"&&typeof e.then==="function"}var dl=function(e){if(!!e&&typeof e[If]==="function"){return fl(e)}else if(ll(e)){return zf(e)}else if(hl(e)){return al(e)}else if(!!e&&typeof e[ul]==="function"){return cl(e)}else{var t=bf(e)?"an invalid object":"'"+e+"'";var r="You provided "+t+" where a stream was expected."+" You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)}};function pl(e,t,r,n,i){if(i===void 0){i=new sl(e,r,n)}if(i.closed){return undefined}if(t instanceof Df){return t.subscribe(i)}return dl(t)(i)}function vl(e,t){return new Df((function(r){var n=new Ef;n.add(t.schedule((function(){var i=e[If]();n.add(i.subscribe({next:function(e){n.add(t.schedule((function(){return r.next(e)})))},error:function(e){n.add(t.schedule((function(){return r.error(e)})))},complete:function(){n.add(t.schedule((function(){return r.complete()})))}}))})));return n}))}function gl(e,t){return new Df((function(r){var n=new Ef;n.add(t.schedule((function(){return e.then((function(e){n.add(t.schedule((function(){r.next(e);n.add(t.schedule((function(){return r.complete()})))})))}),(function(e){n.add(t.schedule((function(){return r.error(e)})))}))})));return n}))}function yl(e,t){if(!e){throw new Error("Iterable cannot be null")}return new Df((function(r){var n=new Ef;var i;n.add((function(){if(i&&typeof i.return==="function"){i.return()}}));n.add(t.schedule((function(){i=e[ul]();n.add(t.schedule((function(){if(r.closed){return}var e;var t;try{var n=i.next();e=n.value;t=n.done}catch(e){r.error(e);return}if(t){r.complete()}else{r.next(e);this.schedule()}})))})));return n}))}function ml(e){return e&&typeof e[If]==="function"}function bl(e){return e&&typeof e[ul]==="function"}function wl(e,t){if(e!=null){if(ml(e)){return vl(e,t)}else if(hl(e)){return gl(e,t)}else if(ll(e)){return Qf(e,t)}else if(bl(e)||typeof e==="string"){return yl(e,t)}}throw new TypeError((e!==null&&typeof e||e)+" is not observable")}function Sl(e,t){if(!t){if(e instanceof Df){return e}return new Df(dl(e))}else{return wl(e,t)}}function El(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}if(e.length===1){var r=e[0];if(mf(r)){return xl(r,null)}if(bf(r)&&!Jf(r)){var n=Object.keys(r);return xl(n.map((function(e){return r[e]})),n)}}if(typeof e[e.length-1]==="function"){var i=e.pop();e=e.length===1&&mf(e[0])?e[0]:e;return xl(e,null).pipe(tl((function(e){return i.apply(void 0,e)})))}return xl(e,null)}function xl(e,t){return new Df((function(r){var n=e.length;if(n===0){r.complete();return}var i=new Array(n);var s=0;var a=0;var o=function(o){var u=Sl(e[o]);var c=false;r.add(u.subscribe({next:function(e){if(!c){c=true;a++}i[o]=e},error:function(e){return r.error(e)},complete:function(){s++;if(s===n||!c){if(a===n){r.next(t?t.reduce((function(e,t,r){return e[t]=i[r],e}),{}):i)}r.complete()}}}))};for(var u=0;u<n;u++){o(u)}}))}function Al(e,t){return function r(n){return n.lift(new Fl(e,t))}}var Fl=function(){function e(e,t){this.predicate=e;this.thisArg=t}e.prototype.call=function(e,t){return t.subscribe(new Tl(e,this.predicate,this.thisArg))};return e}();var Tl=function(e){__extends_1(t,e);function t(t,r,n){var i=e.call(this,t)||this;i.predicate=r;i.thisArg=n;i.count=0;return i}t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){this.destination.error(e);return}if(t){this.destination.next(e)}};return t}(Ff);var Cl;(function(e){e[e["Mp"]=1]="Mp";e[e["Okta"]=2]="Okta"})(Cl||(Cl={}));function kl(e){return function t(r){var n=new Il(e);var i=r.lift(n);return n.caught=i}}var Il=function(){function e(e){this.selector=e}e.prototype.call=function(e,t){return t.subscribe(new Ol(e,this.selector,this.caught))};return e}();var Ol=function(e){__extends_1(t,e);function t(t,r,n){var i=e.call(this,t)||this;i.selector=r;i.caught=n;return i}t.prototype.error=function(t){if(!this.isStopped){var r;try{r=this.selector(t,this.caught)}catch(t){e.prototype.error.call(this,t);return}this._unsubscribeAndRecycle();var n=new sl(this,undefined,undefined);this.add(n);pl(this,r,undefined,undefined,n)}};return t}(il);function Rl(e){if(e===void 0){e=null}return function(t){return t.lift(new Dl(e))}}var Dl=function(){function e(e){this.defaultValue=e}e.prototype.call=function(e,t){return t.subscribe(new _l(e,this.defaultValue))};return e}();var _l=function(e){__extends_1(t,e);function t(t,r){var n=e.call(this,t)||this;n.defaultValue=r;n.isEmpty=true;return n}t.prototype._next=function(e){this.isEmpty=false;this.destination.next(e)};t.prototype._complete=function(){if(this.isEmpty){this.destination.next(this.defaultValue)}this.destination.complete()};return t}(Ff);function Nl(e){if(e===void 0){e=Bl}return function(t){return t.lift(new Pl(e))}}var Pl=function(){function e(e){this.errorFactory=e}e.prototype.call=function(e,t){return t.subscribe(new jl(e,this.errorFactory))};return e}();var jl=function(e){__extends_1(t,e);function t(t,r){var n=e.call(this,t)||this;n.errorFactory=r;n.hasValue=false;return n}t.prototype._next=function(e){this.hasValue=true;this.destination.next(e)};t.prototype._complete=function(){if(!this.hasValue){var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}else{return this.destination.complete()}};return t}(Ff);function Bl(){return new el}function Ll(e){return function(t){if(e===0){return Uf()}else{return t.lift(new Hl(e))}}}var Hl=function(){function e(e){this.total=e;if(this.total<0){throw new Xf}}e.prototype.call=function(e,t){return t.subscribe(new Ml(e,this.total))};return e}();var Ml=function(e){__extends_1(t,e);function t(t,r){var n=e.call(this,t)||this;n.total=r;n.count=0;return n}t.prototype._next=function(e){var t=this.total;var r=++this.count;if(r<=t){this.destination.next(e);if(r===t){this.destination.complete();this.unsubscribe()}}};return t}(Ff);function Vl(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?Al((function(t,r){return e(t,r,n)})):Gf,Ll(1),r?Rl(t):Nl((function(){return new el})))}}function Ul(e,t){if(typeof t==="function"){return function(r){return r.pipe(Ul((function(r,n){return Sl(e(r,n)).pipe(tl((function(e,i){return t(r,e,n,i)})))})))}}return function(t){return t.lift(new ql(e))}}var ql=function(){function e(e){this.project=e}e.prototype.call=function(e,t){return t.subscribe(new Kl(e,this.project))};return e}();var Kl=function(e){__extends_1(t,e);function t(t,r){var n=e.call(this,t)||this;n.project=r;n.index=0;return n}t.prototype._next=function(e){var t;var r=this.index++;try{t=this.project(e,r)}catch(e){this.destination.error(e);return}this._innerSub(t,e,r)};t.prototype._innerSub=function(e,t,r){var n=this.innerSubscription;if(n){n.unsubscribe()}var i=new sl(this,undefined,undefined);var s=this.destination;s.add(i);this.innerSubscription=pl(this,e,t,r,i)};t.prototype._complete=function(){var t=this.innerSubscription;if(!t||t.closed){e.prototype._complete.call(this)}this.unsubscribe()};t.prototype._unsubscribe=function(){this.innerSubscription=null};t.prototype.notifyComplete=function(t){var r=this.destination;r.remove(t);this.innerSubscription=null;if(this.isStopped){e.prototype._complete.call(this)}};t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)};return t}(il);function zl(e,t,r){return function n(i){return i.lift(new Ql(e,t,r))}}var Ql=function(){function e(e,t,r){this.nextOrObserver=e;this.error=t;this.complete=r}e.prototype.call=function(e,t){return t.subscribe(new Wl(e,this.nextOrObserver,this.error,this.complete))};return e}();var Wl=function(e){__extends_1(t,e);function t(t,r,n,i){var s=e.call(this,t)||this;s._tapNext=Of;s._tapError=Of;s._tapComplete=Of;s._tapError=n||Of;s._tapComplete=i||Of;if(df(r)){s._context=s;s._tapNext=r}else if(r){s._context=r;s._tapNext=r.next||Of;s._tapError=r.error||Of;s._tapComplete=r.complete||Of}return s}t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){this.destination.error(e);return}this.destination.next(e)};t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){this.destination.error(e);return}this.destination.error(e)};t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){this.destination.error(e);return}return this.destination.complete()};return t}(Ff);var Yl=function(){function e(e,t){if(e===void 0){e=null}if(t===void 0){t=null}this.provider=Cl.Okta;if(e!=null){this.access_token=e}if(t!=null){this.id_token=t}}e.From=function(t){var r=t.access_token,n=t.id_token;return new e(r,n)};return e}();var Gl=function(){function e(e,t){this.log=t;this.oktaAuthClient=e}e.prototype.authenticated=function(){var e=this;return this.getTokenDictionary().pipe(Ul((function(t){if(!!t){return Yf(t)}else{return e.getTokensFromSession()}})))};e.prototype.signOut=function(){var e=this;return Sl(this.oktaAuthClient.signOut()).pipe(Vl(),tl((function(){e.oktaAuthClient.tokenManager.clear();e.log.Log("successfully logged out");return true})),kl((function(t){e.log.Error("AUTHENTICATION SERICE: okta signout function returned error",t);return Yf(false)})))};e.prototype.subscribeToTokenExpiration=function(e){this.oktaAuthClient.tokenManager.on("expired",e)};e.prototype.subscribeToTokenRenewed=function(e){this.oktaAuthClient.tokenManager.on("renewed",e)};e.prototype.subscribeToTokenError=function(e){this.oktaAuthClient.tokenManager.on("error",e)};e.prototype.getTokenDictionary=function(){var e=this;var t=Sl(this.oktaAuthClient.tokenManager.get("id_token"));var r=Sl(this.oktaAuthClient.tokenManager.get("access_token"));return El([t,r]).pipe(Vl(),tl((function(e){var t=e[0],r=e[1];if(!!t&&!!r){return Yl.From({id_token:t,access_token:r})}else{return null}})),kl((function(t){e.log.Error("AUTHENTICATION SERICE: okta tokenManager get function returned error",t);return Yf(null)})))};e.prototype.getTokensFromSession=function(){var e=this;return Sl(this.oktaAuthClient.session.exists()).pipe(Vl(),Ul((function(t){if(t){return Sl(e.oktaAuthClient.token.getWithoutPrompt({scopes:["openid","profile","email"],responseType:["id_token","token"]})).pipe(Vl(),zl((function(t){e.oktaAuthClient.tokenManager.add("id_token",t[0]);e.oktaAuthClient.tokenManager.add("access_token",t[1])})),tl((function(e){return Yl.From({id_token:e[0],access_token:e[1]})})),kl((function(t){e.log.Error("AUTHENTICATION SERICE: okta get without prompt function returned error",t);return Yf(null)})))}else{return Yf(null)}})),kl((function(t){e.log.Error("AUTHENTICATION SERICE: okta session exists function returned error",t);return Yf(null)})))};return e}();var Jl=function(){function e(e,t){if(e===void 0){e=null}if(t===void 0){t=null}this.provider=Cl.Mp;if(e!=null){this.access_token=e}if(t!=null){this.refresh_token=t}}e.From=function(t){var r=t.access_token,n=t.refresh_token;return new e(r,n)};return e}();var $l=he((function(e,t){(function(t){var r;{e.exports=t();r=true}if(!r){var n=window.Cookies;var i=window.Cookies=t();i.noConflict=function(){window.Cookies=n;return i}}})((function(){function e(){var e=0;var t={};for(;e<arguments.length;e++){var r=arguments[e];for(var n in r){t[n]=r[n]}}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function r(n){function i(){}function s(t,r,s){if(typeof document==="undefined"){return}s=e({path:"/"},i.defaults,s);if(typeof s.expires==="number"){s.expires=new Date(new Date*1+s.expires*864e5)}s.expires=s.expires?s.expires.toUTCString():"";try{var a=JSON.stringify(r);if(/^[\{\[]/.test(a)){r=a}}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o="";for(var u in s){if(!s[u]){continue}o+="; "+u;if(s[u]===true){continue}o+="="+s[u].split(";")[0]}return document.cookie=t+"="+r+o}function a(e,r){if(typeof document==="undefined"){return}var i={};var s=document.cookie?document.cookie.split("; "):[];var a=0;for(;a<s.length;a++){var o=s[a].split("=");var u=o.slice(1).join("=");if(!r&&u.charAt(0)==='"'){u=u.slice(1,-1)}try{var c=t(o[0]);u=(n.read||n)(u,c)||t(u);if(r){try{u=JSON.parse(u)}catch(e){}}i[c]=u;if(e===c){break}}catch(e){}}return e?i[e]:i}i.set=s;i.get=function(e){return a(e,false)};i.getJSON=function(e){return a(e,true)};i.remove=function(t,r){s(t,"",e(r,{expires:-1}))};i.defaults={};i.withConverter=r;return i}return r((function(){}))}))}));var Xl={};Xl.userAgent=false;var Zl={};if(eh===undefined){var eh={}}eh.lang={extend:function(e,t,r){if(!t||!e){throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.")}var n=function(){};n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e;e.superclass=t.prototype;if(t.prototype.constructor==Object.prototype.constructor){t.prototype.constructor=t}if(r){var i;for(i in r){e.prototype[i]=r[i]}var s=function(){},a=["toString","valueOf"];try{if(/MSIE/.test(Xl.userAgent)){s=function(e,t){for(i=0;i<a.length;i=i+1){var r=a[i],n=t[r];if(typeof n==="function"&&n!=Object.prototype[r]){e[r]=n}}}}}catch(e){}s(e.prototype,r)}}};var th=th||function(e,t){var r={};var n=r.lib={};var i=n.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var r=new e;if(t){r.mixIn(t)}if(!r.hasOwnProperty("init")){r.init=function(){r.$super.init.apply(this,arguments)}}r.init.prototype=r;r.$super=this;return r},create:function(){var e=this.extend();e.init.apply(e,arguments);return e},init:function(){},mixIn:function(e){for(var t in e){if(e.hasOwnProperty(t)){this[t]=e[t]}}if(e.hasOwnProperty("toString")){this.toString=e.toString}},clone:function(){return this.init.prototype.extend(this)}}}();var s=n.WordArray=i.extend({init:function(e,r){e=this.words=e||[];if(r!=t){this.sigBytes=r}else{this.sigBytes=e.length*4}},toString:function(e){return(e||o).stringify(this)},concat:function(e){var t=this.words;var r=e.words;var n=this.sigBytes;var i=e.sigBytes;this.clamp();if(n%4){for(var s=0;s<i;s++){var a=r[s>>>2]>>>24-s%4*8&255;t[n+s>>>2]|=a<<24-(n+s)%4*8}}else{for(var s=0;s<i;s+=4){t[n+s>>>2]=r[s>>>2]}}this.sigBytes+=i;return this},clamp:function(){var t=this.words;var r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8;t.length=e.ceil(r/4)},clone:function(){var e=i.clone.call(this);e.words=this.words.slice(0);return e},random:function(t){var r=[];for(var n=0;n<t;n+=4){r.push(e.random()*4294967296|0)}return new s.init(r,t)}});var a=r.enc={};var o=a.Hex={stringify:function(e){var t=e.words;var r=e.sigBytes;var n=[];for(var i=0;i<r;i++){var s=t[i>>>2]>>>24-i%4*8&255;n.push((s>>>4).toString(16));n.push((s&15).toString(16))}return n.join("")},parse:function(e){var t=e.length;var r=[];for(var n=0;n<t;n+=2){r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4}return new s.init(r,t/2)}};var u=a.Latin1={stringify:function(e){var t=e.words;var r=e.sigBytes;var n=[];for(var i=0;i<r;i++){var s=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(s))}return n.join("")},parse:function(e){var t=e.length;var r=[];for(var n=0;n<t;n++){r[n>>>2]|=(e.charCodeAt(n)&255)<<24-n%4*8}return new s.init(r,t)}};var c=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}};var f=n.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new s.init;this._nDataBytes=0},_append:function(e){if(typeof e=="string"){e=c.parse(e)}this._data.concat(e);this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data;var n=r.words;var i=r.sigBytes;var a=this.blockSize;var o=a*4;var u=i/o;if(t){u=e.ceil(u)}else{u=e.max((u|0)-this._minBufferSize,0)}var c=u*a;var f=e.min(c*4,i);if(c){for(var l=0;l<c;l+=a){this._doProcessBlock(n,l)}var h=n.splice(0,c);r.sigBytes-=f}return new s.init(h,f)},clone:function(){var e=i.clone.call(this);e._data=this._data.clone();return e},_minBufferSize:0});var l=n.Hasher=f.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e);this.reset()},reset:function(){f.reset.call(this);this._doReset()},update:function(e){this._append(e);this._process();return this},finalize:function(e){if(e){this._append(e)}var t=this._doFinalize();return t},blockSize:512/32,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new h.HMAC.init(e,r).finalize(t)}}});var h=r.algo={};return r}(Math);(function(e){var t=th,r=t.lib,n=r.Base,i=r.WordArray,t=t.x64={};t.Word=n.extend({init:function(e,t){this.high=e;this.low=t}});t.WordArray=n.extend({init:function(t,r){t=this.words=t||[];this.sigBytes=r!=e?r:8*t.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var s=e[n];r.push(s.high);r.push(s.low)}return i.create(r,this.sigBytes)},clone:function(){for(var e=n.clone.call(this),t=e.words=this.words.slice(0),r=t.length,i=0;i<r;i++)t[i]=t[i].clone();return e}})})();th.lib.Cipher||function(e){var t=th,r=t.lib,n=r.Base,i=r.WordArray,s=r.BufferedBlockAlgorithm,a=t.enc.Base64,o=t.algo.EvpKDF,u=r.Cipher=s.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r);this._xformMode=e;this._key=t;this.reset()},reset:function(){s.reset.call(this);this._doReset()},process:function(e){this._append(e);return this._process()},finalize:function(e){e&&this._append(e);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,r,n){return("string"==typeof r?p:d).encrypt(e,t,r,n)},decrypt:function(t,r,n){return("string"==typeof r?p:d).decrypt(e,t,r,n)}}}});r.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var c=t.mode={},f=function(t,r,n){var i=this._iv;i?this._iv=e:i=this._prevBlock;for(var s=0;s<n;s++)t[r+s]^=i[s]},l=(r.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e;this._iv=t}})).extend();l.Encryptor=l.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize;f.call(this,e,t,n);r.encryptBlock(e,t);this._prevBlock=e.slice(t,t+n)}});l.Decryptor=l.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=e.slice(t,t+n);r.decryptBlock(e,t);f.call(this,e,t,n);this._prevBlock=i}});c=c.CBC=l;l=(t.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,r=r-e.sigBytes%r,n=r<<24|r<<16|r<<8|r,s=[],a=0;a<r;a+=4)s.push(n);r=i.create(s,r);e.concat(r)},unpad:function(e){e.sigBytes-=e.words[e.sigBytes-1>>>2]&255}};r.BlockCipher=u.extend({cfg:u.cfg.extend({mode:c,padding:l}),reset:function(){u.reset.call(this);var e=this.cfg,t=e.iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=e.createEncryptor;else r=e.createDecryptor,this._minBufferSize=1;this._mode=r.call(e,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var h=r.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),c=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;e=e.salt;return(e?i.create([1398893684,1701076831]).concat(e).concat(t):t).toString(a)},parse:function(e){e=a.parse(e);var t=e.words;if(1398893684==t[0]&&1701076831==t[1]){var r=i.create(t.slice(2,4));t.splice(0,4);e.sigBytes-=16}return h.create({ciphertext:e,salt:r})}},d=r.SerializableCipher=n.extend({cfg:n.extend({format:c}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n);t=i.finalize(t);i=i.cfg;return h.create({ciphertext:t,key:r,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){n=this.cfg.extend(n);t=this._parse(t,n.format);return e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),t=(t.kdf={}).OpenSSL={execute:function(e,t,r,n){n||(n=i.random(8));e=o.create({keySize:t+r}).compute(e,n);r=i.create(e.words.slice(t),4*r);e.sigBytes=4*t;return h.create({key:e,iv:r,salt:n})}},p=r.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:t}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);r=n.kdf.execute(r,e.keySize,e.ivSize);n.iv=r.iv;e=d.encrypt.call(this,e,t,r.key,n);e.mixIn(r);return e},decrypt:function(e,t,r,n){n=this.cfg.extend(n);t=this._parse(t,n.format);r=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);n.iv=r.iv;return d.decrypt.call(this,e,t,r.key,n)}})}();(function(){for(var e=th,t=e.lib.BlockCipher,r=e.algo,n=[],i=[],s=[],a=[],o=[],u=[],c=[],f=[],l=[],h=[],d=[],p=0;256>p;p++)d[p]=128>p?p<<1:p<<1^283;for(var v=0,g=0,p=0;256>p;p++){var y=g^g<<1^g<<2^g<<3^g<<4,y=y>>>8^y&255^99;n[v]=y;i[y]=v;var m=d[v],b=d[m],w=d[b],S=257*d[y]^16843008*y;s[v]=S<<24|S>>>8;a[v]=S<<16|S>>>16;o[v]=S<<8|S>>>24;u[v]=S;S=16843009*w^65537*b^257*m^16843008*v;c[y]=S<<24|S>>>8;f[y]=S<<16|S>>>16;l[y]=S<<8|S>>>24;h[y]=S;v?(v=m^d[d[d[w^m]]],g^=d[d[g]]):v=g=1}var E=[0,1,2,4,8,16,32,64,128,27,54],r=r.AES=t.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes/4,e=4*((this._nRounds=r+6)+1),i=this._keySchedule=[],s=0;s<e;s++)if(s<r)i[s]=t[s];else{var a=i[s-1];s%r?6<r&&4==s%r&&(a=n[a>>>24]<<24|n[a>>>16&255]<<16|n[a>>>8&255]<<8|n[a&255]):(a=a<<8|a>>>24,a=n[a>>>24]<<24|n[a>>>16&255]<<16|n[a>>>8&255]<<8|n[a&255],a^=E[s/r|0]<<24);i[s]=i[s-r]^a}t=this._invKeySchedule=[];for(r=0;r<e;r++)s=e-r,a=r%4?i[s]:i[s-4],t[r]=4>r||4>=s?a:c[n[a>>>24]]^f[n[a>>>16&255]]^l[n[a>>>8&255]]^h[n[a&255]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,o,u,n)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3];e[t+3]=r;this._doCryptBlock(e,t,this._invKeySchedule,c,f,l,h,i);r=e[t+1];e[t+1]=e[t+3];e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,s,a,o){for(var u=this._nRounds,c=e[t]^r[0],f=e[t+1]^r[1],l=e[t+2]^r[2],h=e[t+3]^r[3],d=4,p=1;p<u;p++)var v=n[c>>>24]^i[f>>>16&255]^s[l>>>8&255]^a[h&255]^r[d++],g=n[f>>>24]^i[l>>>16&255]^s[h>>>8&255]^a[c&255]^r[d++],y=n[l>>>24]^i[h>>>16&255]^s[c>>>8&255]^a[f&255]^r[d++],h=n[h>>>24]^i[c>>>16&255]^s[f>>>8&255]^a[l&255]^r[d++],c=v,f=g,l=y;v=(o[c>>>24]<<24|o[f>>>16&255]<<16|o[l>>>8&255]<<8|o[h&255])^r[d++];g=(o[f>>>24]<<24|o[l>>>16&255]<<16|o[h>>>8&255]<<8|o[c&255])^r[d++];y=(o[l>>>24]<<24|o[h>>>16&255]<<16|o[c>>>8&255]<<8|o[f&255])^r[d++];h=(o[h>>>24]<<24|o[c>>>16&255]<<16|o[f>>>8&255]<<8|o[l&255])^r[d++];e[t]=v;e[t+1]=g;e[t+2]=y;e[t+3]=h},keySize:8});e.AES=t._createHelper(r)})();(function(){function e(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r;this._lBlock^=r<<e}function t(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r;this._rBlock^=r<<e}var r=th,n=r.lib,i=n.WordArray,n=n.BlockCipher,s=r.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],o=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],l=s.DES=n.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;56>r;r++){var n=a[r]-1;t[r]=e[n>>>5]>>>31-n%32&1}e=this._subKeys=[];for(n=0;16>n;n++){for(var i=e[n]=[],s=u[n],r=0;24>r;r++)i[r/6|0]|=t[(o[r]-1+s)%28]<<31-r%6,i[4+(r/6|0)]|=t[28+(o[r+24]-1+s)%28]<<31-r%6;i[0]=i[0]<<1|i[0]>>>31;for(r=1;7>r;r++)i[r]>>>=4*(r-1)+3;i[7]=i[7]<<5|i[7]>>>27}t=this._invSubKeys=[];for(r=0;16>r;r++)t[r]=e[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(r,n,i){this._lBlock=r[n];this._rBlock=r[n+1];e.call(this,4,252645135);e.call(this,16,65535);t.call(this,2,858993459);t.call(this,8,16711935);e.call(this,1,1431655765);for(var s=0;16>s;s++){for(var a=i[s],o=this._lBlock,u=this._rBlock,l=0,h=0;8>h;h++)l|=c[h][((u^a[h])&f[h])>>>0];this._lBlock=u;this._rBlock=o^l}i=this._lBlock;this._lBlock=this._rBlock;this._rBlock=i;e.call(this,1,1431655765);t.call(this,8,16711935);t.call(this,2,858993459);e.call(this,16,65535);e.call(this,4,252645135);r[n]=this._lBlock;r[n+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});r.DES=n._createHelper(l);s=s.TripleDES=n.extend({_doReset:function(){var e=this._key.words;this._des1=l.createEncryptor(i.create(e.slice(0,2)));this._des2=l.createEncryptor(i.create(e.slice(2,4)));this._des3=l.createEncryptor(i.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t);this._des2.decryptBlock(e,t);this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t);this._des2.encryptBlock(e,t);this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});r.TripleDES=n._createHelper(s)})();(function(){var e=th,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();e=[];for(var i=0;i<r;i+=3)for(var s=(t[i>>>2]>>>24-8*(i%4)&255)<<16|(t[i+1>>>2]>>>24-8*((i+1)%4)&255)<<8|t[i+2>>>2]>>>24-8*((i+2)%4)&255,a=0;4>a&&i+.75*a<r;a++)e.push(n.charAt(s>>>6*(3-a)&63));if(t=n.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var r=e.length,n=this._map,i=n.charAt(64);i&&(i=e.indexOf(i),-1!=i&&(r=i));for(var i=[],s=0,a=0;a<r;a++)if(a%4){var o=n.indexOf(e.charAt(a-1))<<2*(a%4),u=n.indexOf(e.charAt(a))>>>6-2*(a%4);i[s>>>2]|=(o|u)<<24-8*(s%4);s++}return t.create(i,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(e){function t(e,t,r,n,i,s,a){e=e+(t&r|~t&n)+i+a;return(e<<s|e>>>32-s)+t}function r(e,t,r,n,i,s,a){e=e+(t&n|r&~n)+i+a;return(e<<s|e>>>32-s)+t}function n(e,t,r,n,i,s,a){e=e+(t^r^n)+i+a;return(e<<s|e>>>32-s)+t}function i(e,t,r,n,i,s,a){e=e+(r^(t|~n))+i+a;return(e<<s|e>>>32-s)+t}for(var s=th,a=s.lib,o=a.WordArray,u=a.Hasher,a=s.algo,c=[],f=0;64>f;f++)c[f]=4294967296*e.abs(e.sin(f+1))|0;a=a.MD5=u.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,s){for(var a=0;16>a;a++){var o=s+a,u=e[o];e[o]=(u<<8|u>>>24)&16711935|(u<<24|u>>>8)&4278255360}var a=this._hash.words,o=e[s+0],u=e[s+1],f=e[s+2],l=e[s+3],h=e[s+4],d=e[s+5],p=e[s+6],v=e[s+7],g=e[s+8],y=e[s+9],m=e[s+10],b=e[s+11],w=e[s+12],S=e[s+13],E=e[s+14],x=e[s+15],A=a[0],F=a[1],T=a[2],C=a[3],A=t(A,F,T,C,o,7,c[0]),C=t(C,A,F,T,u,12,c[1]),T=t(T,C,A,F,f,17,c[2]),F=t(F,T,C,A,l,22,c[3]),A=t(A,F,T,C,h,7,c[4]),C=t(C,A,F,T,d,12,c[5]),T=t(T,C,A,F,p,17,c[6]),F=t(F,T,C,A,v,22,c[7]),A=t(A,F,T,C,g,7,c[8]),C=t(C,A,F,T,y,12,c[9]),T=t(T,C,A,F,m,17,c[10]),F=t(F,T,C,A,b,22,c[11]),A=t(A,F,T,C,w,7,c[12]),C=t(C,A,F,T,S,12,c[13]),T=t(T,C,A,F,E,17,c[14]),F=t(F,T,C,A,x,22,c[15]),A=r(A,F,T,C,u,5,c[16]),C=r(C,A,F,T,p,9,c[17]),T=r(T,C,A,F,b,14,c[18]),F=r(F,T,C,A,o,20,c[19]),A=r(A,F,T,C,d,5,c[20]),C=r(C,A,F,T,m,9,c[21]),T=r(T,C,A,F,x,14,c[22]),F=r(F,T,C,A,h,20,c[23]),A=r(A,F,T,C,y,5,c[24]),C=r(C,A,F,T,E,9,c[25]),T=r(T,C,A,F,l,14,c[26]),F=r(F,T,C,A,g,20,c[27]),A=r(A,F,T,C,S,5,c[28]),C=r(C,A,F,T,f,9,c[29]),T=r(T,C,A,F,v,14,c[30]),F=r(F,T,C,A,w,20,c[31]),A=n(A,F,T,C,d,4,c[32]),C=n(C,A,F,T,g,11,c[33]),T=n(T,C,A,F,b,16,c[34]),F=n(F,T,C,A,E,23,c[35]),A=n(A,F,T,C,u,4,c[36]),C=n(C,A,F,T,h,11,c[37]),T=n(T,C,A,F,v,16,c[38]),F=n(F,T,C,A,m,23,c[39]),A=n(A,F,T,C,S,4,c[40]),C=n(C,A,F,T,o,11,c[41]),T=n(T,C,A,F,l,16,c[42]),F=n(F,T,C,A,p,23,c[43]),A=n(A,F,T,C,y,4,c[44]),C=n(C,A,F,T,w,11,c[45]),T=n(T,C,A,F,x,16,c[46]),F=n(F,T,C,A,f,23,c[47]),A=i(A,F,T,C,o,6,c[48]),C=i(C,A,F,T,v,10,c[49]),T=i(T,C,A,F,E,15,c[50]),F=i(F,T,C,A,d,21,c[51]),A=i(A,F,T,C,w,6,c[52]),C=i(C,A,F,T,l,10,c[53]),T=i(T,C,A,F,m,15,c[54]),F=i(F,T,C,A,u,21,c[55]),A=i(A,F,T,C,g,6,c[56]),C=i(C,A,F,T,x,10,c[57]),T=i(T,C,A,F,p,15,c[58]),F=i(F,T,C,A,S,21,c[59]),A=i(A,F,T,C,h,6,c[60]),C=i(C,A,F,T,b,10,c[61]),T=i(T,C,A,F,f,15,c[62]),F=i(F,T,C,A,y,21,c[63]);a[0]=a[0]+A|0;a[1]=a[1]+F|0;a[2]=a[2]+T|0;a[3]=a[3]+C|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;r[i>>>5]|=128<<24-i%32;var s=e.floor(n/4294967296);r[(i+64>>>9<<4)+15]=(s<<8|s>>>24)&16711935|(s<<24|s>>>8)&4278255360;r[(i+64>>>9<<4)+14]=(n<<8|n>>>24)&16711935|(n<<24|n>>>8)&4278255360;t.sigBytes=4*(r.length+1);this._process();t=this._hash;r=t.words;for(n=0;4>n;n++)i=r[n],r[n]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360;return t},clone:function(){var e=u.clone.call(this);e._hash=this._hash.clone();return e}});s.MD5=u._createHelper(a);s.HmacMD5=u._createHmacHelper(a)})(Math);(function(){var e=th,t=e.lib,r=t.WordArray,n=t.Hasher,i=[],t=e.algo.SHA1=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],s=r[1],a=r[2],o=r[3],u=r[4],c=0;80>c;c++){if(16>c)i[c]=e[t+c]|0;else{var f=i[c-3]^i[c-8]^i[c-14]^i[c-16];i[c]=f<<1|f>>>31}f=(n<<5|n>>>27)+u+i[c];f=20>c?f+((s&a|~s&o)+1518500249):40>c?f+((s^a^o)+1859775393):60>c?f+((s&a|s&o|a&o)-1894007588):f+((s^a^o)-899497514);u=o;o=a;a=s<<30|s>>>2;s=n;n=f}r[0]=r[0]+n|0;r[1]=r[1]+s|0;r[2]=r[2]+a|0;r[3]=r[3]+o|0;r[4]=r[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32;t[(n+64>>>9<<4)+14]=Math.floor(r/4294967296);t[(n+64>>>9<<4)+15]=r;e.sigBytes=4*t.length;this._process();return this._hash},clone:function(){var e=n.clone.call(this);e._hash=this._hash.clone();return e}});e.SHA1=n._createHelper(t);e.HmacSHA1=n._createHmacHelper(t)})();(function(e){for(var t=th,r=t.lib,n=r.WordArray,i=r.Hasher,r=t.algo,s=[],a=[],o=function(e){return 4294967296*(e-(e|0))|0},u=2,c=0;64>c;){var f;e:{f=u;for(var l=e.sqrt(f),h=2;h<=l;h++)if(!(f%h)){f=!1;break e}f=!0}f&&(8>c&&(s[c]=o(e.pow(u,.5))),a[c]=o(e.pow(u,1/3)),c++);u++}var d=[],r=r.SHA256=i.extend({_doReset:function(){this._hash=new n.init(s.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],s=r[2],o=r[3],u=r[4],c=r[5],f=r[6],l=r[7],h=0;64>h;h++){if(16>h)d[h]=e[t+h]|0;else{var p=d[h-15],v=d[h-2];d[h]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+d[h-7]+((v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10)+d[h-16]}p=l+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&c^~u&f)+a[h]+d[h];v=((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+(n&i^n&s^i&s);l=f;f=c;c=u;u=o+p|0;o=s;s=i;i=n;n=p+v|0}r[0]=r[0]+n|0;r[1]=r[1]+i|0;r[2]=r[2]+s|0;r[3]=r[3]+o|0;r[4]=r[4]+u|0;r[5]=r[5]+c|0;r[6]=r[6]+f|0;r[7]=r[7]+l|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;r[i>>>5]|=128<<24-i%32;r[(i+64>>>9<<4)+14]=e.floor(n/4294967296);r[(i+64>>>9<<4)+15]=n;t.sigBytes=4*r.length;this._process();return this._hash},clone:function(){var e=i.clone.call(this);e._hash=this._hash.clone();return e}});t.SHA256=i._createHelper(r);t.HmacSHA256=i._createHmacHelper(r)})(Math);(function(){var e=th,t=e.lib.WordArray,r=e.algo,n=r.SHA256,r=r.SHA224=n.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=n._doFinalize.call(this);e.sigBytes-=4;return e}});e.SHA224=n._createHelper(r);e.HmacSHA224=n._createHmacHelper(r)})();(function(){function e(){return i.create.apply(i,arguments)}for(var t=th,r=t.lib.Hasher,n=t.x64,i=n.Word,s=n.WordArray,n=t.algo,a=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],o=[],u=0;80>u;u++)o[u]=e();n=n.SHA512=r.extend({_doReset:function(){this._hash=new s.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],s=r[2],u=r[3],c=r[4],f=r[5],l=r[6],r=r[7],h=n.high,d=n.low,p=i.high,v=i.low,g=s.high,y=s.low,m=u.high,b=u.low,w=c.high,S=c.low,E=f.high,x=f.low,A=l.high,F=l.low,T=r.high,C=r.low,k=h,I=d,O=p,R=v,D=g,_=y,N=m,P=b,j=w,B=S,L=E,H=x,M=A,V=F,U=T,q=C,K=0;80>K;K++){var z=o[K];if(16>K)var Q=z.high=e[t+2*K]|0,W=z.low=e[t+2*K+1]|0;else{var Q=o[K-15],W=Q.high,Y=Q.low,Q=(W>>>1|Y<<31)^(W>>>8|Y<<24)^W>>>7,Y=(Y>>>1|W<<31)^(Y>>>8|W<<24)^(Y>>>7|W<<25),G=o[K-2],W=G.high,J=G.low,G=(W>>>19|J<<13)^(W<<3|J>>>29)^W>>>6,J=(J>>>19|W<<13)^(J<<3|W>>>29)^(J>>>6|W<<26),W=o[K-7],$=W.high,X=o[K-16],Z=X.high,X=X.low,W=Y+W.low,Q=Q+$+(W>>>0<Y>>>0?1:0),W=W+J,Q=Q+G+(W>>>0<J>>>0?1:0),W=W+X,Q=Q+Z+(W>>>0<X>>>0?1:0);z.high=Q;z.low=W}var $=j&L^~j&M,X=B&H^~B&V,z=k&O^k&D^O&D,ee=I&R^I&_^R&_,Y=(k>>>28|I<<4)^(k<<30|I>>>2)^(k<<25|I>>>7),G=(I>>>28|k<<4)^(I<<30|k>>>2)^(I<<25|k>>>7),J=a[K],te=J.high,re=J.low,J=q+((B>>>14|j<<18)^(B>>>18|j<<14)^(B<<23|j>>>9)),Z=U+((j>>>14|B<<18)^(j>>>18|B<<14)^(j<<23|B>>>9))+(J>>>0<q>>>0?1:0),J=J+X,Z=Z+$+(J>>>0<X>>>0?1:0),J=J+re,Z=Z+te+(J>>>0<re>>>0?1:0),J=J+W,Z=Z+Q+(J>>>0<W>>>0?1:0),W=G+ee,z=Y+z+(W>>>0<G>>>0?1:0),U=M,q=V,M=L,V=H,L=j,H=B,B=P+J|0,j=N+Z+(B>>>0<P>>>0?1:0)|0,N=D,P=_,D=O,_=R,O=k,R=I,I=J+W|0,k=Z+z+(I>>>0<J>>>0?1:0)|0}d=n.low=d+I;n.high=h+k+(d>>>0<I>>>0?1:0);v=i.low=v+R;i.high=p+O+(v>>>0<R>>>0?1:0);y=s.low=y+_;s.high=g+D+(y>>>0<_>>>0?1:0);b=u.low=b+P;u.high=m+N+(b>>>0<P>>>0?1:0);S=c.low=S+B;c.high=w+j+(S>>>0<B>>>0?1:0);x=f.low=x+H;f.high=E+L+(x>>>0<H>>>0?1:0);F=l.low=F+V;l.high=A+M+(F>>>0<V>>>0?1:0);C=r.low=C+q;r.high=T+U+(C>>>0<q>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32;t[(n+128>>>10<<5)+30]=Math.floor(r/4294967296);t[(n+128>>>10<<5)+31]=r;e.sigBytes=4*t.length;this._process();return this._hash.toX32()},clone:function(){var e=r.clone.call(this);e._hash=this._hash.clone();return e},blockSize:32});t.SHA512=r._createHelper(n);t.HmacSHA512=r._createHmacHelper(n)})();(function(){var e=th,t=e.x64,r=t.Word,n=t.WordArray,t=e.algo,i=t.SHA512,t=t.SHA384=i.extend({_doReset:function(){this._hash=new n.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var e=i._doFinalize.call(this);e.sigBytes-=16;return e}});e.SHA384=i._createHelper(t);e.HmacSHA384=i._createHmacHelper(t)})();(function(){var e=th,t=e.lib,r=t.WordArray,n=t.Hasher,t=e.algo,i=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),a=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),o=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=r.create([0,1518500249,1859775393,2400959708,2840853838]),c=r.create([1352829926,1548603684,1836072691,2053994217,0]),t=t.RIPEMD160=n.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=0;16>r;r++){var n=t+r,f=e[n];e[n]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360}var n=this._hash.words,f=u.words,l=c.words,h=i.words,d=s.words,p=a.words,v=o.words,g,y,m,b,w,S,E,x,A,F;S=g=n[0];E=y=n[1];x=m=n[2];A=b=n[3];F=w=n[4];for(var T,r=0;80>r;r+=1)T=g+e[t+h[r]]|0,T=16>r?T+((y^m^b)+f[0]):32>r?T+((y&m|~y&b)+f[1]):48>r?T+(((y|~m)^b)+f[2]):64>r?T+((y&b|m&~b)+f[3]):T+((y^(m|~b))+f[4]),T|=0,T=T<<p[r]|T>>>32-p[r],T=T+w|0,g=w,w=b,b=m<<10|m>>>22,m=y,y=T,T=S+e[t+d[r]]|0,T=16>r?T+((E^(x|~A))+l[0]):32>r?T+((E&A|x&~A)+l[1]):48>r?T+(((E|~x)^A)+l[2]):64>r?T+((E&x|~E&A)+l[3]):T+((E^x^A)+l[4]),T|=0,T=T<<v[r]|T>>>32-v[r],T=T+F|0,S=F,F=A,A=x<<10|x>>>22,x=E,E=T;T=n[1]+m+A|0;n[1]=n[2]+b+F|0;n[2]=n[3]+w+S|0;n[3]=n[4]+g+E|0;n[4]=n[0]+y+x|0;n[0]=T},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32;t[(n+64>>>9<<4)+14]=(r<<8|r>>>24)&16711935|(r<<24|r>>>8)&4278255360;e.sigBytes=4*(t.length+1);this._process();e=this._hash;t=e.words;for(r=0;5>r;r++)n=t[r],t[r]=(n<<8|n>>>24)&16711935|(n<<24|n>>>8)&4278255360;return e},clone:function(){var e=n.clone.call(this);e._hash=this._hash.clone();return e}});e.RIPEMD160=n._createHelper(t);e.HmacRIPEMD160=n._createHmacHelper(t)})();(function(){var e=th,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,r){e=this._hasher=new e.init;"string"==typeof r&&(r=t.parse(r));var n=e.blockSize,i=4*n;r.sigBytes>i&&(r=e.finalize(r));r.clamp();for(var s=this._oKey=r.clone(),a=this._iKey=r.clone(),o=s.words,u=a.words,c=0;c<n;c++)o[c]^=1549556828,u[c]^=909522486;s.sigBytes=a.sigBytes=i;this.reset()},reset:function(){var e=this._hasher;e.reset();e.update(this._iKey)},update:function(e){this._hasher.update(e);return this},finalize:function(e){var t=this._hasher;e=t.finalize(e);t.reset();return t.finalize(this._oKey.clone().concat(e))}})})();(function(){var e=th,t=e.lib,r=t.Base,n=t.WordArray,t=e.algo,i=t.HMAC,s=t.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:t.SHA1,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,s=i.create(r.hasher,e),a=n.create(),o=n.create([1]),u=a.words,c=o.words,f=r.keySize,r=r.iterations;u.length<f;){var l=s.update(t).finalize(o);s.reset();for(var h=l.words,d=h.length,p=l,v=1;v<r;v++){p=s.finalize(p);s.reset();for(var g=p.words,y=0;y<d;y++)h[y]^=g[y]}a.concat(l);c[0]++}a.sigBytes=4*f;return a}});e.PBKDF2=function(e,t,r){return s.create(r).compute(e,t)}})();var rh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var nh="=";function ih(e){var t;var r;var n="";for(t=0;t+3<=e.length;t+=3){r=parseInt(e.substring(t,t+3),16);n+=rh.charAt(r>>6)+rh.charAt(r&63)}if(t+1==e.length){r=parseInt(e.substring(t,t+1),16);n+=rh.charAt(r<<2)}else{if(t+2==e.length){r=parseInt(e.substring(t,t+2),16);n+=rh.charAt(r>>2)+rh.charAt((r&3)<<4)}}{while((n.length&3)>0){n+=nh}}return n}function sh(e){var t="";var r;var n=0;var i;var s;for(r=0;r<e.length;++r){if(e.charAt(r)==nh){break}s=rh.indexOf(e.charAt(r));if(s<0){continue}if(n==0){t+=gh(s>>2);i=s&3;n=1}else{if(n==1){t+=gh(i<<2|s>>4);i=s&15;n=2}else{if(n==2){t+=gh(i);t+=gh(s>>2);i=s&3;n=3}else{t+=gh(i<<2|s>>4);t+=gh(s&15);n=0}}}}if(n==1){t+=gh(i<<2)}return t}function ah(e){var t=sh(e);var r;var n=new Array;for(r=0;2*r<t.length;++r){n[r]=parseInt(t.substring(2*r,2*r+2),16)}return n}var oh;function uh(e,t,r){if(e!=null){if("number"==typeof e){this.fromNumber(e,t,r)}else{if(t==null&&"string"!=typeof e){this.fromString(e,256)}else{this.fromString(e,t)}}}}function ch(){return new uh(null)}function fh(e,t,r,n,i,s){while(--s>=0){var a=t*this[e++]+r[n]+i;i=Math.floor(a/67108864);r[n++]=a&67108863}return i}{{uh.prototype.am=fh;oh=26}}uh.prototype.DB=oh;uh.prototype.DM=(1<<oh)-1;uh.prototype.DV=1<<oh;var lh=52;uh.prototype.FV=Math.pow(2,lh);uh.prototype.F1=lh-oh;uh.prototype.F2=2*oh-lh;var hh="0123456789abcdefghijklmnopqrstuvwxyz";var dh=new Array;var ph,vh;ph="0".charCodeAt(0);for(vh=0;vh<=9;++vh){dh[ph++]=vh}ph="a".charCodeAt(0);for(vh=10;vh<36;++vh){dh[ph++]=vh}ph="A".charCodeAt(0);for(vh=10;vh<36;++vh){dh[ph++]=vh}function gh(e){return hh.charAt(e)}function yh(e,t){var r=dh[e.charCodeAt(t)];return r==null?-1:r}function mh(e){for(var t=this.t-1;t>=0;--t){e[t]=this[t]}e.t=this.t;e.s=this.s}function bh(e){this.t=1;this.s=e<0?-1:0;if(e>0){this[0]=e}else{if(e<-1){this[0]=e+this.DV}else{this.t=0}}}function wh(e){var t=ch();t.fromInt(e);return t}function Sh(e,t){var r;if(t==16){r=4}else{if(t==8){r=3}else{if(t==256){r=8}else{if(t==2){r=1}else{if(t==32){r=5}else{if(t==4){r=2}else{this.fromRadix(e,t);return}}}}}}this.t=0;this.s=0;var n=e.length,i=false,s=0;while(--n>=0){var a=r==8?e[n]&255:yh(e,n);if(a<0){if(e.charAt(n)=="-"){i=true}continue}i=false;if(s==0){this[this.t++]=a}else{if(s+r>this.DB){this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s;this[this.t++]=a>>this.DB-s}else{this[this.t-1]|=a<<s}}s+=r;if(s>=this.DB){s-=this.DB}}if(r==8&&(e[0]&128)!=0){this.s=-1;if(s>0){this[this.t-1]|=(1<<this.DB-s)-1<<s}}this.clamp();if(i){uh.ZERO.subTo(this,this)}}function Eh(){var e=this.s&this.DM;while(this.t>0&&this[this.t-1]==e){--this.t}}function xh(e){if(this.s<0){return"-"+this.negate().toString(e)}var t;if(e==16){t=4}else{if(e==8){t=3}else{if(e==2){t=1}else{if(e==32){t=5}else{if(e==4){t=2}else{return this.toRadix(e)}}}}}var r=(1<<t)-1,n,i=false,s="",a=this.t;var o=this.DB-a*this.DB%t;if(a-- >0){if(o<this.DB&&(n=this[a]>>o)>0){i=true;s=gh(n)}while(a>=0){if(o<t){n=(this[a]&(1<<o)-1)<<t-o;n|=this[--a]>>(o+=this.DB-t)}else{n=this[a]>>(o-=t)&r;if(o<=0){o+=this.DB;--a}}if(n>0){i=true}if(i){s+=gh(n)}}}return i?s:"0"}function Ah(){var e=ch();uh.ZERO.subTo(this,e);return e}function Fh(){return this.s<0?this.negate():this}function Th(e){var t=this.s-e.s;if(t!=0){return t}var r=this.t;t=r-e.t;if(t!=0){return this.s<0?-t:t}while(--r>=0){if((t=this[r]-e[r])!=0){return t}}return 0}function Ch(e){var t=1,r;if((r=e>>>16)!=0){e=r;t+=16}if((r=e>>8)!=0){e=r;t+=8}if((r=e>>4)!=0){e=r;t+=4}if((r=e>>2)!=0){e=r;t+=2}if((r=e>>1)!=0){e=r;t+=1}return t}function kh(){if(this.t<=0){return 0}return this.DB*(this.t-1)+Ch(this[this.t-1]^this.s&this.DM)}function Ih(e,t){var r;for(r=this.t-1;r>=0;--r){t[r+e]=this[r]}for(r=e-1;r>=0;--r){t[r]=0}t.t=this.t+e;t.s=this.s}function Oh(e,t){for(var r=e;r<this.t;++r){t[r-e]=this[r]}t.t=Math.max(this.t-e,0);t.s=this.s}function Rh(e,t){var r=e%this.DB;var n=this.DB-r;var i=(1<<n)-1;var s=Math.floor(e/this.DB),a=this.s<<r&this.DM,o;for(o=this.t-1;o>=0;--o){t[o+s+1]=this[o]>>n|a;a=(this[o]&i)<<r}for(o=s-1;o>=0;--o){t[o]=0}t[s]=a;t.t=this.t+s+1;t.s=this.s;t.clamp()}function Dh(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB;var i=this.DB-n;var s=(1<<n)-1;t[0]=this[r]>>n;for(var a=r+1;a<this.t;++a){t[a-r-1]|=(this[a]&s)<<i;t[a-r]=this[a]>>n}if(n>0){t[this.t-r-1]|=(this.s&s)<<i}t.t=this.t-r;t.clamp()}function _h(e,t){var r=0,n=0,i=Math.min(e.t,this.t);while(r<i){n+=this[r]-e[r];t[r++]=n&this.DM;n>>=this.DB}if(e.t<this.t){n-=e.s;while(r<this.t){n+=this[r];t[r++]=n&this.DM;n>>=this.DB}n+=this.s}else{n+=this.s;while(r<e.t){n-=e[r];t[r++]=n&this.DM;n>>=this.DB}n-=e.s}t.s=n<0?-1:0;if(n<-1){t[r++]=this.DV+n}else{if(n>0){t[r++]=n}}t.t=r;t.clamp()}function Nh(e,t){var r=this.abs(),n=e.abs();var i=r.t;t.t=i+n.t;while(--i>=0){t[i]=0}for(i=0;i<n.t;++i){t[i+r.t]=r.am(0,n[i],t,i,0,r.t)}t.s=0;t.clamp();if(this.s!=e.s){uh.ZERO.subTo(t,t)}}function Ph(e){var t=this.abs();var r=e.t=2*t.t;while(--r>=0){e[r]=0}for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);if((e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV){e[r+t.t]-=t.DV;e[r+t.t+1]=1}}if(e.t>0){e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)}e.s=0;e.clamp()}function jh(e,t,r){var n=e.abs();if(n.t<=0){return}var i=this.abs();if(i.t<n.t){if(t!=null){t.fromInt(0)}if(r!=null){this.copyTo(r)}return}if(r==null){r=ch()}var s=ch(),a=this.s,o=e.s;var u=this.DB-Ch(n[n.t-1]);if(u>0){n.lShiftTo(u,s);i.lShiftTo(u,r)}else{n.copyTo(s);i.copyTo(r)}var c=s.t;var f=s[c-1];if(f==0){return}var l=f*(1<<this.F1)+(c>1?s[c-2]>>this.F2:0);var h=this.FV/l,d=(1<<this.F1)/l,p=1<<this.F2;var v=r.t,g=v-c,y=t==null?ch():t;s.dlShiftTo(g,y);if(r.compareTo(y)>=0){r[r.t++]=1;r.subTo(y,r)}uh.ONE.dlShiftTo(c,y);y.subTo(s,s);while(s.t<c){s[s.t++]=0}while(--g>=0){var m=r[--v]==f?this.DM:Math.floor(r[v]*h+(r[v-1]+p)*d);if((r[v]+=s.am(0,m,r,g,0,c))<m){s.dlShiftTo(g,y);r.subTo(y,r);while(r[v]<--m){r.subTo(y,r)}}}if(t!=null){r.drShiftTo(c,t);if(a!=o){uh.ZERO.subTo(t,t)}}r.t=c;r.clamp();if(u>0){r.rShiftTo(u,r)}if(a<0){uh.ZERO.subTo(r,r)}}function Bh(e){var t=ch();this.abs().divRemTo(e,null,t);if(this.s<0&&t.compareTo(uh.ZERO)>0){e.subTo(t,t)}return t}function Lh(e){this.m=e}function Hh(e){if(e.s<0||e.compareTo(this.m)>=0){return e.mod(this.m)}else{return e}}function Mh(e){return e}function Vh(e){e.divRemTo(this.m,null,e)}function Uh(e,t,r){e.multiplyTo(t,r);this.reduce(r)}function qh(e,t){e.squareTo(t);this.reduce(t)}Lh.prototype.convert=Hh;Lh.prototype.revert=Mh;Lh.prototype.reduce=Vh;Lh.prototype.mulTo=Uh;Lh.prototype.sqrTo=qh;function Kh(){if(this.t<1){return 0}var e=this[0];if((e&1)==0){return 0}var t=e&3;t=t*(2-(e&15)*t)&15;t=t*(2-(e&255)*t)&255;t=t*(2-((e&65535)*t&65535))&65535;t=t*(2-e*t%this.DV)%this.DV;return t>0?this.DV-t:-t}function zh(e){this.m=e;this.mp=e.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<e.DB-15)-1;this.mt2=2*e.t}function Qh(e){var t=ch();e.abs().dlShiftTo(this.m.t,t);t.divRemTo(this.m,null,t);if(e.s<0&&t.compareTo(uh.ZERO)>0){this.m.subTo(t,t)}return t}function Wh(e){var t=ch();e.copyTo(t);this.reduce(t);return t}function Yh(e){while(e.t<=this.mt2){e[e.t++]=0}for(var t=0;t<this.m.t;++t){var r=e[t]&32767;var n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;r=t+this.m.t;e[r]+=this.m.am(0,n,e,t,0,this.m.t);while(e[r]>=e.DV){e[r]-=e.DV;e[++r]++}}e.clamp();e.drShiftTo(this.m.t,e);if(e.compareTo(this.m)>=0){e.subTo(this.m,e)}}function Gh(e,t){e.squareTo(t);this.reduce(t)}function Jh(e,t,r){e.multiplyTo(t,r);this.reduce(r)}zh.prototype.convert=Qh;zh.prototype.revert=Wh;zh.prototype.reduce=Yh;zh.prototype.mulTo=Jh;zh.prototype.sqrTo=Gh;function $h(){return(this.t>0?this[0]&1:this.s)==0}function Xh(e,t){if(e>4294967295||e<1){return uh.ONE}var r=ch(),n=ch(),i=t.convert(this),s=Ch(e)-1;i.copyTo(r);while(--s>=0){t.sqrTo(r,n);if((e&1<<s)>0){t.mulTo(n,i,r)}else{var a=r;r=n;n=a}}return t.revert(r)}function Zh(e,t){var r;if(e<256||t.isEven()){r=new Lh(t)}else{r=new zh(t)}return this.exp(e,r)}uh.prototype.copyTo=mh;uh.prototype.fromInt=bh;uh.prototype.fromString=Sh;uh.prototype.clamp=Eh;uh.prototype.dlShiftTo=Ih;uh.prototype.drShiftTo=Oh;uh.prototype.lShiftTo=Rh;uh.prototype.rShiftTo=Dh;uh.prototype.subTo=_h;uh.prototype.multiplyTo=Nh;uh.prototype.squareTo=Ph;uh.prototype.divRemTo=jh;uh.prototype.invDigit=Kh;uh.prototype.isEven=$h;uh.prototype.exp=Xh;uh.prototype.toString=xh;uh.prototype.negate=Ah;uh.prototype.abs=Fh;uh.prototype.compareTo=Th;uh.prototype.bitLength=kh;uh.prototype.mod=Bh;uh.prototype.modPowInt=Zh;uh.ZERO=wh(0);uh.ONE=wh(1);function ed(){var e=ch();this.copyTo(e);return e}function td(){if(this.s<0){if(this.t==1){return this[0]-this.DV}else{if(this.t==0){return-1}}}else{if(this.t==1){return this[0]}else{if(this.t==0){return 0}}}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function rd(){return this.t==0?this.s:this[0]<<24>>24}function nd(){return this.t==0?this.s:this[0]<<16>>16}function id(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function sd(){if(this.s<0){return-1}else{if(this.t<=0||this.t==1&&this[0]<=0){return 0}else{return 1}}}function ad(e){if(e==null){e=10}if(this.signum()==0||e<2||e>36){return"0"}var t=this.chunkSize(e);var r=Math.pow(e,t);var n=wh(r),i=ch(),s=ch(),a="";this.divRemTo(n,i,s);while(i.signum()>0){a=(r+s.intValue()).toString(e).substr(1)+a;i.divRemTo(n,i,s)}return s.intValue().toString(e)+a}function od(e,t){this.fromInt(0);if(t==null){t=10}var r=this.chunkSize(t);var n=Math.pow(t,r),i=false,s=0,a=0;for(var o=0;o<e.length;++o){var u=yh(e,o);if(u<0){if(e.charAt(o)=="-"&&this.signum()==0){i=true}continue}a=t*a+u;if(++s>=r){this.dMultiply(n);this.dAddOffset(a,0);s=0;a=0}}if(s>0){this.dMultiply(Math.pow(t,s));this.dAddOffset(a,0)}if(i){uh.ZERO.subTo(this,this)}}function ud(e,t,r){if("number"==typeof t){if(e<2){this.fromInt(1)}else{this.fromNumber(e,r);if(!this.testBit(e-1)){this.bitwiseTo(uh.ONE.shiftLeft(e-1),gd,this)}if(this.isEven()){this.dAddOffset(1,0)}while(!this.isProbablePrime(t)){this.dAddOffset(2,0);if(this.bitLength()>e){this.subTo(uh.ONE.shiftLeft(e-1),this)}}}}else{var n=new Array,i=e&7;n.length=(e>>3)+1;t.nextBytes(n);if(i>0){n[0]&=(1<<i)-1}else{n[0]=0}this.fromString(n,256)}}function cd(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0){if(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r){t[i++]=n|this.s<<this.DB-r}while(e>=0){if(r<8){n=(this[e]&(1<<r)-1)<<8-r;n|=this[--e]>>(r+=this.DB-8)}else{n=this[e]>>(r-=8)&255;if(r<=0){r+=this.DB;--e}}if((n&128)!=0){n|=-256}if(i==0&&(this.s&128)!=(n&128)){++i}if(i>0||n!=this.s){t[i++]=n}}}return t}function fd(e){return this.compareTo(e)==0}function ld(e){return this.compareTo(e)<0?this:e}function hd(e){return this.compareTo(e)>0?this:e}function dd(e,t,r){var n,i,s=Math.min(e.t,this.t);for(n=0;n<s;++n){r[n]=t(this[n],e[n])}if(e.t<this.t){i=e.s&this.DM;for(n=s;n<this.t;++n){r[n]=t(this[n],i)}r.t=this.t}else{i=this.s&this.DM;for(n=s;n<e.t;++n){r[n]=t(i,e[n])}r.t=e.t}r.s=t(this.s,e.s);r.clamp()}function pd(e,t){return e&t}function vd(e){var t=ch();this.bitwiseTo(e,pd,t);return t}function gd(e,t){return e|t}function yd(e){var t=ch();this.bitwiseTo(e,gd,t);return t}function md(e,t){return e^t}function bd(e){var t=ch();this.bitwiseTo(e,md,t);return t}function wd(e,t){return e&~t}function Sd(e){var t=ch();this.bitwiseTo(e,wd,t);return t}function Ed(){var e=ch();for(var t=0;t<this.t;++t){e[t]=this.DM&~this[t]}e.t=this.t;e.s=~this.s;return e}function xd(e){var t=ch();if(e<0){this.rShiftTo(-e,t)}else{this.lShiftTo(e,t)}return t}function Ad(e){var t=ch();if(e<0){this.lShiftTo(-e,t)}else{this.rShiftTo(e,t)}return t}function Fd(e){if(e==0){return-1}var t=0;if((e&65535)==0){e>>=16;t+=16}if((e&255)==0){e>>=8;t+=8}if((e&15)==0){e>>=4;t+=4}if((e&3)==0){e>>=2;t+=2}if((e&1)==0){++t}return t}function Td(){for(var e=0;e<this.t;++e){if(this[e]!=0){return e*this.DB+Fd(this[e])}}if(this.s<0){return this.t*this.DB}return-1}function Cd(e){var t=0;while(e!=0){e&=e-1;++t}return t}function kd(){var e=0,t=this.s&this.DM;for(var r=0;r<this.t;++r){e+=Cd(this[r]^t)}return e}function Id(e){var t=Math.floor(e/this.DB);if(t>=this.t){return this.s!=0}return(this[t]&1<<e%this.DB)!=0}function Od(e,t){var r=uh.ONE.shiftLeft(e);this.bitwiseTo(r,t,r);return r}function Rd(e){return this.changeBit(e,gd)}function Dd(e){return this.changeBit(e,wd)}function _d(e){return this.changeBit(e,md)}function Nd(e,t){var r=0,n=0,i=Math.min(e.t,this.t);while(r<i){n+=this[r]+e[r];t[r++]=n&this.DM;n>>=this.DB}if(e.t<this.t){n+=e.s;while(r<this.t){n+=this[r];t[r++]=n&this.DM;n>>=this.DB}n+=this.s}else{n+=this.s;while(r<e.t){n+=e[r];t[r++]=n&this.DM;n>>=this.DB}n+=e.s}t.s=n<0?-1:0;if(n>0){t[r++]=n}else{if(n<-1){t[r++]=this.DV+n}}t.t=r;t.clamp()}function Pd(e){var t=ch();this.addTo(e,t);return t}function jd(e){var t=ch();this.subTo(e,t);return t}function Bd(e){var t=ch();this.multiplyTo(e,t);return t}function Ld(){var e=ch();this.squareTo(e);return e}function Hd(e){var t=ch();this.divRemTo(e,t,null);return t}function Md(e){var t=ch();this.divRemTo(e,null,t);return t}function Vd(e){var t=ch(),r=ch();this.divRemTo(e,t,r);return new Array(t,r)}function Ud(e){this[this.t]=this.am(0,e-1,this,0,0,this.t);++this.t;this.clamp()}function qd(e,t){if(e==0){return}while(this.t<=t){this[this.t++]=0}this[t]+=e;while(this[t]>=this.DV){this[t]-=this.DV;if(++t>=this.t){this[this.t++]=0}++this[t]}}function Kd(){}function zd(e){return e}function Qd(e,t,r){e.multiplyTo(t,r)}function Wd(e,t){e.squareTo(t)}Kd.prototype.convert=zd;Kd.prototype.revert=zd;Kd.prototype.mulTo=Qd;Kd.prototype.sqrTo=Wd;function Yd(e){return this.exp(e,new Kd)}function Gd(e,t,r){var n=Math.min(this.t+e.t,t);r.s=0;r.t=n;while(n>0){r[--n]=0}var i;for(i=r.t-this.t;n<i;++n){r[n+this.t]=this.am(0,e[n],r,n,0,this.t)}for(i=Math.min(e.t,t);n<i;++n){this.am(0,e[n],r,n,0,t-n)}r.clamp()}function Jd(e,t,r){--t;var n=r.t=this.t+e.t-t;r.s=0;while(--n>=0){r[n]=0}for(n=Math.max(t-this.t,0);n<e.t;++n){r[this.t+n-t]=this.am(t-n,e[n],r,0,0,this.t+n-t)}r.clamp();r.drShiftTo(1,r)}function $d(e){this.r2=ch();this.q3=ch();uh.ONE.dlShiftTo(2*e.t,this.r2);this.mu=this.r2.divide(e);this.m=e}function Xd(e){if(e.s<0||e.t>2*this.m.t){return e.mod(this.m)}else{if(e.compareTo(this.m)<0){return e}else{var t=ch();e.copyTo(t);this.reduce(t);return t}}}function Zd(e){return e}function ep(e){e.drShiftTo(this.m.t-1,this.r2);if(e.t>this.m.t+1){e.t=this.m.t+1;e.clamp()}this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(e.compareTo(this.r2)<0){e.dAddOffset(1,this.m.t+1)}e.subTo(this.r2,e);while(e.compareTo(this.m)>=0){e.subTo(this.m,e)}}function tp(e,t){e.squareTo(t);this.reduce(t)}function rp(e,t,r){e.multiplyTo(t,r);this.reduce(r)}$d.prototype.convert=Xd;$d.prototype.revert=Zd;$d.prototype.reduce=ep;$d.prototype.mulTo=rp;$d.prototype.sqrTo=tp;function np(e,t){var r=e.bitLength(),n,i=wh(1),s;if(r<=0){return i}else{if(r<18){n=1}else{if(r<48){n=3}else{if(r<144){n=4}else{if(r<768){n=5}else{n=6}}}}}if(r<8){s=new Lh(t)}else{if(t.isEven()){s=new $d(t)}else{s=new zh(t)}}var a=new Array,o=3,u=n-1,c=(1<<n)-1;a[1]=s.convert(this);if(n>1){var f=ch();s.sqrTo(a[1],f);while(o<=c){a[o]=ch();s.mulTo(f,a[o-2],a[o]);o+=2}}var l=e.t-1,h,d=true,p=ch(),v;r=Ch(e[l])-1;while(l>=0){if(r>=u){h=e[l]>>r-u&c}else{h=(e[l]&(1<<r+1)-1)<<u-r;if(l>0){h|=e[l-1]>>this.DB+r-u}}o=n;while((h&1)==0){h>>=1;--o}if((r-=o)<0){r+=this.DB;--l}if(d){a[h].copyTo(i);d=false}else{while(o>1){s.sqrTo(i,p);s.sqrTo(p,i);o-=2}if(o>0){s.sqrTo(i,p)}else{v=i;i=p;p=v}s.mulTo(p,a[h],i)}while(l>=0&&(e[l]&1<<r)==0){s.sqrTo(i,p);v=i;i=p;p=v;if(--r<0){r=this.DB-1;--l}}}return s.revert(i)}function ip(e){var t=this.s<0?this.negate():this.clone();var r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r;r=n}var i=t.getLowestSetBit(),s=r.getLowestSetBit();if(s<0){return t}if(i<s){s=i}if(s>0){t.rShiftTo(s,t);r.rShiftTo(s,r)}while(t.signum()>0){if((i=t.getLowestSetBit())>0){t.rShiftTo(i,t)}if((i=r.getLowestSetBit())>0){r.rShiftTo(i,r)}if(t.compareTo(r)>=0){t.subTo(r,t);t.rShiftTo(1,t)}else{r.subTo(t,r);r.rShiftTo(1,r)}}if(s>0){r.lShiftTo(s,r)}return r}function sp(e){if(e<=0){return 0}var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0){if(t==0){r=this[0]%e}else{for(var n=this.t-1;n>=0;--n){r=(t*r+this[n])%e}}}return r}function ap(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0){return uh.ZERO}var r=e.clone(),n=this.clone();var i=wh(1),s=wh(0),a=wh(0),o=wh(1);while(r.signum()!=0){while(r.isEven()){r.rShiftTo(1,r);if(t){if(!i.isEven()||!s.isEven()){i.addTo(this,i);s.subTo(e,s)}i.rShiftTo(1,i)}else{if(!s.isEven()){s.subTo(e,s)}}s.rShiftTo(1,s)}while(n.isEven()){n.rShiftTo(1,n);if(t){if(!a.isEven()||!o.isEven()){a.addTo(this,a);o.subTo(e,o)}a.rShiftTo(1,a)}else{if(!o.isEven()){o.subTo(e,o)}}o.rShiftTo(1,o)}if(r.compareTo(n)>=0){r.subTo(n,r);if(t){i.subTo(a,i)}s.subTo(o,s)}else{n.subTo(r,n);if(t){a.subTo(i,a)}o.subTo(s,o)}}if(n.compareTo(uh.ONE)!=0){return uh.ZERO}if(o.compareTo(e)>=0){return o.subtract(e)}if(o.signum()<0){o.addTo(e,o)}else{return o}if(o.signum()<0){return o.add(e)}else{return o}}var op=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997];var up=(1<<26)/op[op.length-1];function cp(e){var t,r=this.abs();if(r.t==1&&r[0]<=op[op.length-1]){for(t=0;t<op.length;++t){if(r[0]==op[t]){return true}}return false}if(r.isEven()){return false}t=1;while(t<op.length){var n=op[t],i=t+1;while(i<op.length&&n<up){n*=op[i++]}n=r.modInt(n);while(t<i){if(n%op[t++]==0){return false}}}return r.millerRabin(e)}function fp(e){var t=this.subtract(uh.ONE);var r=t.getLowestSetBit();if(r<=0){return false}var n=t.shiftRight(r);e=e+1>>1;if(e>op.length){e=op.length}var i=ch();for(var s=0;s<e;++s){i.fromInt(op[Math.floor(Math.random()*op.length)]);var a=i.modPow(n,this);if(a.compareTo(uh.ONE)!=0&&a.compareTo(t)!=0){var o=1;while(o++<r&&a.compareTo(t)!=0){a=a.modPowInt(2,this);if(a.compareTo(uh.ONE)==0){return false}}if(a.compareTo(t)!=0){return false}}}return true}uh.prototype.chunkSize=id;uh.prototype.toRadix=ad;uh.prototype.fromRadix=od;uh.prototype.fromNumber=ud;uh.prototype.bitwiseTo=dd;uh.prototype.changeBit=Od;uh.prototype.addTo=Nd;uh.prototype.dMultiply=Ud;uh.prototype.dAddOffset=qd;uh.prototype.multiplyLowerTo=Gd;uh.prototype.multiplyUpperTo=Jd;uh.prototype.modInt=sp;uh.prototype.millerRabin=fp;uh.prototype.clone=ed;uh.prototype.intValue=td;uh.prototype.byteValue=rd;uh.prototype.shortValue=nd;uh.prototype.signum=sd;uh.prototype.toByteArray=cd;uh.prototype.equals=fd;uh.prototype.min=ld;uh.prototype.max=hd;uh.prototype.and=vd;uh.prototype.or=yd;uh.prototype.xor=bd;uh.prototype.andNot=Sd;uh.prototype.not=Ed;uh.prototype.shiftLeft=xd;uh.prototype.shiftRight=Ad;uh.prototype.getLowestSetBit=Td;uh.prototype.bitCount=kd;uh.prototype.testBit=Id;uh.prototype.setBit=Rd;uh.prototype.clearBit=Dd;uh.prototype.flipBit=_d;uh.prototype.add=Pd;uh.prototype.subtract=jd;uh.prototype.multiply=Bd;uh.prototype.divide=Hd;uh.prototype.remainder=Md;uh.prototype.divideAndRemainder=Vd;uh.prototype.modPow=np;uh.prototype.modInverse=ap;uh.prototype.pow=Yd;uh.prototype.gcd=ip;uh.prototype.isProbablePrime=cp;uh.prototype.square=Ld;function lp(){this.i=0;this.j=0;this.S=new Array}function hp(e){var t,r,n;for(t=0;t<256;++t){this.S[t]=t}r=0;for(t=0;t<256;++t){r=r+this.S[t]+e[t%e.length]&255;n=this.S[t];this.S[t]=this.S[r];this.S[r]=n}this.i=0;this.j=0}function dp(){var e;this.i=this.i+1&255;this.j=this.j+this.S[this.i]&255;e=this.S[this.i];this.S[this.i]=this.S[this.j];this.S[this.j]=e;return this.S[e+this.S[this.i]&255]}lp.prototype.init=hp;lp.prototype.next=dp;function pp(){return new lp}var vp=256;var gp;var yp;var mp;function bp(e){yp[mp++]^=e&255;yp[mp++]^=e>>8&255;yp[mp++]^=e>>16&255;yp[mp++]^=e>>24&255;if(mp>=vp){mp-=vp}}function wp(){bp((new Date).getTime())}if(yp==null){yp=new Array;mp=0;var Sp;if(Zl!==undefined&&Zl.msCrypto!==undefined){var Ep=Zl.msCrypto;if(Ep.getRandomValues){var xp=new Uint8Array(32);Ep.getRandomValues(xp);for(Sp=0;Sp<32;++Sp){yp[mp++]=xp[Sp]}}}while(mp<vp){Sp=Math.floor(65536*Math.random());yp[mp++]=Sp>>>8;yp[mp++]=Sp&255}mp=0;wp()}function Ap(){if(gp==null){wp();gp=pp();gp.init(yp);for(mp=0;mp<yp.length;++mp){yp[mp]=0}mp=0}return gp.next()}function Fp(e){var t;for(t=0;t<e.length;++t){e[t]=Ap()}}function Tp(){}Tp.prototype.nextBytes=Fp;function Cp(e,t){return new uh(e,t)}function kp(e,t){if(t<e.length+11){throw"Message too long for RSA";return null}var r=new Array;var n=e.length-1;while(n>=0&&t>0){var i=e.charCodeAt(n--);if(i<128){r[--t]=i}else{if(i>127&&i<2048){r[--t]=i&63|128;r[--t]=i>>6|192}else{r[--t]=i&63|128;r[--t]=i>>6&63|128;r[--t]=i>>12|224}}}r[--t]=0;var s=new Tp;var a=new Array;while(t>2){a[0]=0;while(a[0]==0){s.nextBytes(a)}r[--t]=a[0]}r[--t]=2;r[--t]=0;return new uh(r)}function Ip(e,t,r){var n="",i=0;while(n.length<t){n+=r(String.fromCharCode.apply(String,e.concat([(i&4278190080)>>24,(i&16711680)>>16,(i&65280)>>8,i&255])));i+=1}return n}function Op(e,t,r,n){var i=wv.crypto.MessageDigest;var s=wv.crypto.Util;var a=null;if(!r){r="sha1"}if(typeof r==="string"){a=i.getCanonicalAlgName(r);n=i.getHashLength(a);r=function(e){return Lv(s.hashHex(Hv(e),a))}}if(e.length+2*n+2>t){throw"Message too long for RSA"}var o="",u;for(u=0;u<t-e.length-2*n-2;u+=1){o+="\0"}var c=r("")+o+""+e;var f=new Array(n);(new Tp).nextBytes(f);var l=Ip(f,c.length,r);var h=[];for(u=0;u<c.length;u+=1){h[u]=c.charCodeAt(u)^l.charCodeAt(u)}var d=Ip(h,f.length,r);var p=[0];for(u=0;u<f.length;u+=1){p[u+1]=f[u]^d.charCodeAt(u)}return new uh(p.concat(h))}function Rp(){this.n=null;this.e=0;this.d=null;this.p=null;this.q=null;this.dmp1=null;this.dmq1=null;this.coeff=null}function Dp(e,t){this.isPublic=true;this.isPrivate=false;if(typeof e!=="string"){this.n=e;this.e=t}else{if(e!=null&&t!=null&&e.length>0&&t.length>0){this.n=Cp(e,16);this.e=parseInt(t,16)}else{throw"Invalid RSA public key"}}}function _p(e){return e.modPowInt(this.e,this.n)}function Np(e){var t=kp(e,this.n.bitLength()+7>>3);if(t==null){return null}var r=this.doPublic(t);if(r==null){return null}var n=r.toString(16);if((n.length&1)==0){return n}else{return"0"+n}}function Pp(e,t,r){var n=Op(e,this.n.bitLength()+7>>3,t,r);if(n==null){return null}var i=this.doPublic(n);if(i==null){return null}var s=i.toString(16);if((s.length&1)==0){return s}else{return"0"+s}}Rp.prototype.doPublic=_p;Rp.prototype.setPublic=Dp;Rp.prototype.encrypt=Np;Rp.prototype.encryptOAEP=Pp;Rp.prototype.type="RSA";function jp(e,t){var r=e.toByteArray();var n=0;while(n<r.length&&r[n]==0){++n}if(r.length-n!=t-1||r[n]!=2){return null}++n;while(r[n]!=0){if(++n>=r.length){return null}}var i="";while(++n<r.length){var s=r[n]&255;if(s<128){i+=String.fromCharCode(s)}else{if(s>191&&s<224){i+=String.fromCharCode((s&31)<<6|r[n+1]&63);++n}else{i+=String.fromCharCode((s&15)<<12|(r[n+1]&63)<<6|r[n+2]&63);n+=2}}}return i}function Bp(e,t,r){var n="",i=0;while(n.length<t){n+=r(e+String.fromCharCode.apply(String,[(i&4278190080)>>24,(i&16711680)>>16,(i&65280)>>8,i&255]));i+=1}return n}function Lp(e,t,r,n){var i=wv.crypto.MessageDigest;var s=wv.crypto.Util;var a=null;if(!r){r="sha1"}if(typeof r==="string"){a=i.getCanonicalAlgName(r);n=i.getHashLength(a);r=function(e){return Lv(s.hashHex(Hv(e),a))}}e=e.toByteArray();var o;for(o=0;o<e.length;o+=1){e[o]&=255}while(e.length<t){e.unshift(0)}e=String.fromCharCode.apply(String,e);if(e.length<2*n+2){throw"Cipher too short"}var u=e.substr(1,n);var c=e.substr(n+1);var f=Bp(c,n,r);var l=[],o;for(o=0;o<u.length;o+=1){l[o]=u.charCodeAt(o)^f.charCodeAt(o)}var h=Bp(String.fromCharCode.apply(String,l),e.length-n,r);var d=[];for(o=0;o<c.length;o+=1){d[o]=c.charCodeAt(o)^h.charCodeAt(o)}d=String.fromCharCode.apply(String,d);if(d.substr(0,n)!==r("")){throw"Hash mismatch"}d=d.substr(n);var p=d.indexOf("");var v=p!=-1?d.substr(0,p).lastIndexOf("\0"):-1;if(v+1!=p){throw"Malformed data"}return d.substr(p+1)}function Hp(e,t,r){this.isPrivate=true;if(typeof e!=="string"){this.n=e;this.e=t;this.d=r}else{if(e!=null&&t!=null&&e.length>0&&t.length>0){this.n=Cp(e,16);this.e=parseInt(t,16);this.d=Cp(r,16)}else{throw"Invalid RSA private key"}}}function Mp(e,t,r,n,i,s,a,o){this.isPrivate=true;this.isPublic=false;if(e==null){throw"RSASetPrivateEx N == null"}if(t==null){throw"RSASetPrivateEx E == null"}if(e.length==0){throw"RSASetPrivateEx N.length == 0"}if(t.length==0){throw"RSASetPrivateEx E.length == 0"}if(e!=null&&t!=null&&e.length>0&&t.length>0){this.n=Cp(e,16);this.e=parseInt(t,16);this.d=Cp(r,16);this.p=Cp(n,16);this.q=Cp(i,16);this.dmp1=Cp(s,16);this.dmq1=Cp(a,16);this.coeff=Cp(o,16)}else{throw"Invalid RSA private key in RSASetPrivateEx"}}function Vp(e,t){var r=new Tp;var n=e>>1;this.e=parseInt(t,16);var i=new uh(t,16);for(;;){for(;;){this.p=new uh(e-n,1,r);if(this.p.subtract(uh.ONE).gcd(i).compareTo(uh.ONE)==0&&this.p.isProbablePrime(10)){break}}for(;;){this.q=new uh(n,1,r);if(this.q.subtract(uh.ONE).gcd(i).compareTo(uh.ONE)==0&&this.q.isProbablePrime(10)){break}}if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q;this.q=s}var a=this.p.subtract(uh.ONE);var o=this.q.subtract(uh.ONE);var u=a.multiply(o);if(u.gcd(i).compareTo(uh.ONE)==0){this.n=this.p.multiply(this.q);this.d=i.modInverse(u);this.dmp1=this.d.mod(a);this.dmq1=this.d.mod(o);this.coeff=this.q.modInverse(this.p);break}}this.isPrivate=true}function Up(e){if(this.p==null||this.q==null){return e.modPow(this.d,this.n)}var t=e.mod(this.p).modPow(this.dmp1,this.p);var r=e.mod(this.q).modPow(this.dmq1,this.q);while(t.compareTo(r)<0){t=t.add(this.p)}return t.subtract(r).multiply(this.coeff).mod(this.p).multiply(this.q).add(r)}function qp(e){var t=Cp(e,16);var r=this.doPrivate(t);if(r==null){return null}return jp(r,this.n.bitLength()+7>>3)}function Kp(e,t,r){var n=Cp(e,16);var i=this.doPrivate(n);if(i==null){return null}return Lp(i,this.n.bitLength()+7>>3,t,r)}Rp.prototype.doPrivate=Up;Rp.prototype.setPrivate=Hp;Rp.prototype.setPrivateEx=Mp;Rp.prototype.generate=Vp;Rp.prototype.decrypt=qp;Rp.prototype.decryptOAEP=Kp;function zp(e,t){this.x=t;this.q=e}function Qp(e){if(e==this){return true}return this.q.equals(e.q)&&this.x.equals(e.x)}function Wp(){return this.x}function Yp(){return new zp(this.q,this.x.negate().mod(this.q))}function Gp(e){return new zp(this.q,this.x.add(e.toBigInteger()).mod(this.q))}function Jp(e){return new zp(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))}function $p(e){return new zp(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))}function Xp(){return new zp(this.q,this.x.square().mod(this.q))}function Zp(e){return new zp(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))}zp.prototype.equals=Qp;zp.prototype.toBigInteger=Wp;zp.prototype.negate=Yp;zp.prototype.add=Gp;zp.prototype.subtract=Jp;zp.prototype.multiply=$p;zp.prototype.square=Xp;zp.prototype.divide=Zp;function ev(e,t,r,n){this.curve=e;this.x=t;this.y=r;if(n==null){this.z=uh.ONE}else{this.z=n}this.zinv=null}function tv(){if(this.zinv==null){this.zinv=this.z.modInverse(this.curve.q)}return this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function rv(){if(this.zinv==null){this.zinv=this.z.modInverse(this.curve.q)}return this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function nv(e){if(e==this){return true}if(this.isInfinity()){return e.isInfinity()}if(e.isInfinity()){return this.isInfinity()}var t,r;t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q);if(!t.equals(uh.ZERO)){return false}r=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);return r.equals(uh.ZERO)}function iv(){if(this.x==null&&this.y==null){return true}return this.z.equals(uh.ZERO)&&!this.y.toBigInteger().equals(uh.ZERO)}function sv(){return new ev(this.curve,this.x,this.y.negate(),this.z)}function av(e){if(this.isInfinity()){return e}if(e.isInfinity()){return this}var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q);var r=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(uh.ZERO.equals(r)){if(uh.ZERO.equals(t)){return this.twice()}return this.curve.getInfinity()}var n=new uh("3");var i=this.x.toBigInteger();var s=this.y.toBigInteger();var a=e.x.toBigInteger();var o=e.y.toBigInteger();var u=r.square();var c=u.multiply(r);var f=i.multiply(u);var l=t.square().multiply(this.z);var h=l.subtract(f.shiftLeft(1)).multiply(e.z).subtract(c).multiply(r).mod(this.curve.q);var d=f.multiply(n).multiply(t).subtract(s.multiply(c)).subtract(l.multiply(t)).multiply(e.z).add(t.multiply(c)).mod(this.curve.q);var p=c.multiply(this.z).multiply(e.z).mod(this.curve.q);return new ev(this.curve,this.curve.fromBigInteger(h),this.curve.fromBigInteger(d),p)}function ov(){if(this.isInfinity()){return this}if(this.y.toBigInteger().signum()==0){return this.curve.getInfinity()}var e=new uh("3");var t=this.x.toBigInteger();var r=this.y.toBigInteger();var n=r.multiply(this.z);var i=n.multiply(r).mod(this.curve.q);var s=this.curve.a.toBigInteger();var a=t.square().multiply(e);if(!uh.ZERO.equals(s)){a=a.add(this.z.square().multiply(s))}a=a.mod(this.curve.q);var o=a.square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(n).mod(this.curve.q);var u=a.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(a.square().multiply(a)).mod(this.curve.q);var c=n.square().multiply(n).shiftLeft(3).mod(this.curve.q);return new ev(this.curve,this.curve.fromBigInteger(o),this.curve.fromBigInteger(u),c)}function uv(e){if(this.isInfinity()){return this}if(e.signum()==0){return this.curve.getInfinity()}var t=e;var r=t.multiply(new uh("3"));var n=this.negate();var i=this;var s;for(s=r.bitLength()-2;s>0;--s){i=i.twice();var a=r.testBit(s);var o=t.testBit(s);if(a!=o){i=i.add(a?this:n)}}return i}function cv(e,t,r){var n;if(e.bitLength()>r.bitLength()){n=e.bitLength()-1}else{n=r.bitLength()-1}var i=this.curve.getInfinity();var s=this.add(t);while(n>=0){i=i.twice();if(e.testBit(n)){if(r.testBit(n)){i=i.add(s)}else{i=i.add(this)}}else{if(r.testBit(n)){i=i.add(t)}}--n}return i}ev.prototype.getX=tv;ev.prototype.getY=rv;ev.prototype.equals=nv;ev.prototype.isInfinity=iv;ev.prototype.negate=sv;ev.prototype.add=av;ev.prototype.twice=ov;ev.prototype.multiply=uv;ev.prototype.multiplyTwo=cv;function fv(e,t,r){this.q=e;this.a=this.fromBigInteger(t);this.b=this.fromBigInteger(r);this.infinity=new ev(this,null,null)}function lv(){return this.q}function hv(){return this.a}function dv(){return this.b}function pv(e){if(e==this){return true}return this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)}function vv(){return this.infinity}function gv(e){return new zp(this.q,e)}function yv(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var t=(e.length-2)/2;var r=e.substr(2,t);var n=e.substr(t+2,t);return new ev(this,this.fromBigInteger(new uh(r,16)),this.fromBigInteger(new uh(n,16)));default:return null}}fv.prototype.getQ=lv;fv.prototype.getA=hv;fv.prototype.getB=dv;fv.prototype.equals=pv;fv.prototype.getInfinity=vv;fv.prototype.fromBigInteger=gv;fv.prototype.decodePointHex=yv;zp.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)};ev.prototype.getEncoded=function(e){var t=function(e,t){var r=e.toByteArrayUnsigned();if(t<r.length){r=r.slice(r.length-t)}else{while(t>r.length){r.unshift(0)}}return r};var r=this.getX().toBigInteger();var n=this.getY().toBigInteger();var i=t(r,32);if(e){if(n.isEven()){i.unshift(2)}else{i.unshift(3)}}else{i.unshift(4);i=i.concat(t(n,32))}return i};ev.decodeFrom=function(e,t){var r=t.length-1;var n=t.slice(1,1+r/2);var i=t.slice(1+r/2,1+r);n.unshift(0);i.unshift(0);var s=new uh(n);var a=new uh(i);return new ev(e,e.fromBigInteger(s),e.fromBigInteger(a))};ev.decodeFromHex=function(e,t){var r=t.substr(0,2);var n=t.length-2;var i=t.substr(2,n/2);var s=t.substr(2+n/2,n/2);var a=new uh(i,16);var o=new uh(s,16);return new ev(e,e.fromBigInteger(a),e.fromBigInteger(o))};ev.prototype.add2D=function(e){if(this.isInfinity()){return e}if(e.isInfinity()){return this}if(this.x.equals(e.x)){if(this.y.equals(e.y)){return this.twice()}return this.curve.getInfinity()}var t=e.x.subtract(this.x);var r=e.y.subtract(this.y);var n=r.divide(t);var i=n.square().subtract(this.x).subtract(e.x);var s=n.multiply(this.x.subtract(i)).subtract(this.y);return new ev(this.curve,i,s)};ev.prototype.twice2D=function(){if(this.isInfinity()){return this}if(this.y.toBigInteger().signum()==0){return this.curve.getInfinity()}var e=this.curve.fromBigInteger(uh.valueOf(2));var t=this.curve.fromBigInteger(uh.valueOf(3));var r=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e));var n=r.square().subtract(this.x.multiply(e));var i=r.multiply(this.x.subtract(n)).subtract(this.y);return new ev(this.curve,n,i)};ev.prototype.multiply2D=function(e){if(this.isInfinity()){return this}if(e.signum()==0){return this.curve.getInfinity()}var t=e;var r=t.multiply(new uh("3"));var n=this.negate();var i=this;var s;for(s=r.bitLength()-2;s>0;--s){i=i.twice();var a=r.testBit(s);var o=t.testBit(s);if(a!=o){i=i.add2D(a?this:n)}}return i};ev.prototype.isOnCurve=function(){var e=this.getX().toBigInteger();var t=this.getY().toBigInteger();var r=this.curve.getA().toBigInteger();var n=this.curve.getB().toBigInteger();var i=this.curve.getQ();var s=t.multiply(t).mod(i);var a=e.multiply(e).multiply(e).add(r.multiply(e)).add(n).mod(i);return s.equals(a)};ev.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"};ev.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity()){throw new Error("Point is at infinity.")}var t=this.getX().toBigInteger();var r=this.getY().toBigInteger();if(t.compareTo(uh.ONE)<0||t.compareTo(e.subtract(uh.ONE))>0){throw new Error("x coordinate out of bounds")}if(r.compareTo(uh.ONE)<0||r.compareTo(e.subtract(uh.ONE))>0){throw new Error("y coordinate out of bounds")}if(!this.isOnCurve()){throw new Error("Point is not on the curve.")}if(this.multiply(e).isInfinity()){throw new Error("Point is not a scalar multiple of G.")}return true};var mv=function(){var e="(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)";var t='(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))';var r='(?:"'+t+'*")';var n=new RegExp("(?:false|true|null|[\\{\\}\\[\\]]|"+e+"|"+r+")","g");var i=new RegExp("\\\\(?:([^u])|u(.{4}))","g");var s={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function a(e,t,r){return t?s[t]:String.fromCharCode(parseInt(r,16))}var o=new String("");var u="\\";var c=Object.hasOwnProperty;return function(e,t){var r=e.match(n);var s;var f=r[0];var l=false;if("{"===f){s={}}else{if("["===f){s=[]}else{s=[];l=true}}var h;var d=[s];for(var p=1-l,v=r.length;p<v;++p){f=r[p];var g;switch(f.charCodeAt(0)){default:g=d[0];g[h||g.length]=+f;h=void 0;break;case 34:f=f.substring(1,f.length-1);if(f.indexOf(u)!==-1){f=f.replace(i,a)}g=d[0];if(!h){if(g instanceof Array){h=g.length}else{h=f||o;break}}g[h]=f;h=void 0;break;case 91:g=d[0];d.unshift(g[h||g.length]=[]);h=void 0;break;case 93:d.shift();break;case 102:g=d[0];g[h||g.length]=false;h=void 0;break;case 110:g=d[0];g[h||g.length]=null;h=void 0;break;case 116:g=d[0];g[h||g.length]=true;h=void 0;break;case 123:g=d[0];d.unshift(g[h||g.length]={});h=void 0;break;case 125:d.shift();break}}if(l){if(d.length!==1){throw new Error}s=s[0]}else{if(d.length){throw new Error}}if(t){var y=function(e,r){var n=e[r];if(n&&typeof n==="object"){var i=null;for(var s in n){if(c.call(n,s)&&n!==e){var a=y(n,s);if(a!==void 0){n[s]=a}else{if(!i){i=[]}i.push(s)}}}if(i){for(var o=i.length;--o>=0;){delete n[i[o]]}}}return t.call(e,r,n)};s=y({"":s},"")}return s}}();if(typeof wv=="undefined"||!wv){wv={}}if(typeof wv.asn1=="undefined"||!wv.asn1){wv.asn1={}}wv.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);if(t.length%2==1){t="0"+t}return t};this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if(t.substr(0,1)!="-"){if(t.length%2==1){t="0"+t}else{if(!t.match(/^[0-7]/)){t="00"+t}}}else{var r=t.substr(1);var n=r.length;if(n%2==1){n+=1}else{if(!t.match(/^[0-7]/)){n+=2}}var i="";for(var s=0;s<n;s++){i+="f"}var a=new uh(i,16);var o=a.xor(e).add(uh.ONE);t=o.toString(16).replace(/^-/,"")}return t};this.getPEMStringFromHex=function(e,t){return qv(e,t)};this.newObject=function(e){var t=wv,r=t.asn1,n=r.DERBoolean,i=r.DERInteger,s=r.DERBitString,a=r.DEROctetString,o=r.DERNull,u=r.DERObjectIdentifier,c=r.DEREnumerated,f=r.DERUTF8String,l=r.DERNumericString,h=r.DERPrintableString,d=r.DERTeletexString,p=r.DERIA5String,v=r.DERUTCTime,g=r.DERGeneralizedTime,y=r.DERSequence,m=r.DERSet,b=r.DERTaggedObject,w=r.ASN1Util.newObject;var S=Object.keys(e);if(S.length!=1){throw"key of param shall be only one."}var E=S[0];if(":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+E+":")==-1){throw"undefined key: "+E}if(E=="bool"){return new n(e[E])}if(E=="int"){return new i(e[E])}if(E=="bitstr"){return new s(e[E])}if(E=="octstr"){return new a(e[E])}if(E=="null"){return new o(e[E])}if(E=="oid"){return new u(e[E])}if(E=="enum"){return new c(e[E])}if(E=="utf8str"){return new f(e[E])}if(E=="numstr"){return new l(e[E])}if(E=="prnstr"){return new h(e[E])}if(E=="telstr"){return new d(e[E])}if(E=="ia5str"){return new p(e[E])}if(E=="utctime"){return new v(e[E])}if(E=="gentime"){return new g(e[E])}if(E=="seq"){var x=e[E];var A=[];for(var F=0;F<x.length;F++){var T=w(x[F]);A.push(T)}return new y({array:A})}if(E=="set"){var x=e[E];var A=[];for(var F=0;F<x.length;F++){var T=w(x[F]);A.push(T)}return new m({array:A})}if(E=="tag"){var C=e[E];if(Object.prototype.toString.call(C)==="[object Array]"&&C.length==3){var k=w(C[2]);return new b({tag:C[0],explicit:C[1],obj:k})}else{var I={};if(C.explicit!==undefined){I.explicit=C.explicit}if(C.tag!==undefined){I.tag=C.tag}if(C.obj===undefined){throw"obj shall be specified for 'tag'."}I.obj=w(C.obj);return new b(I)}}};this.jsonToASN1HEX=function(e){var t=this.newObject(e);return t.getEncodedHex()}};wv.asn1.ASN1Util.oidHexToInt=function(e){var t="";var r=parseInt(e.substr(0,2),16);var n=Math.floor(r/40);var i=r%40;var t=n+"."+i;var s="";for(var a=2;a<e.length;a+=2){var o=parseInt(e.substr(a,2),16);var u=("00000000"+o.toString(2)).slice(-8);s=s+u.substr(1,7);if(u.substr(0,1)=="0"){var c=new uh(s,2);t=t+"."+c.toString(10);s=""}}return t};wv.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);if(t.length==1){t="0"+t}return t};var r=function(e){var r="";var n=new uh(e,10);var i=n.toString(2);var s=7-i.length%7;if(s==7){s=0}var a="";for(var o=0;o<s;o++){a+="0"}i=a+i;for(var o=0;o<i.length-1;o+=7){var u=i.substr(o,7);if(o!=i.length-7){u="1"+u}r+=t(parseInt(u,2))}return r};if(!e.match(/^[0-9.]+$/)){throw"malformed oid string: "+e}var n="";var i=e.split(".");var s=parseInt(i[0])*40+parseInt(i[1]);n+=t(s);i.splice(0,2);for(var a=0;a<i.length;a++){n+=r(i[a])}return n};wv.asn1.ASN1Object=function(){var e="";this.getLengthHexFromValue=function(){if(typeof this.hV=="undefined"||this.hV==null){throw"this.hV is null or undefined."}if(this.hV.length%2==1){throw"value hex must be even length: n="+e.length+",v="+this.hV}var t=this.hV.length/2;var r=t.toString(16);if(r.length%2==1){r="0"+r}if(t<128){return r}else{var n=r.length/2;if(n>15){throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16)}var i=128+n;return i.toString(16)+r}};this.getEncodedHex=function(){if(this.hTLV==null||this.isModified){this.hV=this.getFreshValueHex();this.hL=this.getLengthHexFromValue();this.hTLV=this.hT+this.hL+this.hV;this.isModified=false}return this.hTLV};this.getValueHex=function(){this.getEncodedHex();return this.hV};this.getFreshValueHex=function(){return""}};wv.asn1.DERAbstractString=function(e){wv.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s};this.setString=function(e){this.hTLV=null;this.isModified=true;this.s=e;this.hV=jv(this.s).toLowerCase()};this.setStringHex=function(e){this.hTLV=null;this.isModified=true;this.s=null;this.hV=e};this.getFreshValueHex=function(){return this.hV};if(typeof e!="undefined"){if(typeof e=="string"){this.setString(e)}else{if(typeof e.str!="undefined"){this.setString(e.str)}else{if(typeof e.hex!="undefined"){this.setStringHex(e.hex)}}}}};eh.lang.extend(wv.asn1.DERAbstractString,wv.asn1.ASN1Object);wv.asn1.DERAbstractTime=function(e){wv.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(e){utc=e.getTime()+e.getTimezoneOffset()*6e4;var t=new Date(utc);return t};this.formatDate=function(e,t,r){var n=this.zeroPadding;var i=this.localDateToUTC(e);var s=String(i.getFullYear());if(t=="utc"){s=s.substr(2,2)}var a=n(String(i.getMonth()+1),2);var o=n(String(i.getDate()),2);var u=n(String(i.getHours()),2);var c=n(String(i.getMinutes()),2);var f=n(String(i.getSeconds()),2);var l=s+a+o+u+c+f;if(r===true){var h=i.getMilliseconds();if(h!=0){var d=n(String(h),3);d=d.replace(/[0]+$/,"");l=l+"."+d}}return l+"Z"};this.zeroPadding=function(e,t){if(e.length>=t){return e}return new Array(t-e.length+1).join("0")+e};this.getString=function(){return this.s};this.setString=function(e){this.hTLV=null;this.isModified=true;this.s=e;this.hV=Av(e)};this.setByDateValue=function(e,t,r,n,i,s){var a=new Date(Date.UTC(e,t-1,r,n,i,s,0));this.setByDate(a)};this.getFreshValueHex=function(){return this.hV}};eh.lang.extend(wv.asn1.DERAbstractTime,wv.asn1.ASN1Object);wv.asn1.DERAbstractStructured=function(e){wv.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(e){this.hTLV=null;this.isModified=true;this.asn1Array=e};this.appendASN1Object=function(e){this.hTLV=null;this.isModified=true;this.asn1Array.push(e)};this.asn1Array=new Array;if(typeof e!="undefined"){if(typeof e.array!="undefined"){this.asn1Array=e.array}}};eh.lang.extend(wv.asn1.DERAbstractStructured,wv.asn1.ASN1Object);wv.asn1.DERBoolean=function(){wv.asn1.DERBoolean.superclass.constructor.call(this);this.hT="01";this.hTLV="0101ff"};eh.lang.extend(wv.asn1.DERBoolean,wv.asn1.ASN1Object);wv.asn1.DERInteger=function(e){wv.asn1.DERInteger.superclass.constructor.call(this);this.hT="02";this.setByBigInteger=function(e){this.hTLV=null;this.isModified=true;this.hV=wv.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)};this.setByInteger=function(e){var t=new uh(String(e),10);this.setByBigInteger(t)};this.setValueHex=function(e){this.hV=e};this.getFreshValueHex=function(){return this.hV};if(typeof e!="undefined"){if(typeof e.bigint!="undefined"){this.setByBigInteger(e.bigint)}else{if(typeof e["int"]!="undefined"){this.setByInteger(e["int"])}else{if(typeof e=="number"){this.setByInteger(e)}else{if(typeof e.hex!="undefined"){this.setValueHex(e.hex)}}}}}};eh.lang.extend(wv.asn1.DERInteger,wv.asn1.ASN1Object);wv.asn1.DERBitString=function(e){if(e!==undefined&&typeof e.obj!=="undefined"){var t=wv.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}wv.asn1.DERBitString.superclass.constructor.call(this);this.hT="03";this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null;this.isModified=true;this.hV=e};this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e){throw"unused bits shall be from 0 to 7: u = "+e}var r="0"+e;this.hTLV=null;this.isModified=true;this.hV=r+t};this.setByBinaryString=function(e){e=e.replace(/0+$/,"");var t=8-e.length%8;if(t==8){t=0}for(var r=0;r<=t;r++){e+="0"}var n="";for(var r=0;r<e.length-1;r+=8){var i=e.substr(r,8);var s=parseInt(i,2).toString(16);if(s.length==1){s="0"+s}n+=s}this.hTLV=null;this.isModified=true;this.hV="0"+t+n};this.setByBooleanArray=function(e){var t="";for(var r=0;r<e.length;r++){if(e[r]==true){t+="1"}else{t+="0"}}this.setByBinaryString(t)};this.newFalseArray=function(e){var t=new Array(e);for(var r=0;r<e;r++){t[r]=false}return t};this.getFreshValueHex=function(){return this.hV};if(typeof e!="undefined"){if(typeof e=="string"&&e.toLowerCase().match(/^[0-9a-f]+$/)){this.setHexValueIncludingUnusedBits(e)}else{if(typeof e.hex!="undefined"){this.setHexValueIncludingUnusedBits(e.hex)}else{if(typeof e.bin!="undefined"){this.setByBinaryString(e.bin)}else{if(typeof e.array!="undefined"){this.setByBooleanArray(e.array)}}}}}};eh.lang.extend(wv.asn1.DERBitString,wv.asn1.ASN1Object);wv.asn1.DEROctetString=function(e){if(e!==undefined&&typeof e.obj!=="undefined"){var t=wv.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}wv.asn1.DEROctetString.superclass.constructor.call(this,e);this.hT="04"};eh.lang.extend(wv.asn1.DEROctetString,wv.asn1.DERAbstractString);wv.asn1.DERNull=function(){wv.asn1.DERNull.superclass.constructor.call(this);this.hT="05";this.hTLV="0500"};eh.lang.extend(wv.asn1.DERNull,wv.asn1.ASN1Object);wv.asn1.DERObjectIdentifier=function(e){var t=function(e){var t=e.toString(16);if(t.length==1){t="0"+t}return t};var r=function(e){var r="";var n=new uh(e,10);var i=n.toString(2);var s=7-i.length%7;if(s==7){s=0}var a="";for(var o=0;o<s;o++){a+="0"}i=a+i;for(var o=0;o<i.length-1;o+=7){var u=i.substr(o,7);if(o!=i.length-7){u="1"+u}r+=t(parseInt(u,2))}return r};wv.asn1.DERObjectIdentifier.superclass.constructor.call(this);this.hT="06";this.setValueHex=function(e){this.hTLV=null;this.isModified=true;this.s=null;this.hV=e};this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/)){throw"malformed oid string: "+e}var n="";var i=e.split(".");var s=parseInt(i[0])*40+parseInt(i[1]);n+=t(s);i.splice(0,2);for(var a=0;a<i.length;a++){n+=r(i[a])}this.hTLV=null;this.isModified=true;this.s=null;this.hV=n};this.setValueName=function(e){var t=wv.asn1.x509.OID.name2oid(e);if(t!==""){this.setValueOidString(t)}else{throw"DERObjectIdentifier oidName undefined: "+e}};this.getFreshValueHex=function(){return this.hV};if(e!==undefined){if(typeof e==="string"){if(e.match(/^[0-2].[0-9.]+$/)){this.setValueOidString(e)}else{this.setValueName(e)}}else{if(e.oid!==undefined){this.setValueOidString(e.oid)}else{if(e.hex!==undefined){this.setValueHex(e.hex)}else{if(e.name!==undefined){this.setValueName(e.name)}}}}}};eh.lang.extend(wv.asn1.DERObjectIdentifier,wv.asn1.ASN1Object);wv.asn1.DEREnumerated=function(e){wv.asn1.DEREnumerated.superclass.constructor.call(this);this.hT="0a";this.setByBigInteger=function(e){this.hTLV=null;this.isModified=true;this.hV=wv.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)};this.setByInteger=function(e){var t=new uh(String(e),10);this.setByBigInteger(t)};this.setValueHex=function(e){this.hV=e};this.getFreshValueHex=function(){return this.hV};if(typeof e!="undefined"){if(typeof e["int"]!="undefined"){this.setByInteger(e["int"])}else{if(typeof e=="number"){this.setByInteger(e)}else{if(typeof e.hex!="undefined"){this.setValueHex(e.hex)}}}}};eh.lang.extend(wv.asn1.DEREnumerated,wv.asn1.ASN1Object);wv.asn1.DERUTF8String=function(e){wv.asn1.DERUTF8String.superclass.constructor.call(this,e);this.hT="0c"};eh.lang.extend(wv.asn1.DERUTF8String,wv.asn1.DERAbstractString);wv.asn1.DERNumericString=function(e){wv.asn1.DERNumericString.superclass.constructor.call(this,e);this.hT="12"};eh.lang.extend(wv.asn1.DERNumericString,wv.asn1.DERAbstractString);wv.asn1.DERPrintableString=function(e){wv.asn1.DERPrintableString.superclass.constructor.call(this,e);this.hT="13"};eh.lang.extend(wv.asn1.DERPrintableString,wv.asn1.DERAbstractString);wv.asn1.DERTeletexString=function(e){wv.asn1.DERTeletexString.superclass.constructor.call(this,e);this.hT="14"};eh.lang.extend(wv.asn1.DERTeletexString,wv.asn1.DERAbstractString);wv.asn1.DERIA5String=function(e){wv.asn1.DERIA5String.superclass.constructor.call(this,e);this.hT="16"};eh.lang.extend(wv.asn1.DERIA5String,wv.asn1.DERAbstractString);wv.asn1.DERUTCTime=function(e){wv.asn1.DERUTCTime.superclass.constructor.call(this,e);this.hT="17";this.setByDate=function(e){this.hTLV=null;this.isModified=true;this.date=e;this.s=this.formatDate(this.date,"utc");this.hV=Av(this.s)};this.getFreshValueHex=function(){if(typeof this.date=="undefined"&&typeof this.s=="undefined"){this.date=new Date;this.s=this.formatDate(this.date,"utc");this.hV=Av(this.s)}return this.hV};if(e!==undefined){if(e.str!==undefined){this.setString(e.str)}else{if(typeof e=="string"&&e.match(/^[0-9]{12}Z$/)){this.setString(e)}else{if(e.hex!==undefined){this.setStringHex(e.hex)}else{if(e.date!==undefined){this.setByDate(e.date)}}}}}};eh.lang.extend(wv.asn1.DERUTCTime,wv.asn1.DERAbstractTime);wv.asn1.DERGeneralizedTime=function(e){wv.asn1.DERGeneralizedTime.superclass.constructor.call(this,e);this.hT="18";this.withMillis=false;this.setByDate=function(e){this.hTLV=null;this.isModified=true;this.date=e;this.s=this.formatDate(this.date,"gen",this.withMillis);this.hV=Av(this.s)};this.getFreshValueHex=function(){if(this.date===undefined&&this.s===undefined){this.date=new Date;this.s=this.formatDate(this.date,"gen",this.withMillis);this.hV=Av(this.s)}return this.hV};if(e!==undefined){if(e.str!==undefined){this.setString(e.str)}else{if(typeof e=="string"&&e.match(/^[0-9]{14}Z$/)){this.setString(e)}else{if(e.hex!==undefined){this.setStringHex(e.hex)}else{if(e.date!==undefined){this.setByDate(e.date)}}}}if(e.millis===true){this.withMillis=true}}};eh.lang.extend(wv.asn1.DERGeneralizedTime,wv.asn1.DERAbstractTime);wv.asn1.DERSequence=function(e){wv.asn1.DERSequence.superclass.constructor.call(this,e);this.hT="30";this.getFreshValueHex=function(){var e="";for(var t=0;t<this.asn1Array.length;t++){var r=this.asn1Array[t];e+=r.getEncodedHex()}this.hV=e;return this.hV}};eh.lang.extend(wv.asn1.DERSequence,wv.asn1.DERAbstractStructured);wv.asn1.DERSet=function(e){wv.asn1.DERSet.superclass.constructor.call(this,e);this.hT="31";this.sortFlag=true;this.getFreshValueHex=function(){var e=new Array;for(var t=0;t<this.asn1Array.length;t++){var r=this.asn1Array[t];e.push(r.getEncodedHex())}if(this.sortFlag==true){e.sort()}this.hV=e.join("");return this.hV};if(typeof e!="undefined"){if(typeof e.sortflag!="undefined"&&e.sortflag==false){this.sortFlag=false}}};eh.lang.extend(wv.asn1.DERSet,wv.asn1.DERAbstractStructured);wv.asn1.DERTaggedObject=function(e){wv.asn1.DERTaggedObject.superclass.constructor.call(this);this.hT="a0";this.hV="";this.isExplicit=true;this.asn1Object=null;this.setASN1Object=function(e,t,r){this.hT=t;this.isExplicit=e;this.asn1Object=r;if(this.isExplicit){this.hV=this.asn1Object.getEncodedHex();this.hTLV=null;this.isModified=true}else{this.hV=null;this.hTLV=r.getEncodedHex();this.hTLV=this.hTLV.replace(/^../,t);this.isModified=false}};this.getFreshValueHex=function(){return this.hV};if(typeof e!="undefined"){if(typeof e.tag!="undefined"){this.hT=e.tag}if(typeof e.explicit!="undefined"){this.isExplicit=e.explicit}if(typeof e.obj!="undefined"){this.asn1Object=e.obj;this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)}}};eh.lang.extend(wv.asn1.DERTaggedObject,wv.asn1.ASN1Object);var bv=new function(){};bv.getLblen=function(e,t){if(e.substr(t+2,1)!="8"){return 1}var r=parseInt(e.substr(t+3,1));if(r==0){return-1}if(0<r&&r<10){return r+1}return-2};bv.getL=function(e,t){var r=bv.getLblen(e,t);if(r<1){return""}return e.substr(t+2,r*2)};bv.getVblen=function(e,t){var r,n;r=bv.getL(e,t);if(r==""){return-1}if(r.substr(0,1)==="8"){n=new uh(r.substr(2),16)}else{n=new uh(r,16)}return n.intValue()};bv.getVidx=function(e,t){var r=bv.getLblen(e,t);if(r<0){return r}return t+(r+1)*2};bv.getV=function(e,t){var r=bv.getVidx(e,t);var n=bv.getVblen(e,t);return e.substr(r,n*2)};bv.getTLV=function(e,t){return e.substr(t,2)+bv.getL(e,t)+bv.getV(e,t)};bv.getNextSiblingIdx=function(e,t){var r=bv.getVidx(e,t);var n=bv.getVblen(e,t);return r+n*2};bv.getChildIdx=function(e,t){var r=bv;var n=new Array;var i=r.getVidx(e,t);if(e.substr(t,2)=="03"){n.push(i+2)}else{n.push(i)}var s=r.getVblen(e,t);var a=i;var o=0;while(1){var u=r.getNextSiblingIdx(e,a);if(u==null||u-i>=s*2){break}if(o>=200){break}n.push(u);a=u;o++}return n};bv.getNthChildIdx=function(e,t,r){var n=bv.getChildIdx(e,t);return n[r]};bv.getIdxbyList=function(e,t,r,n){var i=bv;var s,a;if(r.length==0){if(n!==undefined){if(e.substr(t,2)!==n){throw"checking tag doesn't match: "+e.substr(t,2)+"!="+n}}return t}s=r.shift();a=i.getChildIdx(e,t);return i.getIdxbyList(e,a[s],r,n)};bv.getTLVbyList=function(e,t,r,n){var i=bv;var s=i.getIdxbyList(e,t,r);if(s===undefined){throw"can't find nthList object"}if(n!==undefined){if(e.substr(s,2)!=n){throw"checking tag doesn't match: "+e.substr(s,2)+"!="+n}}return i.getTLV(e,s)};bv.getVbyList=function(e,t,r,n,i){var s=bv;var a,o;a=s.getIdxbyList(e,t,r,n);if(a===undefined){throw"can't find nthList object"}o=s.getV(e,a);if(i===true){o=o.substr(2)}return o};bv.hextooidstr=function(e){var t=function(e,t){if(e.length>=t){return e}return new Array(t-e.length+1).join("0")+e};var r=[];var n=e.substr(0,2);var i=parseInt(n,16);r[0]=new String(Math.floor(i/40));r[1]=new String(i%40);var s=e.substr(2);var a=[];for(var o=0;o<s.length/2;o++){a.push(parseInt(s.substr(o*2,2),16))}var u=[];var c="";for(var o=0;o<a.length;o++){if(a[o]&128){c=c+t((a[o]&127).toString(2),7)}else{c=c+t((a[o]&127).toString(2),7);u.push(new String(parseInt(c,2)));c=""}}var f=r.join(".");if(u.length>0){f=f+"."+u.join(".")}return f};bv.dump=function(e,t,r,n){var i=bv;var s=i.getV;var a=i.dump;var o=i.getChildIdx;var u=e;if(e instanceof wv.asn1.ASN1Object){u=e.getEncodedHex()}var c=function(e,t){if(e.length<=t*2){return e}else{var r=e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t);return r}};if(t===undefined){t={ommit_long_octet:32}}if(r===undefined){r=0}if(n===undefined){n=""}var f=t.ommit_long_octet;if(u.substr(r,2)=="01"){var l=s(u,r);if(l=="00"){return n+"BOOLEAN FALSE\n"}else{return n+"BOOLEAN TRUE\n"}}if(u.substr(r,2)=="02"){var l=s(u,r);return n+"INTEGER "+c(l,f)+"\n"}if(u.substr(r,2)=="03"){var l=s(u,r);return n+"BITSTRING "+c(l,f)+"\n"}if(u.substr(r,2)=="04"){var l=s(u,r);if(i.isASN1HEX(l)){var h=n+"OCTETSTRING, encapsulates\n";h=h+a(l,t,0,n+"  ");return h}else{return n+"OCTETSTRING "+c(l,f)+"\n"}}if(u.substr(r,2)=="05"){return n+"NULL\n"}if(u.substr(r,2)=="06"){var d=s(u,r);var p=wv.asn1.ASN1Util.oidHexToInt(d);var v=wv.asn1.x509.OID.oid2name(p);var g=p.replace(/\./g," ");if(v!=""){return n+"ObjectIdentifier "+v+" ("+g+")\n"}else{return n+"ObjectIdentifier ("+g+")\n"}}if(u.substr(r,2)=="0c"){return n+"UTF8String '"+Bv(s(u,r))+"'\n"}if(u.substr(r,2)=="13"){return n+"PrintableString '"+Bv(s(u,r))+"'\n"}if(u.substr(r,2)=="14"){return n+"TeletexString '"+Bv(s(u,r))+"'\n"}if(u.substr(r,2)=="16"){return n+"IA5String '"+Bv(s(u,r))+"'\n"}if(u.substr(r,2)=="17"){return n+"UTCTime "+Bv(s(u,r))+"\n"}if(u.substr(r,2)=="18"){return n+"GeneralizedTime "+Bv(s(u,r))+"\n"}if(u.substr(r,2)=="30"){if(u.substr(r,4)=="3000"){return n+"SEQUENCE {}\n"}var h=n+"SEQUENCE\n";var y=o(u,r);var m=t;if((y.length==2||y.length==3)&&u.substr(y[0],2)=="06"&&u.substr(y[y.length-1],2)=="04"){var v=i.oidname(s(u,y[0]));var b=JSON.parse(JSON.stringify(t));b.x509ExtName=v;m=b}for(var w=0;w<y.length;w++){h=h+a(u,m,y[w],n+"  ")}return h}if(u.substr(r,2)=="31"){var h=n+"SET\n";var y=o(u,r);for(var w=0;w<y.length;w++){h=h+a(u,t,y[w],n+"  ")}return h}var S=parseInt(u.substr(r,2),16);if((S&128)!=0){var E=S&31;if((S&32)!=0){var h=n+"["+E+"]\n";var y=o(u,r);for(var w=0;w<y.length;w++){h=h+a(u,t,y[w],n+"  ")}return h}else{var l=s(u,r);if(l.substr(0,8)=="68747470"){l=Bv(l)}if(t.x509ExtName==="subjectAltName"&&E==2){l=Bv(l)}var h=n+"["+E+"] "+l+"\n";return h}}return n+"UNKNOWN("+u.substr(r,2)+") "+s(u,r)+"\n"};bv.isASN1HEX=function(e){var t=bv;if(e.length%2==1){return false}var r=t.getVblen(e,0);var n=e.substr(0,2);var i=t.getL(e,0);var s=e.length-n.length-i.length;if(s==r*2){return true}return false};bv.oidname=function(e){var t=wv.asn1;if(wv.lang.String.isHex(e)){e=t.ASN1Util.oidHexToInt(e)}var r=t.x509.OID.oid2name(e);if(r===""){r=e}return r};if(typeof wv=="undefined"||!wv){wv={}}if(typeof wv.asn1=="undefined"||!wv.asn1){wv.asn1={}}if(typeof wv.asn1.x509=="undefined"||!wv.asn1.x509){wv.asn1.x509={}}wv.asn1.x509.Certificate=function(e){wv.asn1.x509.Certificate.superclass.constructor.call(this);var t=wv,r=t.asn1,n=r.DERSequence,i=r.DERBitString;this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg;var e=new wv.crypto.Signature({alg:this.asn1SignatureAlg.nameAlg});e.init(this.prvKey);e.updateHex(this.asn1TBSCert.getEncodedHex());this.hexSig=e.sign();this.asn1Sig=new i({hex:"00"+this.hexSig});var t=new n({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=t.getEncodedHex();this.isModified=false};this.setSignatureHex=function(e){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg;this.hexSig=e;this.asn1Sig=new i({hex:"00"+this.hexSig});var t=new n({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=t.getEncodedHex();this.isModified=false};this.getEncodedHex=function(){if(this.isModified==false&&this.hTLV!=null){return this.hTLV}throw"not signed yet"};this.getPEMString=function(){var e=Vv(this.getEncodedHex());return"-----BEGIN CERTIFICATE-----\r\n"+e+"\r\n-----END CERTIFICATE-----\r\n"};if(e!==undefined){if(e.tbscertobj!==undefined){this.asn1TBSCert=e.tbscertobj}if(e.prvkeyobj!==undefined){this.prvKey=e.prvkeyobj}}};eh.lang.extend(wv.asn1.x509.Certificate,wv.asn1.ASN1Object);wv.asn1.x509.TBSCertificate=function(e){wv.asn1.x509.TBSCertificate.superclass.constructor.call(this);var t=wv,r=t.asn1,n=r.DERSequence,i=r.DERInteger,s=r.DERTaggedObject,a=r.x509,o=a.Time,u=a.X500Name,c=a.SubjectPublicKeyInfo;this._initialize=function(){this.asn1Array=new Array;this.asn1Version=new s({obj:new i({int:2})});this.asn1SerialNumber=null;this.asn1SignatureAlg=null;this.asn1Issuer=null;this.asn1NotBefore=null;this.asn1NotAfter=null;this.asn1Subject=null;this.asn1SubjPKey=null;this.extensionsArray=new Array};this.setSerialNumberByParam=function(e){this.asn1SerialNumber=new i(e)};this.setSignatureAlgByParam=function(e){this.asn1SignatureAlg=new a.AlgorithmIdentifier(e)};this.setIssuerByParam=function(e){this.asn1Issuer=new u(e)};this.setNotBeforeByParam=function(e){this.asn1NotBefore=new o(e)};this.setNotAfterByParam=function(e){this.asn1NotAfter=new o(e)};this.setSubjectByParam=function(e){this.asn1Subject=new u(e)};this.setSubjectPublicKey=function(e){this.asn1SubjPKey=new c(e)};this.setSubjectPublicKeyByGetKey=function(e){var t=cg.getKey(e);this.asn1SubjPKey=new c(t)};this.appendExtension=function(e){this.extensionsArray.push(e)};this.appendExtensionByName=function(e,t){wv.asn1.x509.Extension.appendByNameToArray(e,t,this.extensionsArray)};this.getEncodedHex=function(){if(this.asn1NotBefore==null||this.asn1NotAfter==null){throw"notBefore and/or notAfter not set"}var e=new n({array:[this.asn1NotBefore,this.asn1NotAfter]});this.asn1Array=new Array;this.asn1Array.push(this.asn1Version);this.asn1Array.push(this.asn1SerialNumber);this.asn1Array.push(this.asn1SignatureAlg);this.asn1Array.push(this.asn1Issuer);this.asn1Array.push(e);this.asn1Array.push(this.asn1Subject);this.asn1Array.push(this.asn1SubjPKey);if(this.extensionsArray.length>0){var t=new n({array:this.extensionsArray});var r=new s({explicit:true,tag:"a3",obj:t});this.asn1Array.push(r)}var i=new n({array:this.asn1Array});this.hTLV=i.getEncodedHex();this.isModified=false;return this.hTLV};this._initialize()};eh.lang.extend(wv.asn1.x509.TBSCertificate,wv.asn1.ASN1Object);wv.asn1.x509.Extension=function(e){wv.asn1.x509.Extension.superclass.constructor.call(this);var t=wv,r=t.asn1,n=r.DERObjectIdentifier,i=r.DEROctetString,s=r.DERBoolean,a=r.DERSequence;this.getEncodedHex=function(){var e=new n({oid:this.oid});var t=new i({hex:this.getExtnValueHex()});var r=new Array;r.push(e);if(this.critical){r.push(new s)}r.push(t);var o=new a({array:r});return o.getEncodedHex()};this.critical=false;if(e!==undefined){if(e.critical!==undefined){this.critical=e.critical}}};eh.lang.extend(wv.asn1.x509.Extension,wv.asn1.ASN1Object);wv.asn1.x509.Extension.appendByNameToArray=function(e,t,r){var n=e.toLowerCase(),i=wv.asn1.x509;if(n=="basicconstraints"){var s=new i.BasicConstraints(t);r.push(s)}else{if(n=="keyusage"){var s=new i.KeyUsage(t);r.push(s)}else{if(n=="crldistributionpoints"){var s=new i.CRLDistributionPoints(t);r.push(s)}else{if(n=="extkeyusage"){var s=new i.ExtKeyUsage(t);r.push(s)}else{if(n=="authoritykeyidentifier"){var s=new i.AuthorityKeyIdentifier(t);r.push(s)}else{if(n=="authorityinfoaccess"){var s=new i.AuthorityInfoAccess(t);r.push(s)}else{if(n=="subjectaltname"){var s=new i.SubjectAltName(t);r.push(s)}else{if(n=="issueraltname"){var s=new i.IssuerAltName(t);r.push(s)}else{throw"unsupported extension name: "+e}}}}}}}}};wv.asn1.x509.KeyUsage=function(e){wv.asn1.x509.KeyUsage.superclass.constructor.call(this,e);var t=pg.KEYUSAGE_NAME;this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.oid="2.5.29.15";if(e!==undefined){if(e.bin!==undefined){this.asn1ExtnValue=new wv.asn1.DERBitString(e)}if(e.names!==undefined&&e.names.length!==undefined){var r=e.names;var n="000000000";for(var i=0;i<r.length;i++){for(var s=0;s<t.length;s++){if(r[i]===t[s]){n=n.substring(0,s)+"1"+n.substring(s+1,n.length)}}}this.asn1ExtnValue=new wv.asn1.DERBitString({bin:n})}}};eh.lang.extend(wv.asn1.x509.KeyUsage,wv.asn1.x509.Extension);wv.asn1.x509.BasicConstraints=function(e){wv.asn1.x509.BasicConstraints.superclass.constructor.call(this,e);this.getExtnValueHex=function(){var e=new Array;if(this.cA){e.push(new wv.asn1.DERBoolean)}if(this.pathLen>-1){e.push(new wv.asn1.DERInteger({int:this.pathLen}))}var t=new wv.asn1.DERSequence({array:e});this.asn1ExtnValue=t;return this.asn1ExtnValue.getEncodedHex()};this.oid="2.5.29.19";this.cA=false;this.pathLen=-1;if(e!==undefined){if(e.cA!==undefined){this.cA=e.cA}if(e.pathLen!==undefined){this.pathLen=e.pathLen}}};eh.lang.extend(wv.asn1.x509.BasicConstraints,wv.asn1.x509.Extension);wv.asn1.x509.CRLDistributionPoints=function(e){wv.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,e);var t=wv,r=t.asn1,n=r.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.setByDPArray=function(e){this.asn1ExtnValue=new r.DERSequence({array:e})};this.setByOneURI=function(e){var t=new n.GeneralNames([{uri:e}]);var r=new n.DistributionPointName(t);var i=new n.DistributionPoint({dpobj:r});this.setByDPArray([i])};this.oid="2.5.29.31";if(e!==undefined){if(e.array!==undefined){this.setByDPArray(e.array)}else{if(e.uri!==undefined){this.setByOneURI(e.uri)}}}};eh.lang.extend(wv.asn1.x509.CRLDistributionPoints,wv.asn1.x509.Extension);wv.asn1.x509.ExtKeyUsage=function(e){wv.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,e);var t=wv,r=t.asn1;this.setPurposeArray=function(e){this.asn1ExtnValue=new r.DERSequence;for(var t=0;t<e.length;t++){var n=new r.DERObjectIdentifier(e[t]);this.asn1ExtnValue.appendASN1Object(n)}};this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.oid="2.5.29.37";if(e!==undefined){if(e.array!==undefined){this.setPurposeArray(e.array)}}};eh.lang.extend(wv.asn1.x509.ExtKeyUsage,wv.asn1.x509.Extension);wv.asn1.x509.AuthorityKeyIdentifier=function(e){wv.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,e);var t=wv,r=t.asn1,n=r.DERTaggedObject;this.asn1KID=null;this.asn1CertIssuer=null;this.asn1CertSN=null;this.getExtnValueHex=function(){var e=new Array;if(this.asn1KID){e.push(new n({explicit:false,tag:"80",obj:this.asn1KID}))}if(this.asn1CertIssuer){e.push(new n({explicit:false,tag:"a1",obj:this.asn1CertIssuer}))}if(this.asn1CertSN){e.push(new n({explicit:false,tag:"82",obj:this.asn1CertSN}))}var t=new r.DERSequence({array:e});this.asn1ExtnValue=t;return this.asn1ExtnValue.getEncodedHex()};this.setKIDByParam=function(e){this.asn1KID=new wv.asn1.DEROctetString(e)};this.setCertIssuerByParam=function(e){this.asn1CertIssuer=new wv.asn1.x509.X500Name(e)};this.setCertSNByParam=function(e){this.asn1CertSN=new wv.asn1.DERInteger(e)};this.oid="2.5.29.35";if(e!==undefined){if(e.kid!==undefined){this.setKIDByParam(e.kid)}if(e.issuer!==undefined){this.setCertIssuerByParam(e.issuer)}if(e.sn!==undefined){this.setCertSNByParam(e.sn)}}};eh.lang.extend(wv.asn1.x509.AuthorityKeyIdentifier,wv.asn1.x509.Extension);wv.asn1.x509.AuthorityInfoAccess=function(e){wv.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,e);this.setAccessDescriptionArray=function(e){var t=new Array,r=wv,n=r.asn1,i=n.DERSequence;for(var s=0;s<e.length;s++){var a=new n.DERObjectIdentifier(e[s].accessMethod);var o=new n.x509.GeneralName(e[s].accessLocation);var u=new i({array:[a,o]});t.push(u)}this.asn1ExtnValue=new i({array:t})};this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.oid="1.3.6.1.5.5.7.1.1";if(e!==undefined){if(e.array!==undefined){this.setAccessDescriptionArray(e.array)}}};eh.lang.extend(wv.asn1.x509.AuthorityInfoAccess,wv.asn1.x509.Extension);wv.asn1.x509.SubjectAltName=function(e){wv.asn1.x509.SubjectAltName.superclass.constructor.call(this,e);this.setNameArray=function(e){this.asn1ExtnValue=new wv.asn1.x509.GeneralNames(e)};this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.oid="2.5.29.17";if(e!==undefined){if(e.array!==undefined){this.setNameArray(e.array)}}};eh.lang.extend(wv.asn1.x509.SubjectAltName,wv.asn1.x509.Extension);wv.asn1.x509.IssuerAltName=function(e){wv.asn1.x509.IssuerAltName.superclass.constructor.call(this,e);this.setNameArray=function(e){this.asn1ExtnValue=new wv.asn1.x509.GeneralNames(e)};this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.oid="2.5.29.18";if(e!==undefined){if(e.array!==undefined){this.setNameArray(e.array)}}};eh.lang.extend(wv.asn1.x509.IssuerAltName,wv.asn1.x509.Extension);wv.asn1.x509.CRL=function(e){wv.asn1.x509.CRL.superclass.constructor.call(this);this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCertList.asn1SignatureAlg;sig=new wv.crypto.Signature({alg:"SHA1withRSA",prov:"cryptojs/jsrsa"});sig.init(this.prvKey);sig.updateHex(this.asn1TBSCertList.getEncodedHex());this.hexSig=sig.sign();this.asn1Sig=new wv.asn1.DERBitString({hex:"00"+this.hexSig});var e=new wv.asn1.DERSequence({array:[this.asn1TBSCertList,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=e.getEncodedHex();this.isModified=false};this.getEncodedHex=function(){if(this.isModified==false&&this.hTLV!=null){return this.hTLV}throw"not signed yet"};this.getPEMString=function(){var e=Vv(this.getEncodedHex());return"-----BEGIN X509 CRL-----\r\n"+e+"\r\n-----END X509 CRL-----\r\n"};if(e!==undefined){if(e.tbsobj!==undefined){this.asn1TBSCertList=e.tbsobj}if(e.prvkeyobj!==undefined){this.prvKey=e.prvkeyobj}}};eh.lang.extend(wv.asn1.x509.CRL,wv.asn1.ASN1Object);wv.asn1.x509.TBSCertList=function(e){wv.asn1.x509.TBSCertList.superclass.constructor.call(this);var t=wv,r=t.asn1,n=r.DERSequence,i=r.x509,s=i.Time;this.setSignatureAlgByParam=function(e){this.asn1SignatureAlg=new i.AlgorithmIdentifier(e)};this.setIssuerByParam=function(e){this.asn1Issuer=new i.X500Name(e)};this.setThisUpdateByParam=function(e){this.asn1ThisUpdate=new s(e)};this.setNextUpdateByParam=function(e){this.asn1NextUpdate=new s(e)};this.addRevokedCert=function(e,t){var r={};if(e!=undefined&&e!=null){r.sn=e}if(t!=undefined&&t!=null){r.time=t}var n=new i.CRLEntry(r);this.aRevokedCert.push(n)};this.getEncodedHex=function(){this.asn1Array=new Array;if(this.asn1Version!=null){this.asn1Array.push(this.asn1Version)}this.asn1Array.push(this.asn1SignatureAlg);this.asn1Array.push(this.asn1Issuer);this.asn1Array.push(this.asn1ThisUpdate);if(this.asn1NextUpdate!=null){this.asn1Array.push(this.asn1NextUpdate)}if(this.aRevokedCert.length>0){var e=new n({array:this.aRevokedCert});this.asn1Array.push(e)}var t=new n({array:this.asn1Array});this.hTLV=t.getEncodedHex();this.isModified=false;return this.hTLV};this._initialize=function(){this.asn1Version=null;this.asn1SignatureAlg=null;this.asn1Issuer=null;this.asn1ThisUpdate=null;this.asn1NextUpdate=null;this.aRevokedCert=new Array};this._initialize()};eh.lang.extend(wv.asn1.x509.TBSCertList,wv.asn1.ASN1Object);wv.asn1.x509.CRLEntry=function(e){wv.asn1.x509.CRLEntry.superclass.constructor.call(this);var t=wv,r=t.asn1;this.setCertSerial=function(e){this.sn=new r.DERInteger(e)};this.setRevocationDate=function(e){this.time=new r.x509.Time(e)};this.getEncodedHex=function(){var e=new r.DERSequence({array:[this.sn,this.time]});this.TLV=e.getEncodedHex();return this.TLV};if(e!==undefined){if(e.time!==undefined){this.setRevocationDate(e.time)}if(e.sn!==undefined){this.setCertSerial(e.sn)}}};eh.lang.extend(wv.asn1.x509.CRLEntry,wv.asn1.ASN1Object);wv.asn1.x509.X500Name=function(e){wv.asn1.x509.X500Name.superclass.constructor.call(this);this.asn1Array=new Array;var t=wv,r=t.asn1,n=r.x509,i=Kv;this.setByString=function(e){var t=e.split("/");t.shift();var r=[];for(var i=0;i<t.length;i++){if(t[i].match(/^[^=]+=.+$/)){r.push(t[i])}else{var s=r.length-1;r[s]=r[s]+"/"+t[i]}}for(var i=0;i<r.length;i++){this.asn1Array.push(new n.RDN({str:r[i]}))}};this.setByLdapString=function(e){var t=n.X500Name.ldapToOneline(e);this.setByString(t)};this.setByObject=function(e){for(var t in e){if(e.hasOwnProperty(t)){var r=new wv.asn1.x509.RDN({str:t+"="+e[t]});this.asn1Array?this.asn1Array.push(r):this.asn1Array=[r]}}};this.getEncodedHex=function(){if(typeof this.hTLV=="string"){return this.hTLV}var e=new r.DERSequence({array:this.asn1Array});this.hTLV=e.getEncodedHex();return this.hTLV};if(e!==undefined){if(e.str!==undefined){this.setByString(e.str)}else{if(e.ldapstr!==undefined){this.setByLdapString(e.ldapstr)}else{if(typeof e==="object"){this.setByObject(e)}}}if(e.certissuer!==undefined){var s=new pg;s.hex=i(e.certissuer);this.hTLV=s.getIssuerHex()}if(e.certsubject!==undefined){var s=new pg;s.hex=i(e.certsubject);this.hTLV=s.getSubjectHex()}}};eh.lang.extend(wv.asn1.x509.X500Name,wv.asn1.ASN1Object);wv.asn1.x509.X500Name.onelineToLDAP=function(e){if(e.substr(0,1)!=="/"){throw"malformed input"}e=e.substr(1);var t=e.split("/");t.reverse();t=t.map((function(e){return e.replace(/,/,"\\,")}));return t.join(",")};wv.asn1.x509.X500Name.ldapToOneline=function(e){var t=e.split(",");var r=false;var n=[];for(var i=0;t.length>0;i++){var s=t.shift();if(r===true){var a=n.pop();var o=(a+","+s).replace(/\\,/g,",");n.push(o);r=false}else{n.push(s)}if(s.substr(-1,1)==="\\"){r=true}}n=n.map((function(e){return e.replace("/","\\/")}));n.reverse();return"/"+n.join("/")};wv.asn1.x509.RDN=function(e){wv.asn1.x509.RDN.superclass.constructor.call(this);this.asn1Array=new Array;this.addByString=function(e){this.asn1Array.push(new wv.asn1.x509.AttributeTypeAndValue({str:e}))};this.addByMultiValuedString=function(e){var t=wv.asn1.x509.RDN.parseString(e);for(var r=0;r<t.length;r++){this.addByString(t[r])}};this.getEncodedHex=function(){var e=new wv.asn1.DERSet({array:this.asn1Array});this.TLV=e.getEncodedHex();return this.TLV};if(e!==undefined){if(e.str!==undefined){this.addByMultiValuedString(e.str)}}};eh.lang.extend(wv.asn1.x509.RDN,wv.asn1.ASN1Object);wv.asn1.x509.RDN.parseString=function(e){var t=e.split(/\+/);var r=false;var n=[];for(var i=0;t.length>0;i++){var s=t.shift();if(r===true){var a=n.pop();var o=(a+"+"+s).replace(/\\\+/g,"+");n.push(o);r=false}else{n.push(s)}if(s.substr(-1,1)==="\\"){r=true}}var u=false;var c=[];for(var i=0;n.length>0;i++){var s=n.shift();if(u===true){var f=c.pop();if(s.match(/"$/)){var o=(f+"+"+s).replace(/^([^=]+)="(.*)"$/,"$1=$2");c.push(o);u=false}else{c.push(f+"+"+s)}}else{c.push(s)}if(s.match(/^[^=]+="/)){u=true}}return c};wv.asn1.x509.AttributeTypeAndValue=function(e){wv.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this);var t="utf8",r=wv,n=r.asn1;this.setByString=function(e){var t=e.match(/^([^=]+)=(.+)$/);if(t){this.setByAttrTypeAndValueStr(t[1],t[2])}else{throw"malformed attrTypeAndValueStr: "+e}};this.setByAttrTypeAndValueStr=function(e,r){this.typeObj=wv.asn1.x509.OID.atype2obj(e);var n=t;if(e=="C"){n="prn"}this.valueObj=this.getValueObj(n,r)};this.getValueObj=function(e,t){if(e=="utf8"){return new n.DERUTF8String({str:t})}if(e=="prn"){return new n.DERPrintableString({str:t})}if(e=="tel"){return new n.DERTeletexString({str:t})}if(e=="ia5"){return new n.DERIA5String({str:t})}throw"unsupported directory string type: type="+e+" value="+t};this.getEncodedHex=function(){var e=new n.DERSequence({array:[this.typeObj,this.valueObj]});this.TLV=e.getEncodedHex();return this.TLV};if(e!==undefined){if(e.str!==undefined){this.setByString(e.str)}}};eh.lang.extend(wv.asn1.x509.AttributeTypeAndValue,wv.asn1.ASN1Object);wv.asn1.x509.SubjectPublicKeyInfo=function(e){wv.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var t=wv,r=t.asn1,n=r.DERInteger,i=r.DERBitString,s=r.DERObjectIdentifier,a=r.DERSequence,o=r.ASN1Util.newObject,u=r.x509,c=u.AlgorithmIdentifier;this.getASN1Object=function(){if(this.asn1AlgId==null||this.asn1SubjPKey==null){throw"algId and/or subjPubKey not set"}var e=new a({array:[this.asn1AlgId,this.asn1SubjPKey]});return e};this.getEncodedHex=function(){var e=this.getASN1Object();this.hTLV=e.getEncodedHex();return this.hTLV};this.setPubKey=function(e){try{if(e instanceof Rp){var t=o({seq:[{int:{bigint:e.n}},{int:{int:e.e}}]});var r=t.getEncodedHex();this.asn1AlgId=new c({name:"rsaEncryption"});this.asn1SubjPKey=new i({hex:"00"+r})}}catch(e){}try{if(e instanceof wv.crypto.ECDSA){var a=new s({name:e.curveName});this.asn1AlgId=new c({name:"ecPublicKey",asn1params:a});this.asn1SubjPKey=new i({hex:"00"+e.pubKeyHex})}}catch(e){}try{if(e instanceof wv.crypto.DSA){var a=new o({seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]});this.asn1AlgId=new c({name:"dsa",asn1params:a});var u=new n({bigint:e.y});this.asn1SubjPKey=new i({hex:"00"+u.getEncodedHex()})}}catch(e){}};if(e!==undefined){this.setPubKey(e)}};eh.lang.extend(wv.asn1.x509.SubjectPublicKeyInfo,wv.asn1.ASN1Object);wv.asn1.x509.Time=function(e){wv.asn1.x509.Time.superclass.constructor.call(this);var t=wv,r=t.asn1,n=r.DERUTCTime,i=r.DERGeneralizedTime;this.setTimeParams=function(e){this.timeParams=e};this.getEncodedHex=function(){var e=null;if(this.timeParams!=null){if(this.type=="utc"){e=new n(this.timeParams)}else{e=new i(this.timeParams)}}else{if(this.type=="utc"){e=new n}else{e=new i}}this.TLV=e.getEncodedHex();return this.TLV};this.type="utc";if(e!==undefined){if(e.type!==undefined){this.type=e.type}else{if(e.str!==undefined){if(e.str.match(/^[0-9]{12}Z$/)){this.type="utc"}if(e.str.match(/^[0-9]{14}Z$/)){this.type="gen"}}}this.timeParams=e}};eh.lang.extend(wv.asn1.x509.Time,wv.asn1.ASN1Object);wv.asn1.x509.AlgorithmIdentifier=function(e){wv.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this);this.nameAlg=null;this.asn1Alg=null;this.asn1Params=null;this.paramEmpty=false;var t=wv,r=t.asn1;this.getEncodedHex=function(){if(this.nameAlg===null&&this.asn1Alg===null){throw"algorithm not specified"}if(this.nameAlg!==null&&this.asn1Alg===null){this.asn1Alg=r.x509.OID.name2obj(this.nameAlg)}var e=[this.asn1Alg];if(this.asn1Params!==null){e.push(this.asn1Params)}var t=new r.DERSequence({array:e});this.hTLV=t.getEncodedHex();return this.hTLV};if(e!==undefined){if(e.name!==undefined){this.nameAlg=e.name}if(e.asn1params!==undefined){this.asn1Params=e.asn1params}if(e.paramempty!==undefined){this.paramEmpty=e.paramempty}}if(this.asn1Params===null&&this.paramEmpty===false&&this.nameAlg!==null){var n=this.nameAlg.toLowerCase();if(n.substr(-7,7)!=="withdsa"&&n.substr(-9,9)!=="withecdsa"){this.asn1Params=new r.DERNull}}};eh.lang.extend(wv.asn1.x509.AlgorithmIdentifier,wv.asn1.ASN1Object);wv.asn1.x509.GeneralName=function(e){wv.asn1.x509.GeneralName.superclass.constructor.call(this);var t={rfc822:"81",dns:"82",dn:"a4",uri:"86",ip:"87"},r=wv,n=r.asn1,i=n.DEROctetString,s=n.DERIA5String,a=n.DERTaggedObject,o=n.ASN1Object,u=n.x509.X500Name,c=Kv;this.explicit=false;this.setByParam=function(e){var r=null;if(e===undefined){return}if(e.rfc822!==undefined){this.type="rfc822";r=new s({str:e[this.type]})}if(e.dns!==undefined){this.type="dns";r=new s({str:e[this.type]})}if(e.uri!==undefined){this.type="uri";r=new s({str:e[this.type]})}if(e.dn!==undefined){this.type="dn";this.explicit=true;r=new u({str:e.dn})}if(e.ldapdn!==undefined){this.type="dn";this.explicit=true;r=new u({ldapstr:e.ldapdn})}if(e.certissuer!==undefined){this.type="dn";this.explicit=true;var n=e.certissuer;var f=null;if(n.match(/^[0-9A-Fa-f]+$/));if(n.indexOf("-----BEGIN ")!=-1){f=c(n)}if(f==null){throw"certissuer param not cert"}var l=new pg;l.hex=f;var h=l.getIssuerHex();r=new o;r.hTLV=h}if(e.certsubj!==undefined){this.type="dn";this.explicit=true;var n=e.certsubj;var f=null;if(n.match(/^[0-9A-Fa-f]+$/));if(n.indexOf("-----BEGIN ")!=-1){f=c(n)}if(f==null){throw"certsubj param not cert"}var l=new pg;l.hex=f;var h=l.getSubjectHex();r=new o;r.hTLV=h}if(e.ip!==undefined){this.type="ip";this.explicit=false;var d=e.ip;var p;var v="malformed IP address";if(d.match(/^[0-9.]+[.][0-9.]+$/)){p=og("["+d.split(".").join(",")+"]");if(p.length!==8){throw v}}else{if(d.match(/^[0-9A-Fa-f:]+:[0-9A-Fa-f:]+$/)){p=Zv(d)}else{if(d.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/)){p=d}else{throw v}}}r=new i({hex:p})}if(this.type==null){throw"unsupported type in params="+e}this.asn1Obj=new a({explicit:this.explicit,tag:t[this.type],obj:r})};this.getEncodedHex=function(){return this.asn1Obj.getEncodedHex()};if(e!==undefined){this.setByParam(e)}};eh.lang.extend(wv.asn1.x509.GeneralName,wv.asn1.ASN1Object);wv.asn1.x509.GeneralNames=function(e){wv.asn1.x509.GeneralNames.superclass.constructor.call(this);var t=wv,r=t.asn1;this.setByParamArray=function(e){for(var t=0;t<e.length;t++){var n=new r.x509.GeneralName(e[t]);this.asn1Array.push(n)}};this.getEncodedHex=function(){var e=new r.DERSequence({array:this.asn1Array});return e.getEncodedHex()};this.asn1Array=new Array;if(typeof e!="undefined"){this.setByParamArray(e)}};eh.lang.extend(wv.asn1.x509.GeneralNames,wv.asn1.ASN1Object);wv.asn1.x509.DistributionPointName=function(e){wv.asn1.x509.DistributionPointName.superclass.constructor.call(this);var t=wv,r=t.asn1,n=r.DERTaggedObject;this.getEncodedHex=function(){if(this.type!="full"){throw"currently type shall be 'full': "+this.type}this.asn1Obj=new n({explicit:false,tag:this.tag,obj:this.asn1V});this.hTLV=this.asn1Obj.getEncodedHex();return this.hTLV};if(e!==undefined){if(r.x509.GeneralNames.prototype.isPrototypeOf(e)){this.type="full";this.tag="a0";this.asn1V=e}else{throw"This class supports GeneralNames only as argument"}}};eh.lang.extend(wv.asn1.x509.DistributionPointName,wv.asn1.ASN1Object);wv.asn1.x509.DistributionPoint=function(e){wv.asn1.x509.DistributionPoint.superclass.constructor.call(this);var t=wv,r=t.asn1;this.getEncodedHex=function(){var e=new r.DERSequence;if(this.asn1DP!=null){var t=new r.DERTaggedObject({explicit:true,tag:"a0",obj:this.asn1DP});e.appendASN1Object(t)}this.hTLV=e.getEncodedHex();return this.hTLV};if(e!==undefined){if(e.dpobj!==undefined){this.asn1DP=e.dpobj}}};eh.lang.extend(wv.asn1.x509.DistributionPoint,wv.asn1.ASN1Object);wv.asn1.x509.OID=new function(e){this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"};this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",ecPublicKey:"1.2.840.10045.2.1",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",extensionRequest:"1.2.840.113549.1.9.14"};this.objCache={};this.name2obj=function(e){if(typeof this.objCache[e]!="undefined"){return this.objCache[e]}if(typeof this.name2oidList[e]=="undefined"){throw"Name of ObjectIdentifier not defined: "+e}var t=this.name2oidList[e];var r=new wv.asn1.DERObjectIdentifier({oid:t});this.objCache[e]=r;return r};this.atype2obj=function(e){if(typeof this.objCache[e]!="undefined"){return this.objCache[e]}if(typeof this.atype2oidList[e]=="undefined"){throw"AttributeType name undefined: "+e}var t=this.atype2oidList[e];var r=new wv.asn1.DERObjectIdentifier({oid:t});this.objCache[e]=r;return r}};wv.asn1.x509.OID.oid2name=function(e){var t=wv.asn1.x509.OID.name2oidList;for(var r in t){if(t[r]==e){return r}}return""};wv.asn1.x509.OID.oid2atype=function(e){var t=wv.asn1.x509.OID.atype2oidList;for(var r in t){if(t[r]==e){return r}}return e};wv.asn1.x509.OID.name2oid=function(e){var t=wv.asn1.x509.OID.name2oidList;if(t[e]===undefined){return""}return t[e]};wv.asn1.x509.X509Util={};wv.asn1.x509.X509Util.newCertPEM=function(e){var t=wv.asn1.x509,r=t.TBSCertificate,n=t.Certificate;var i=new r;if(e.serial!==undefined){i.setSerialNumberByParam(e.serial)}else{throw"serial number undefined."}if(typeof e.sigalg.name==="string"){i.setSignatureAlgByParam(e.sigalg)}else{throw"unproper signature algorithm name"}if(e.issuer!==undefined){i.setIssuerByParam(e.issuer)}else{throw"issuer name undefined."}if(e.notbefore!==undefined){i.setNotBeforeByParam(e.notbefore)}else{throw"notbefore undefined."}if(e.notafter!==undefined){i.setNotAfterByParam(e.notafter)}else{throw"notafter undefined."}if(e.subject!==undefined){i.setSubjectByParam(e.subject)}else{throw"subject name undefined."}if(e.sbjpubkey!==undefined){i.setSubjectPublicKeyByGetKey(e.sbjpubkey)}else{throw"subject public key undefined."}if(e.ext!==undefined&&e.ext.length!==undefined){for(var s=0;s<e.ext.length;s++){for(key in e.ext[s]){i.appendExtensionByName(key,e.ext[s][key])}}}if(e.cakey===undefined&&e.sighex===undefined){throw"param cakey and sighex undefined."}var a=null;var o=null;if(e.cakey){if(e.cakey.isPrivate===true){a=e.cakey}else{a=cg.getKey.apply(null,e.cakey)}o=new n({tbscertobj:i,prvkeyobj:a});o.sign()}if(e.sighex){o=new n({tbscertobj:i});o.setSignatureHex(e.sighex)}return o.getPEMString()};if(typeof wv=="undefined"||!wv){wv={}}if(typeof wv.asn1=="undefined"||!wv.asn1){wv.asn1={}}if(typeof wv.asn1.cms=="undefined"||!wv.asn1.cms){wv.asn1.cms={}}wv.asn1.cms.Attribute=function(e){var t=wv,r=t.asn1;r.cms.Attribute.superclass.constructor.call(this);this.getEncodedHex=function(){var e,t,n;e=new r.DERObjectIdentifier({oid:this.attrTypeOid});t=new r.DERSet({array:this.valueList});try{t.getEncodedHex()}catch(e){throw"fail valueSet.getEncodedHex in Attribute(1)/"+e}n=new r.DERSequence({array:[e,t]});try{this.hTLV=n.getEncodedHex()}catch(e){throw"failed seq.getEncodedHex in Attribute(2)/"+e}return this.hTLV}};eh.lang.extend(wv.asn1.cms.Attribute,wv.asn1.ASN1Object);wv.asn1.cms.ContentType=function(e){var t=wv,r=t.asn1;r.cms.ContentType.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.3";var n=null;if(typeof e!="undefined"){var n=new r.DERObjectIdentifier(e);this.valueList=[n]}};eh.lang.extend(wv.asn1.cms.ContentType,wv.asn1.cms.Attribute);wv.asn1.cms.MessageDigest=function(e){var t=wv,r=t.asn1,n=r.DEROctetString,i=r.cms;i.MessageDigest.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.4";if(e!==undefined){if(e.eciObj instanceof i.EncapsulatedContentInfo&&typeof e.hashAlg==="string"){var s=e.eciObj.eContentValueHex;var a=e.hashAlg;var o=t.crypto.Util.hashHex(s,a);var u=new n({hex:o});u.getEncodedHex();this.valueList=[u]}else{var u=new n(e);u.getEncodedHex();this.valueList=[u]}}};eh.lang.extend(wv.asn1.cms.MessageDigest,wv.asn1.cms.Attribute);wv.asn1.cms.SigningTime=function(e){var t=wv,r=t.asn1;r.cms.SigningTime.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.5";if(e!==undefined){var n=new r.x509.Time(e);try{n.getEncodedHex()}catch(e){throw"SigningTime.getEncodedHex() failed/"+e}this.valueList=[n]}};eh.lang.extend(wv.asn1.cms.SigningTime,wv.asn1.cms.Attribute);wv.asn1.cms.SigningCertificate=function(e){var t=wv,r=t.asn1,n=r.DERSequence,i=r.cms;i.SigningCertificate.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.16.2.12";this.setCerts=function(e){var s=[];for(var a=0;a<e.length;a++){var o=Kv(e[a]);var u=t.crypto.Util.hashHex(o,"sha1");var c=new r.DEROctetString({hex:u});c.getEncodedHex();var f=new i.IssuerAndSerialNumber({cert:e[a]});f.getEncodedHex();var l=new n({array:[c,f]});l.getEncodedHex();s.push(l)}var h=new n({array:s});h.getEncodedHex();this.valueList=[h]};if(e!==undefined){if(typeof e.array=="object"){this.setCerts(e.array)}}};eh.lang.extend(wv.asn1.cms.SigningCertificate,wv.asn1.cms.Attribute);wv.asn1.cms.SigningCertificateV2=function(e){var t=wv,r=t.asn1,n=r.DERSequence,i=r.x509,s=r.cms,a=t.crypto;s.SigningCertificateV2.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.16.2.47";this.setCerts=function(e,t){var o=[];for(var u=0;u<e.length;u++){var c=Kv(e[u]);var f=[];if(t!=="sha256"){f.push(new i.AlgorithmIdentifier({name:t}))}var l=a.Util.hashHex(c,t);var h=new r.DEROctetString({hex:l});h.getEncodedHex();f.push(h);var d=new s.IssuerAndSerialNumber({cert:e[u]});d.getEncodedHex();f.push(d);var p=new n({array:f});p.getEncodedHex();o.push(p)}var v=new n({array:o});v.getEncodedHex();this.valueList=[v]};if(e!==undefined){if(typeof e.array=="object"){var o="sha256";if(typeof e.hashAlg=="string"){o=e.hashAlg}this.setCerts(e.array,o)}}};eh.lang.extend(wv.asn1.cms.SigningCertificateV2,wv.asn1.cms.Attribute);wv.asn1.cms.IssuerAndSerialNumber=function(e){var t=wv,r=t.asn1,n=r.DERInteger,i=r.cms,s=r.x509,a=s.X500Name,o=pg;i.IssuerAndSerialNumber.superclass.constructor.call(this);this.setByCertPEM=function(e){var t=Kv(e);var r=new o;r.hex=t;var i=r.getIssuerHex();this.dIssuer=new a;this.dIssuer.hTLV=i;var s=r.getSerialNumberHex();this.dSerial=new n({hex:s})};this.getEncodedHex=function(){var e=new r.DERSequence({array:[this.dIssuer,this.dSerial]});this.hTLV=e.getEncodedHex();return this.hTLV};if(e!==undefined){if(typeof e=="string"&&e.indexOf("-----BEGIN ")!=-1){this.setByCertPEM(e)}if(e.issuer&&e.serial){if(e.issuer instanceof a){this.dIssuer=e.issuer}else{this.dIssuer=new a(e.issuer)}if(e.serial instanceof n){this.dSerial=e.serial}else{this.dSerial=new n(e.serial)}}if(typeof e.cert=="string"){this.setByCertPEM(e.cert)}}};eh.lang.extend(wv.asn1.cms.IssuerAndSerialNumber,wv.asn1.ASN1Object);wv.asn1.cms.AttributeList=function(e){var t=wv,r=t.asn1,n=r.cms;n.AttributeList.superclass.constructor.call(this);this.list=new Array;this.sortFlag=true;this.add=function(e){if(e instanceof n.Attribute){this.list.push(e)}};this.length=function(){return this.list.length};this.clear=function(){this.list=new Array;this.hTLV=null;this.hV=null};this.getEncodedHex=function(){if(typeof this.hTLV=="string"){return this.hTLV}var e=new r.DERSet({array:this.list,sortflag:this.sortFlag});this.hTLV=e.getEncodedHex();return this.hTLV};if(e!==undefined){if(typeof e.sortflag!="undefined"&&e.sortflag==false){this.sortFlag=false}}};eh.lang.extend(wv.asn1.cms.AttributeList,wv.asn1.ASN1Object);wv.asn1.cms.SignerInfo=function(e){var t=wv,r=t.asn1,n=r.DERTaggedObject,i=r.cms,s=i.AttributeList,a=i.ContentType,o=i.EncapsulatedContentInfo,u=i.MessageDigest,c=i.SignedData,f=r.x509,l=f.AlgorithmIdentifier,h=t.crypto,d=cg;i.SignerInfo.superclass.constructor.call(this);this.dCMSVersion=new r.DERInteger({int:1});this.dSignerIdentifier=null;this.dDigestAlgorithm=null;this.dSignedAttrs=new s;this.dSigAlg=null;this.dSig=null;this.dUnsignedAttrs=new s;this.setSignerIdentifier=function(e){if(typeof e=="string"&&e.indexOf("CERTIFICATE")!=-1&&e.indexOf("BEGIN")!=-1&&e.indexOf("END")!=-1){this.dSignerIdentifier=new i.IssuerAndSerialNumber({cert:e})}};this.setForContentAndHash=function(e){if(e!==undefined){if(e.eciObj instanceof o){this.dSignedAttrs.add(new a({oid:"1.2.840.113549.1.7.1"}));this.dSignedAttrs.add(new u({eciObj:e.eciObj,hashAlg:e.hashAlg}))}if(e.sdObj!==undefined&&e.sdObj instanceof c){if(e.sdObj.digestAlgNameList.join(":").indexOf(e.hashAlg)==-1){e.sdObj.digestAlgNameList.push(e.hashAlg)}}if(typeof e.hashAlg=="string"){this.dDigestAlgorithm=new l({name:e.hashAlg})}}};this.sign=function(e,t){this.dSigAlg=new l({name:t});var n=this.dSignedAttrs.getEncodedHex();var i=d.getKey(e);var s=new h.Signature({alg:t});s.init(i);s.updateHex(n);var a=s.sign();this.dSig=new r.DEROctetString({hex:a})};this.addUnsigned=function(e){this.hTLV=null;this.dUnsignedAttrs.hTLV=null;this.dUnsignedAttrs.add(e)};this.getEncodedHex=function(){if(this.dSignedAttrs instanceof s&&this.dSignedAttrs.length()==0){throw"SignedAttrs length = 0 (empty)"}var e=new n({obj:this.dSignedAttrs,tag:"a0",explicit:false});var t=null;if(this.dUnsignedAttrs.length()>0){t=new n({obj:this.dUnsignedAttrs,tag:"a1",explicit:false})}var i=[this.dCMSVersion,this.dSignerIdentifier,this.dDigestAlgorithm,e,this.dSigAlg,this.dSig];if(t!=null){i.push(t)}var a=new r.DERSequence({array:i});this.hTLV=a.getEncodedHex();return this.hTLV}};eh.lang.extend(wv.asn1.cms.SignerInfo,wv.asn1.ASN1Object);wv.asn1.cms.EncapsulatedContentInfo=function(e){var t=wv,r=t.asn1,n=r.DERTaggedObject,i=r.DERSequence,s=r.DERObjectIdentifier,a=r.DEROctetString,o=r.cms;o.EncapsulatedContentInfo.superclass.constructor.call(this);this.dEContentType=new s({name:"data"});this.dEContent=null;this.isDetached=false;this.eContentValueHex=null;this.setContentType=function(e){if(e.match(/^[0-2][.][0-9.]+$/)){this.dEContentType=new s({oid:e})}else{this.dEContentType=new s({name:e})}};this.setContentValue=function(e){if(e!==undefined){if(typeof e.hex=="string"){this.eContentValueHex=e.hex}else{if(typeof e.str=="string"){this.eContentValueHex=jv(e.str)}}}};this.setContentValueHex=function(e){this.eContentValueHex=e};this.setContentValueStr=function(e){this.eContentValueHex=jv(e)};this.getEncodedHex=function(){if(typeof this.eContentValueHex!="string"){throw"eContentValue not yet set"}var e=new a({hex:this.eContentValueHex});this.dEContent=new n({obj:e,tag:"a0",explicit:true});var t=[this.dEContentType];if(!this.isDetached){t.push(this.dEContent)}var r=new i({array:t});this.hTLV=r.getEncodedHex();return this.hTLV}};eh.lang.extend(wv.asn1.cms.EncapsulatedContentInfo,wv.asn1.ASN1Object);wv.asn1.cms.ContentInfo=function(e){var t=wv,r=t.asn1,n=r.DERTaggedObject,i=r.DERSequence,s=r.x509;wv.asn1.cms.ContentInfo.superclass.constructor.call(this);this.dContentType=null;this.dContent=null;this.setContentType=function(e){if(typeof e=="string"){this.dContentType=s.OID.name2obj(e)}};this.getEncodedHex=function(){var e=new n({obj:this.dContent,tag:"a0",explicit:true});var t=new i({array:[this.dContentType,e]});this.hTLV=t.getEncodedHex();return this.hTLV};if(e!==undefined){if(e.type){this.setContentType(e.type)}if(e.obj&&e.obj instanceof r.ASN1Object){this.dContent=e.obj}}};eh.lang.extend(wv.asn1.cms.ContentInfo,wv.asn1.ASN1Object);wv.asn1.cms.SignedData=function(e){var t=wv,r=t.asn1,n=r.ASN1Object,i=r.DERInteger,s=r.DERSet,a=r.DERSequence,o=r.DERTaggedObject,u=r.cms,c=u.EncapsulatedContentInfo,f=u.SignerInfo,l=u.ContentInfo,h=r.x509,d=h.AlgorithmIdentifier;wv.asn1.cms.SignedData.superclass.constructor.call(this);this.dCMSVersion=new i({int:1});this.dDigestAlgs=null;this.digestAlgNameList=[];this.dEncapContentInfo=new c;this.dCerts=null;this.certificateList=[];this.crlList=[];this.signerInfoList=[new f];this.addCertificatesByPEM=function(e){var t=Kv(e);var r=new n;r.hTLV=t;this.certificateList.push(r)};this.getEncodedHex=function(){if(typeof this.hTLV=="string"){return this.hTLV}if(this.dDigestAlgs==null){var e=[];for(var t=0;t<this.digestAlgNameList.length;t++){var r=this.digestAlgNameList[t];var n=new d({name:r});e.push(n)}this.dDigestAlgs=new s({array:e})}var i=[this.dCMSVersion,this.dDigestAlgs,this.dEncapContentInfo];if(this.dCerts==null){if(this.certificateList.length>0){var u=new s({array:this.certificateList});this.dCerts=new o({obj:u,tag:"a0",explicit:false})}}if(this.dCerts!=null){i.push(this.dCerts)}var c=new s({array:this.signerInfoList});i.push(c);var f=new a({array:i});this.hTLV=f.getEncodedHex();return this.hTLV};this.getContentInfo=function(){this.getEncodedHex();var e=new l({type:"signed-data",obj:this});return e};this.getContentInfoEncodedHex=function(){var e=this.getContentInfo();var t=e.getEncodedHex();return t};this.getPEM=function(){return qv(this.getContentInfoEncodedHex(),"CMS")}};eh.lang.extend(wv.asn1.cms.SignedData,wv.asn1.ASN1Object);wv.asn1.cms.CMSUtil=new function(){};wv.asn1.cms.CMSUtil.newSignedData=function(e){var t=wv,r=t.asn1,n=r.cms,i=n.SignerInfo,s=n.SignedData,a=n.SigningTime,o=n.SigningCertificate,u=n.SigningCertificateV2,c=r.cades,f=c.SignaturePolicyIdentifier;var l=new s;l.dEncapContentInfo.setContentValue(e.content);if(typeof e.certs=="object"){for(var h=0;h<e.certs.length;h++){l.addCertificatesByPEM(e.certs[h])}}l.signerInfoList=[];for(var h=0;h<e.signerInfos.length;h++){var d=e.signerInfos[h];var p=new i;p.setSignerIdentifier(d.signerCert);p.setForContentAndHash({sdObj:l,eciObj:l.dEncapContentInfo,hashAlg:d.hashAlg});for(attrName in d.sAttr){var v=d.sAttr[attrName];if(attrName=="SigningTime"){var g=new a(v);p.dSignedAttrs.add(g)}if(attrName=="SigningCertificate"){var g=new o(v);p.dSignedAttrs.add(g)}if(attrName=="SigningCertificateV2"){var g=new u(v);p.dSignedAttrs.add(g)}if(attrName=="SignaturePolicyIdentifier"){var g=new f(v);p.dSignedAttrs.add(g)}}p.sign(d.signerPrvKey,d.sigAlg);l.signerInfoList.push(p)}return l};wv.asn1.cms.CMSUtil.verifySignedData=function(e){var t=wv,r=t.lang.String.isHex,n=bv,i=n.getVbyList,s=n.getTLVbyList,a=n.getIdxbyList,o=n.getChildIdx,u=n.getTLV,c=n.oidname,f=t.crypto.Util.hashHex;if(e.cms===undefined&&!r(e.cms));var l=e.cms;var h=function(e,t){var r;for(var n=3;n<6;n++){r=a(e,0,[1,0,n]);if(r!==undefined){var i=e.substr(r,2);if(i==="a0"){t.certsIdx=r}if(i==="a1"){t.revinfosIdx=r}if(i==="31"){t.signerinfosIdx=r}}}};var d=function(e,t){var r=t.signerinfosIdx;if(r===undefined){return}var n=o(e,r);t.signerInfoIdxList=n;for(var i=0;i<n.length;i++){var s=n[i];var a={idx:s};p(e,a);t.signerInfos.push(a)}};var p=function(e,t){var r=t.idx;t.signerid_issuer1=s(e,r,[1,0],"30");t.signerid_serial1=i(e,r,[1,1],"02");t.hashalg=c(i(e,r,[2,0],"06"));var n=a(e,r,[3],"a0");t.idxSignedAttrs=n;v(e,t,n);var u=o(e,r);var f=u.length;if(f<6){throw"malformed SignerInfo"}t.sigalg=c(i(e,r,[f-2,0],"06"));t.sigval=i(e,r,[f-1],"04")};var v=function(e,t,r){var n=o(e,r);t.signedAttrIdxList=n;for(var s=0;s<n.length;s++){var a=n[s];var u=i(e,a,[0],"06");var c;if(u==="2a864886f70d010905"){c=Bv(i(e,a,[1,0]));t.saSigningTime=c}else{if(u==="2a864886f70d010904"){c=i(e,a,[1,0],"04");t.saMessageDigest=c}}}};var g=function(e,t){if(i(e,0,[0],"06")!=="2a864886f70d010702"){return t}t.cmsType="signedData";t.econtent=i(e,0,[1,0,2,1,0]);h(e,t);t.signerInfos=[];d(e,t)};var y=function(e,t){var r=t.parse.signerInfos;var n=r.length;var i=true;for(var s=0;s<n;s++){var a=r[s];b(e,t,a);if(!a.isValid){i=false}}t.isValid=i};var m=function(e,t,r,n){var i=t.parse.certsIdx;var s;if(t.certs===undefined){s=[];t.certkeys=[];var a=o(e,i);for(var c=0;c<a.length;c++){var f=u(e,a[c]);var l=new pg;l.readCertHex(f);s[c]=l;t.certkeys[c]=l.getPublicKey()}t.certs=s}else{s=t.certs}t.cccc=s.length;t.cccci=a.length;for(var c=0;c<s.length;c++){var h=l.getIssuerHex();var d=l.getSerialNumberHex();if(r.signerid_issuer1===h&&r.signerid_serial1===d){r.certkey_idx=c}}};var b=function(e,t,r,n){r.verifyDetail={};var i=r.verifyDetail;var s=t.parse.econtent;var a=r.hashalg;var o=r.saMessageDigest;i.validMessageDigest=false;if(f(s,a)===o){i.validMessageDigest=true}m(e,t,r);i.validSignatureValue=false;var c=r.sigalg;var l="31"+u(e,r.idxSignedAttrs).substr(2);r.signedattrshex=l;var h=t.certs[r.certkey_idx].getPublicKey();var d=new wv.crypto.Signature({alg:c});d.init(h);d.updateHex(l);var p=d.verify(r.sigval);i.validSignatureValue_isValid=p;if(p===true){i.validSignatureValue=true}r.isValid=false;if(i.validMessageDigest&&i.validSignatureValue){r.isValid=true}};var w={isValid:false,parse:{}};g(l,w.parse);y(l,w);return w};if(typeof wv=="undefined"||!wv){wv={}}if(typeof wv.asn1=="undefined"||!wv.asn1){wv.asn1={}}if(typeof wv.asn1.tsp=="undefined"||!wv.asn1.tsp){wv.asn1.tsp={}}wv.asn1.tsp.Accuracy=function(e){var t=wv,r=t.asn1,n=r.DERInteger,i=r.DERSequence,s=r.DERTaggedObject;r.tsp.Accuracy.superclass.constructor.call(this);this.seconds=null;this.millis=null;this.micros=null;this.getEncodedHex=function(){var e=null;var t=null;var r=null;var a=[];if(this.seconds!=null){e=new n({int:this.seconds});a.push(e)}if(this.millis!=null){var o=new n({int:this.millis});t=new s({obj:o,tag:"80",explicit:false});a.push(t)}if(this.micros!=null){var u=new n({int:this.micros});r=new s({obj:u,tag:"81",explicit:false});a.push(r)}var c=new i({array:a});this.hTLV=c.getEncodedHex();return this.hTLV};if(e!==undefined){if(typeof e.seconds=="number"){this.seconds=e.seconds}if(typeof e.millis=="number"){this.millis=e.millis}if(typeof e.micros=="number"){this.micros=e.micros}}};eh.lang.extend(wv.asn1.tsp.Accuracy,wv.asn1.ASN1Object);wv.asn1.tsp.MessageImprint=function(e){var t=wv,r=t.asn1,n=r.DERSequence,i=r.DEROctetString,s=r.x509,a=s.AlgorithmIdentifier;r.tsp.MessageImprint.superclass.constructor.call(this);this.dHashAlg=null;this.dHashValue=null;this.getEncodedHex=function(){if(typeof this.hTLV=="string"){return this.hTLV}var e=new n({array:[this.dHashAlg,this.dHashValue]});return e.getEncodedHex()};if(e!==undefined){if(typeof e.hashAlg=="string"){this.dHashAlg=new a({name:e.hashAlg})}if(typeof e.hashValue=="string"){this.dHashValue=new i({hex:e.hashValue})}}};eh.lang.extend(wv.asn1.tsp.MessageImprint,wv.asn1.ASN1Object);wv.asn1.tsp.TimeStampReq=function(e){var t=wv,r=t.asn1,n=r.DERSequence,i=r.DERInteger,s=r.DERBoolean,a=r.DERObjectIdentifier,o=r.tsp,u=o.MessageImprint;o.TimeStampReq.superclass.constructor.call(this);this.dVersion=new i({int:1});this.dMessageImprint=null;this.dPolicy=null;this.dNonce=null;this.certReq=true;this.setMessageImprint=function(e){if(e instanceof u){this.dMessageImprint=e;return}if(typeof e=="object"){this.dMessageImprint=new u(e)}};this.getEncodedHex=function(){if(this.dMessageImprint==null){throw"messageImprint shall be specified"}var e=[this.dVersion,this.dMessageImprint];if(this.dPolicy!=null){e.push(this.dPolicy)}if(this.dNonce!=null){e.push(this.dNonce)}if(this.certReq){e.push(new s)}var t=new n({array:e});this.hTLV=t.getEncodedHex();return this.hTLV};if(e!==undefined){if(typeof e.mi=="object"){this.setMessageImprint(e.mi)}if(typeof e.policy=="object"){this.dPolicy=new a(e.policy)}if(typeof e.nonce=="object"){this.dNonce=new i(e.nonce)}if(typeof e.certreq=="boolean"){this.certReq=e.certreq}}};eh.lang.extend(wv.asn1.tsp.TimeStampReq,wv.asn1.ASN1Object);wv.asn1.tsp.TSTInfo=function(e){var t=wv,r=t.asn1,n=r.DERSequence,i=r.DERInteger,s=r.DERBoolean,a=r.DERGeneralizedTime,o=r.DERObjectIdentifier,u=r.tsp,c=u.MessageImprint,f=u.Accuracy,l=r.x509.X500Name;u.TSTInfo.superclass.constructor.call(this);this.dVersion=new i({int:1});this.dPolicy=null;this.dMessageImprint=null;this.dSerialNumber=null;this.dGenTime=null;this.dAccuracy=null;this.dOrdering=null;this.dNonce=null;this.dTsa=null;this.getEncodedHex=function(){var e=[this.dVersion];if(this.dPolicy==null){throw"policy shall be specified."}e.push(this.dPolicy);if(this.dMessageImprint==null){throw"messageImprint shall be specified."}e.push(this.dMessageImprint);if(this.dSerialNumber==null){throw"serialNumber shall be specified."}e.push(this.dSerialNumber);if(this.dGenTime==null){throw"genTime shall be specified."}e.push(this.dGenTime);if(this.dAccuracy!=null){e.push(this.dAccuracy)}if(this.dOrdering!=null){e.push(this.dOrdering)}if(this.dNonce!=null){e.push(this.dNonce)}if(this.dTsa!=null){e.push(this.dTsa)}var t=new n({array:e});this.hTLV=t.getEncodedHex();return this.hTLV};if(e!==undefined){if(typeof e.policy=="string"){if(!e.policy.match(/^[0-9.]+$/)){throw"policy shall be oid like 0.1.4.134"}this.dPolicy=new o({oid:e.policy})}if(e.messageImprint!==undefined){this.dMessageImprint=new c(e.messageImprint)}if(e.serialNumber!==undefined){this.dSerialNumber=new i(e.serialNumber)}if(e.genTime!==undefined){this.dGenTime=new a(e.genTime)}if(e.accuracy!==undefined){this.dAccuracy=new f(e.accuracy)}if(e.ordering!==undefined&&e.ordering==true){this.dOrdering=new s}if(e.nonce!==undefined){this.dNonce=new i(e.nonce)}if(e.tsa!==undefined){this.dTsa=new l(e.tsa)}}};eh.lang.extend(wv.asn1.tsp.TSTInfo,wv.asn1.ASN1Object);wv.asn1.tsp.TimeStampResp=function(e){var t=wv,r=t.asn1,n=r.DERSequence,i=r.ASN1Object,s=r.tsp,a=s.PKIStatusInfo;s.TimeStampResp.superclass.constructor.call(this);this.dStatus=null;this.dTST=null;this.getEncodedHex=function(){if(this.dStatus==null){throw"status shall be specified"}var e=[this.dStatus];if(this.dTST!=null){e.push(this.dTST)}var t=new n({array:e});this.hTLV=t.getEncodedHex();return this.hTLV};if(e!==undefined){if(typeof e.status=="object"){this.dStatus=new a(e.status)}if(e.tst!==undefined&&e.tst instanceof i){this.dTST=e.tst.getContentInfo()}}};eh.lang.extend(wv.asn1.tsp.TimeStampResp,wv.asn1.ASN1Object);wv.asn1.tsp.PKIStatusInfo=function(e){var t=wv,r=t.asn1,n=r.DERSequence,i=r.tsp,s=i.PKIStatus,a=i.PKIFreeText,o=i.PKIFailureInfo;i.PKIStatusInfo.superclass.constructor.call(this);this.dStatus=null;this.dStatusString=null;this.dFailureInfo=null;this.getEncodedHex=function(){if(this.dStatus==null){throw"status shall be specified"}var e=[this.dStatus];if(this.dStatusString!=null){e.push(this.dStatusString)}if(this.dFailureInfo!=null){e.push(this.dFailureInfo)}var t=new n({array:e});this.hTLV=t.getEncodedHex();return this.hTLV};if(e!==undefined){if(typeof e.status=="object"){this.dStatus=new s(e.status)}if(typeof e.statstr=="object"){this.dStatusString=new a({array:e.statstr})}if(typeof e.failinfo=="object"){this.dFailureInfo=new o(e.failinfo)}}};eh.lang.extend(wv.asn1.tsp.PKIStatusInfo,wv.asn1.ASN1Object);wv.asn1.tsp.PKIStatus=function(e){var t=wv,r=t.asn1,n=r.DERInteger,i=r.tsp,s=i.PKIStatus;i.PKIStatus.superclass.constructor.call(this);this.getEncodedHex=function(){this.hTLV=this.dStatus.getEncodedHex();return this.hTLV};if(e!==undefined){if(e.name!==undefined){var a=s.valueList;if(a[e.name]===undefined){throw"name undefined: "+e.name}this.dStatus=new n({int:a[e.name]})}else{this.dStatus=new n(e)}}};eh.lang.extend(wv.asn1.tsp.PKIStatus,wv.asn1.ASN1Object);wv.asn1.tsp.PKIStatus.valueList={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};wv.asn1.tsp.PKIFreeText=function(e){var t=wv,r=t.asn1,n=r.DERSequence,i=r.DERUTF8String,s=r.tsp;s.PKIFreeText.superclass.constructor.call(this);this.textList=[];this.getEncodedHex=function(){var e=[];for(var t=0;t<this.textList.length;t++){e.push(new i({str:this.textList[t]}))}var r=new n({array:e});this.hTLV=r.getEncodedHex();return this.hTLV};if(e!==undefined){if(typeof e.array=="object"){this.textList=e.array}}};eh.lang.extend(wv.asn1.tsp.PKIFreeText,wv.asn1.ASN1Object);wv.asn1.tsp.PKIFailureInfo=function(e){var t=wv,r=t.asn1,n=r.DERBitString,i=r.tsp,s=i.PKIFailureInfo;s.superclass.constructor.call(this);this.value=null;this.getEncodedHex=function(){if(this.value==null){throw"value shall be specified"}var e=new Number(this.value).toString(2);var t=new n;t.setByBinaryString(e);this.hTLV=t.getEncodedHex();return this.hTLV};if(e!==undefined){if(typeof e.name=="string"){var a=s.valueList;if(a[e.name]===undefined){throw"name undefined: "+e.name}this.value=a[e.name]}else{if(typeof e["int"]=="number"){this.value=e["int"]}}}};eh.lang.extend(wv.asn1.tsp.PKIFailureInfo,wv.asn1.ASN1Object);wv.asn1.tsp.PKIFailureInfo.valueList={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};wv.asn1.tsp.AbstractTSAAdapter=function(e){this.getTSTHex=function(e,t){throw"not implemented yet"}};wv.asn1.tsp.SimpleTSAAdapter=function(e){var t=wv,r=t.asn1,n=r.tsp,i=t.crypto.Util.hashHex;n.SimpleTSAAdapter.superclass.constructor.call(this);this.params=null;this.serial=0;this.getTSTHex=function(e,t){var r=i(e,t);this.params.tstInfo.messageImprint={hashAlg:t,hashValue:r};this.params.tstInfo.serialNumber={int:this.serial++};var s=Math.floor(Math.random()*1e9);this.params.tstInfo.nonce={int:s};var a=n.TSPUtil.newTimeStampToken(this.params);return a.getContentInfoEncodedHex()};if(e!==undefined){this.params=e}};eh.lang.extend(wv.asn1.tsp.SimpleTSAAdapter,wv.asn1.tsp.AbstractTSAAdapter);wv.asn1.tsp.FixedTSAAdapter=function(e){var t=wv,r=t.asn1,n=r.tsp,i=t.crypto.Util.hashHex;n.FixedTSAAdapter.superclass.constructor.call(this);this.params=null;this.getTSTHex=function(e,t){var r=i(e,t);this.params.tstInfo.messageImprint={hashAlg:t,hashValue:r};var s=n.TSPUtil.newTimeStampToken(this.params);return s.getContentInfoEncodedHex()};if(e!==undefined){this.params=e}};eh.lang.extend(wv.asn1.tsp.FixedTSAAdapter,wv.asn1.tsp.AbstractTSAAdapter);wv.asn1.tsp.TSPUtil=new function(){};wv.asn1.tsp.TSPUtil.newTimeStampToken=function(e){var t=wv,r=t.asn1,n=r.cms,i=r.tsp.TSTInfo;var s=new n.SignedData;var a=new i(e.tstInfo);var o=a.getEncodedHex();s.dEncapContentInfo.setContentValue({hex:o});s.dEncapContentInfo.setContentType("tstinfo");if(typeof e.certs=="object"){for(var u=0;u<e.certs.length;u++){s.addCertificatesByPEM(e.certs[u])}}var c=s.signerInfoList[0];c.setSignerIdentifier(e.signerCert);c.setForContentAndHash({sdObj:s,eciObj:s.dEncapContentInfo,hashAlg:e.hashAlg});var f=new n.SigningCertificate({array:[e.signerCert]});c.dSignedAttrs.add(f);c.sign(e.signerPrvKey,e.sigAlg);return s};wv.asn1.tsp.TSPUtil.parseTimeStampReq=function(e){var t=bv;var r=t.getChildIdx;var n=t.getV;var i=t.getTLV;var s={};s.certreq=false;var a=r(e,0);if(a.length<2){throw"TimeStampReq must have at least 2 items"}var o=i(e,a[1]);s.mi=wv.asn1.tsp.TSPUtil.parseMessageImprint(o);for(var u=2;u<a.length;u++){var c=a[u];var f=e.substr(c,2);if(f=="06"){var l=n(e,c);s.policy=t.hextooidstr(l)}if(f=="02"){s.nonce=n(e,c)}if(f=="01"){s.certreq=true}}return s};wv.asn1.tsp.TSPUtil.parseMessageImprint=function(e){var t=bv;var r=t.getChildIdx;var n=t.getV;var i=t.getIdxbyList;var s={};if(e.substr(0,2)!="30"){throw"head of messageImprint hex shall be '30'"}var a=r(e,0);var o=i(e,0,[0,0]);var u=n(e,o);var c=t.hextooidstr(u);var f=wv.asn1.x509.OID.oid2name(c);if(f==""){throw"hashAlg name undefined: "+c}var l=f;var h=i(e,0,[1]);s.hashAlg=l;s.hashValue=n(e,h);return s};if(typeof wv=="undefined"||!wv){wv={}}if(typeof wv.asn1=="undefined"||!wv.asn1){wv.asn1={}}if(typeof wv.asn1.cades=="undefined"||!wv.asn1.cades){wv.asn1.cades={}}wv.asn1.cades.SignaturePolicyIdentifier=function(e){var t=wv,r=t.asn1,n=r.DERObjectIdentifier,i=r.DERSequence,s=r.cades,a=s.OtherHashAlgAndValue;s.SignaturePolicyIdentifier.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.16.2.15";if(e!==undefined){if(typeof e.oid=="string"&&typeof e.hash=="object"){var o=new n({oid:e.oid});var u=new a(e.hash);var c=new i({array:[o,u]});this.valueList=[c]}}};eh.lang.extend(wv.asn1.cades.SignaturePolicyIdentifier,wv.asn1.cms.Attribute);wv.asn1.cades.OtherHashAlgAndValue=function(e){var t=wv,r=t.asn1,n=r.DERSequence,i=r.DEROctetString,s=r.x509,a=s.AlgorithmIdentifier,o=r.cades,u=o.OtherHashAlgAndValue;u.superclass.constructor.call(this);this.dAlg=null;this.dHash=null;this.getEncodedHex=function(){var e=new n({array:[this.dAlg,this.dHash]});this.hTLV=e.getEncodedHex();return this.hTLV};if(e!==undefined){if(typeof e.alg=="string"&&typeof e.hash=="string"){this.dAlg=new a({name:e.alg});this.dHash=new i({hex:e.hash})}}};eh.lang.extend(wv.asn1.cades.OtherHashAlgAndValue,wv.asn1.ASN1Object);wv.asn1.cades.SignatureTimeStamp=function(e){var t=wv,r=t.asn1,n=r.ASN1Object,i=r.cades;i.SignatureTimeStamp.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.16.2.14";this.tstHex=null;if(e!==undefined){if(e.res!==undefined){if(typeof e.res=="string"&&e.res.match(/^[0-9A-Fa-f]+$/));else{if(e.res instanceof n);else{throw"res param shall be ASN1Object or hex string"}}}if(e.tst!==undefined){if(typeof e.tst=="string"&&e.tst.match(/^[0-9A-Fa-f]+$/)){var s=new n;this.tstHex=e.tst;s.hTLV=this.tstHex;s.getEncodedHex();this.valueList=[s]}else{if(e.tst instanceof n);else{throw"tst param shall be ASN1Object or hex string"}}}}};eh.lang.extend(wv.asn1.cades.SignatureTimeStamp,wv.asn1.cms.Attribute);wv.asn1.cades.CompleteCertificateRefs=function(e){var t=wv,r=t.asn1,n=r.cades;n.CompleteCertificateRefs.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.16.2.21";this.setByArray=function(e){this.valueList=[];for(var t=0;t<e.length;t++){var r=new n.OtherCertID(e[t]);this.valueList.push(r)}};if(e!==undefined){if(typeof e=="object"&&typeof e.length=="number"){this.setByArray(e)}}};eh.lang.extend(wv.asn1.cades.CompleteCertificateRefs,wv.asn1.cms.Attribute);wv.asn1.cades.OtherCertID=function(e){var t=wv,r=t.asn1,n=r.cms,i=r.cades;i.OtherCertID.superclass.constructor.call(this);this.hasIssuerSerial=true;this.dOtherCertHash=null;this.dIssuerSerial=null;this.setByCertPEM=function(e){this.dOtherCertHash=new i.OtherHash(e);if(this.hasIssuerSerial){this.dIssuerSerial=new n.IssuerAndSerialNumber(e)}};this.getEncodedHex=function(){if(this.hTLV!=null){return this.hTLV}if(this.dOtherCertHash==null){throw"otherCertHash not set"}var e=[this.dOtherCertHash];if(this.dIssuerSerial!=null){e.push(this.dIssuerSerial)}var t=new r.DERSequence({array:e});this.hTLV=t.getEncodedHex();return this.hTLV};if(e!==undefined){if(typeof e=="string"&&e.indexOf("-----BEGIN ")!=-1){this.setByCertPEM(e)}if(typeof e=="object"){if(e.hasis===false){this.hasIssuerSerial=false}if(typeof e.cert=="string"){this.setByCertPEM(e.cert)}}}};eh.lang.extend(wv.asn1.cades.OtherCertID,wv.asn1.ASN1Object);wv.asn1.cades.OtherHash=function(e){var t=wv,r=t.asn1,n=r.cades,i=n.OtherHashAlgAndValue,s=t.crypto.Util.hashHex;n.OtherHash.superclass.constructor.call(this);this.alg="sha256";this.dOtherHash=null;this.setByCertPEM=function(e){if(e.indexOf("-----BEGIN ")==-1){throw"certPEM not to seem PEM format"}var t=Kv(e);var r=s(t,this.alg);this.dOtherHash=new i({alg:this.alg,hash:r})};this.getEncodedHex=function(){if(this.dOtherHash==null){throw"OtherHash not set"}return this.dOtherHash.getEncodedHex()};if(e!==undefined){if(typeof e=="string"){if(e.indexOf("-----BEGIN ")!=-1){this.setByCertPEM(e)}else{if(e.match(/^[0-9A-Fa-f]+$/)){this.dOtherHash=new r.DEROctetString({hex:e})}else{throw"unsupported string value for params"}}}else{if(typeof e=="object"){if(typeof e.cert=="string"){if(typeof e.alg=="string"){this.alg=e.alg}this.setByCertPEM(e.cert)}else{this.dOtherHash=new i(e)}}}}};eh.lang.extend(wv.asn1.cades.OtherHash,wv.asn1.ASN1Object);wv.asn1.cades.CAdESUtil=new function(){};wv.asn1.cades.CAdESUtil.addSigTS=function(e,t,r){};wv.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(e){var t=bv,r=t.getChildIdx,n=t.getTLV,i=t.getTLVbyList,s=t.getIdxbyList,a=wv,o=a.asn1,u=o.ASN1Object,c=o.cms,f=c.SignedData,l=o.cades,h=l.CAdESUtil;var d={};if(i(e,0,[0])!="06092a864886f70d010702"){throw"hex is not CMS SignedData"}var p=s(e,0,[1,0]);var v=r(e,p);if(v.length<4){throw"num of SignedData elem shall be 4 at least"}var g=v.shift();d.version=n(e,g);var y=v.shift();d.algs=n(e,y);var m=v.shift();d.encapcontent=n(e,m);d.certs=null;d.revs=null;d.si=[];var b=v.shift();if(e.substr(b,2)=="a0"){d.certs=n(e,b);b=v.shift()}if(e.substr(b,2)=="a1"){d.revs=n(e,b);b=v.shift()}var w=b;if(e.substr(w,2)!="31"){throw"Can't find signerInfos"}var S=r(e,w);for(var E=0;E<S.length;E++){var x=S[E];var A=h.parseSignerInfoForAddingUnsigned(e,x,E);d.si[E]=A}var F=null;d.obj=new f;F=new u;F.hTLV=d.version;d.obj.dCMSVersion=F;F=new u;F.hTLV=d.algs;d.obj.dDigestAlgs=F;F=new u;F.hTLV=d.encapcontent;d.obj.dEncapContentInfo=F;F=new u;F.hTLV=d.certs;d.obj.dCerts=F;d.obj.signerInfoList=[];for(var E=0;E<d.si.length;E++){d.obj.signerInfoList.push(d.si[E].obj)}return d};wv.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(e,t,r){var n=bv,i=n.getChildIdx,s=n.getTLV,a=n.getV,o=wv,u=o.asn1,c=u.ASN1Object,f=u.cms,l=f.AttributeList,h=f.SignerInfo;var d={};var p=i(e,t);if(p.length!=6){throw"not supported items for SignerInfo (!=6)"}var v=p.shift();d.version=s(e,v);var g=p.shift();d.si=s(e,g);var y=p.shift();d.digalg=s(e,y);var m=p.shift();d.sattrs=s(e,m);var b=p.shift();d.sigalg=s(e,b);var w=p.shift();d.sig=s(e,w);d.sigval=a(e,w);var S=null;d.obj=new h;S=new c;S.hTLV=d.version;d.obj.dCMSVersion=S;S=new c;S.hTLV=d.si;d.obj.dSignerIdentifier=S;S=new c;S.hTLV=d.digalg;d.obj.dDigestAlgorithm=S;S=new c;S.hTLV=d.sattrs;d.obj.dSignedAttrs=S;S=new c;S.hTLV=d.sigalg;d.obj.dSigAlg=S;S=new c;S.hTLV=d.sig;d.obj.dSig=S;d.obj.dUnsignedAttrs=new l;return d};if(typeof wv.asn1.csr=="undefined"||!wv.asn1.csr){wv.asn1.csr={}}wv.asn1.csr.CertificationRequest=function(e){var t=wv,r=t.asn1,n=r.DERBitString,i=r.DERSequence,s=r.csr,a=r.x509;s.CertificationRequest.superclass.constructor.call(this);this.sign=function(e,r){if(this.prvKey==null){this.prvKey=r}this.asn1SignatureAlg=new a.AlgorithmIdentifier({name:e});sig=new t.crypto.Signature({alg:e});sig.init(this.prvKey);sig.updateHex(this.asn1CSRInfo.getEncodedHex());this.hexSig=sig.sign();this.asn1Sig=new n({hex:"00"+this.hexSig});var s=new i({array:[this.asn1CSRInfo,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=s.getEncodedHex();this.isModified=false};this.getPEMString=function(){return qv(this.getEncodedHex(),"CERTIFICATE REQUEST")};this.getEncodedHex=function(){if(this.isModified==false&&this.hTLV!=null){return this.hTLV}throw"not signed yet"};if(e!==undefined&&e.csrinfo!==undefined){this.asn1CSRInfo=e.csrinfo}};eh.lang.extend(wv.asn1.csr.CertificationRequest,wv.asn1.ASN1Object);wv.asn1.csr.CertificationRequestInfo=function(e){var t=wv,r=t.asn1,n=r.DERInteger,i=r.DERSequence,s=r.DERSet,a=r.DERNull,o=r.DERTaggedObject,u=r.DERObjectIdentifier,c=r.csr,f=r.x509,l=f.X500Name,h=f.Extension,d=cg;c.CertificationRequestInfo.superclass.constructor.call(this);this._initialize=function(){this.asn1Array=new Array;this.asn1Version=new n({int:0});this.asn1Subject=null;this.asn1SubjPKey=null;this.extensionsArray=new Array};this.setSubjectByParam=function(e){this.asn1Subject=new l(e)};this.setSubjectPublicKeyByGetKey=function(e){var t=d.getKey(e);this.asn1SubjPKey=new f.SubjectPublicKeyInfo(t)};this.appendExtensionByName=function(e,t){h.appendByNameToArray(e,t,this.extensionsArray)};this.getEncodedHex=function(){this.asn1Array=new Array;this.asn1Array.push(this.asn1Version);this.asn1Array.push(this.asn1Subject);this.asn1Array.push(this.asn1SubjPKey);if(this.extensionsArray.length>0){var e=new i({array:this.extensionsArray});var t=new s({array:[e]});var r=new i({array:[new u({oid:"1.2.840.113549.1.9.14"}),t]});var n=new o({explicit:true,tag:"a0",obj:r});this.asn1Array.push(n)}else{var n=new o({explicit:false,tag:"a0",obj:new a});this.asn1Array.push(n)}var c=new i({array:this.asn1Array});this.hTLV=c.getEncodedHex();this.isModified=false;return this.hTLV};this._initialize()};eh.lang.extend(wv.asn1.csr.CertificationRequestInfo,wv.asn1.ASN1Object);wv.asn1.csr.CSRUtil=new function(){};wv.asn1.csr.CSRUtil.newCSRPEM=function(e){var t=cg,r=wv.asn1.csr;if(e.subject===undefined){throw"parameter subject undefined"}if(e.sbjpubkey===undefined){throw"parameter sbjpubkey undefined"}if(e.sigalg===undefined){throw"parameter sigalg undefined"}if(e.sbjprvkey===undefined){throw"parameter sbjpubkey undefined"}var n=new r.CertificationRequestInfo;n.setSubjectByParam(e.subject);n.setSubjectPublicKeyByGetKey(e.sbjpubkey);if(e.ext!==undefined&&e.ext.length!==undefined){for(var i=0;i<e.ext.length;i++){for(key in e.ext[i]){n.appendExtensionByName(key,e.ext[i][key])}}}var s=new r.CertificationRequest({csrinfo:n});var a=t.getKey(e.sbjprvkey);s.sign(e.sigalg,a);var o=s.getPEMString();return o};wv.asn1.csr.CSRUtil.getInfo=function(e){var t=bv;var r=t.getTLVbyList;var n={};n.subject={};n.pubkey={};if(e.indexOf("-----BEGIN CERTIFICATE REQUEST")==-1){throw"argument is not PEM file"}var i=Kv(e,"CERTIFICATE REQUEST");n.subject.hex=r(i,0,[0,1]);n.subject.name=pg.hex2dn(n.subject.hex);n.pubkey.hex=r(i,0,[0,2]);n.pubkey.obj=cg.getKey(n.pubkey.hex,null,"pkcs8pub");return n};if(typeof wv=="undefined"||!wv){wv={}}if(typeof wv.asn1=="undefined"||!wv.asn1){wv.asn1={}}if(typeof wv.asn1.ocsp=="undefined"||!wv.asn1.ocsp){wv.asn1.ocsp={}}wv.asn1.ocsp.DEFAULT_HASH="sha1";wv.asn1.ocsp.CertID=function(e){var t=wv,r=t.asn1,n=r.DEROctetString,i=r.DERInteger,s=r.DERSequence,a=r.x509,o=a.AlgorithmIdentifier,u=r.ocsp,c=u.DEFAULT_HASH,f=t.crypto,l=f.Util.hashHex,h=pg,d=bv;u.CertID.superclass.constructor.call(this);this.dHashAlg=null;this.dIssuerNameHash=null;this.dIssuerKeyHash=null;this.dSerialNumber=null;this.setByValue=function(e,t,r,s){if(s===undefined){s=c}this.dHashAlg=new o({name:s});this.dIssuerNameHash=new n({hex:e});this.dIssuerKeyHash=new n({hex:t});this.dSerialNumber=new i({hex:r})};this.setByCert=function(e,t,r){if(r===undefined){r=c}var n=new h;n.readCertPEM(t);var i=new h;i.readCertPEM(e);var s=i.getPublicKeyHex();var a=d.getTLVbyList(s,0,[1,0],"30");var o=n.getSerialNumberHex();var u=l(i.getSubjectHex(),r);var f=l(a,r);this.setByValue(u,f,o,r);this.hoge=n.getSerialNumberHex()};this.getEncodedHex=function(){if(this.dHashAlg===null&&this.dIssuerNameHash===null&&this.dIssuerKeyHash===null&&this.dSerialNumber===null){throw"not yet set values"}var e=[this.dHashAlg,this.dIssuerNameHash,this.dIssuerKeyHash,this.dSerialNumber];var t=new s({array:e});this.hTLV=t.getEncodedHex();return this.hTLV};if(e!==undefined){var p=e;if(p.issuerCert!==undefined&&p.subjectCert!==undefined){var v=c;if(p.alg===undefined){v=undefined}this.setByCert(p.issuerCert,p.subjectCert,v)}else{if(p.namehash!==undefined&&p.keyhash!==undefined&&p.serial!==undefined){var v=c;if(p.alg===undefined){v=undefined}this.setByValue(p.namehash,p.keyhash,p.serial,v)}else{throw"invalid constructor arguments"}}}};eh.lang.extend(wv.asn1.ocsp.CertID,wv.asn1.ASN1Object);wv.asn1.ocsp.Request=function(e){var t=wv,r=t.asn1,n=r.DERSequence,i=r.ocsp;i.Request.superclass.constructor.call(this);this.dReqCert=null;this.dExt=null;this.getEncodedHex=function(){var e=[];if(this.dReqCert===null){throw"reqCert not set"}e.push(this.dReqCert);var t=new n({array:e});this.hTLV=t.getEncodedHex();return this.hTLV};if(typeof e!=="undefined"){var s=new i.CertID(e);this.dReqCert=s}};eh.lang.extend(wv.asn1.ocsp.Request,wv.asn1.ASN1Object);wv.asn1.ocsp.TBSRequest=function(e){var t=wv,r=t.asn1,n=r.DERSequence,i=r.ocsp;i.TBSRequest.superclass.constructor.call(this);this.version=0;this.dRequestorName=null;this.dRequestList=[];this.dRequestExt=null;this.setRequestListByParam=function(e){var t=[];for(var r=0;r<e.length;r++){var n=new i.Request(e[0]);t.push(n)}this.dRequestList=t};this.getEncodedHex=function(){var e=[];if(this.version!==0){throw"not supported version: "+this.version}if(this.dRequestorName!==null){throw"requestorName not supported"}var t=new n({array:this.dRequestList});e.push(t);if(this.dRequestExt!==null){throw"requestExtensions not supported"}var r=new n({array:e});this.hTLV=r.getEncodedHex();return this.hTLV};if(e!==undefined){if(e.reqList!==undefined){this.setRequestListByParam(e.reqList)}}};eh.lang.extend(wv.asn1.ocsp.TBSRequest,wv.asn1.ASN1Object);wv.asn1.ocsp.OCSPRequest=function(e){var t=wv,r=t.asn1,n=r.DERSequence,i=r.ocsp;i.OCSPRequest.superclass.constructor.call(this);this.dTbsRequest=null;this.dOptionalSignature=null;this.getEncodedHex=function(){var e=[];if(this.dTbsRequest!==null){e.push(this.dTbsRequest)}else{throw"tbsRequest not set"}if(this.dOptionalSignature!==null){throw"optionalSignature not supported"}var t=new n({array:e});this.hTLV=t.getEncodedHex();return this.hTLV};if(e!==undefined){if(e.reqList!==undefined){var s=new i.TBSRequest(e);this.dTbsRequest=s}}};eh.lang.extend(wv.asn1.ocsp.OCSPRequest,wv.asn1.ASN1Object);wv.asn1.ocsp.OCSPUtil={};wv.asn1.ocsp.OCSPUtil.getRequestHex=function(e,t,r){var n=wv,i=n.asn1,s=i.ocsp;if(r===undefined){r=s.DEFAULT_HASH}var a={alg:r,issuerCert:e,subjectCert:t};var o=new s.OCSPRequest({reqList:[a]});return o.getEncodedHex()};wv.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(e){var t=bv;var r=t.getVbyList;var n=t.getIdxbyList;var r=t.getVbyList;var i=t.getV;var s={};try{var a=r(e,0,[0],"0a");s.responseStatus=parseInt(a,16)}catch(e){}if(s.responseStatus!==0){return s}try{var o=n(e,0,[1,0,1,0,0,2,0,1]);if(e.substr(o,2)==="80"){s.certStatus="good"}else{if(e.substr(o,2)==="a1"){s.certStatus="revoked";s.revocationTime=Bv(r(e,o,[0]))}else{if(e.substr(o,2)==="82"){s.certStatus="unknown"}}}}catch(e){}try{var u=n(e,0,[1,0,1,0,0,2,0,2]);s.thisUpdate=Bv(i(e,u))}catch(e){}try{var c=n(e,0,[1,0,1,0,0,2,0,3]);if(e.substr(c,2)==="a0"){s.nextUpdate=Bv(r(e,c,[0]))}}catch(e){}return s};var wv;if(typeof wv=="undefined"||!wv){wv={}}if(typeof wv.lang=="undefined"||!wv.lang){wv.lang={}}wv.lang.String=function(){};function Sv(e){var t=new Array;for(var r=0;r<e.length;r++){t[r]=e.charCodeAt(r)}return t}function Ev(e){var t="";for(var r=0;r<e.length;r++){t=t+String.fromCharCode(e[r])}return t}function xv(e){var t="";for(var r=0;r<e.length;r++){var n=e[r].toString(16);if(n.length==1){n="0"+n}t=t+n}return t}function Av(e){return xv(Sv(e))}function Fv(e){return ih(Av(e))}function Tv(e){return kv(ih(Av(e)))}function Cv(e){return Ev(ah(Iv(e)))}function kv(e){e=e.replace(/\=/g,"");e=e.replace(/\+/g,"-");e=e.replace(/\//g,"_");return e}function Iv(e){if(e.length%4==2){e=e+"=="}else{if(e.length%4==3){e=e+"="}}e=e.replace(/-/g,"+");e=e.replace(/_/g,"/");return e}function Ov(e){if(e.length%2==1){e="0"+e}return kv(ih(e))}function Rv(e){return sh(Iv(e))}var Dv,_v;if(typeof Ou==="function"){Dv=function(e){return kv(new Ou(e,"utf8").toString("base64"))};_v=function(e){return new Ou(Iv(e),"base64").toString("utf8")}}else{Dv=function(e){return Ov($v(ng(e)))};_v=function(e){return decodeURIComponent(Xv(Rv(e)))}}function Nv(e){return ih($v(ng(e)))}function Pv(e){return decodeURIComponent(Xv(sh(e)))}function jv(e){return $v(ng(e))}function Bv(e){return decodeURIComponent(Xv(e))}function Lv(e){var t="";for(var r=0;r<e.length-1;r+=2){t+=String.fromCharCode(parseInt(e.substr(r,2),16))}return t}function Hv(e){var t="";for(var r=0;r<e.length;r++){t+=("0"+e.charCodeAt(r).toString(16)).slice(-2)}return t}function Mv(e){return ih(e)}function Vv(e){var t=Mv(e);var r=t.replace(/(.{64})/g,"$1\r\n");r=r.replace(/\r\n$/,"");return r}function Uv(e){var t=e.replace(/[^0-9A-Za-z\/+=]*/g,"");var r=sh(t);return r}function qv(e,t){var r=Vv(e);return"-----BEGIN "+t+"-----\r\n"+r+"\r\n-----END "+t+"-----\r\n"}function Kv(e,t){if(e.indexOf("-----BEGIN ")==-1){throw"can't find PEM header: "+t}if(t!==undefined){e=e.replace("-----BEGIN "+t+"-----","");e=e.replace("-----END "+t+"-----","")}else{e=e.replace(/-----BEGIN [^-]+-----/,"");e=e.replace(/-----END [^-]+-----/,"")}return Uv(e)}function zv(e){if(e.length%2!=0){throw"input is not even length"}if(e.match(/^[0-9A-Fa-f]+$/)==null){throw"input is not hexadecimal"}var t=new ArrayBuffer(e.length/2);var r=new DataView(t);for(var n=0;n<e.length/2;n++){r.setUint8(n,parseInt(e.substr(n*2,2),16))}return t}function Qv(e){var t="";var r=new DataView(e);for(var n=0;n<e.byteLength;n++){t+=("00"+r.getUint8(n).toString(16)).slice(-2)}return t}function Wv(e){var t,r,n,i,s,a,o;var u,c,f,l;l=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/);if(l){u=l[1];t=parseInt(u);if(u.length===2){if(50<=t&&t<100){t=1900+t}else{if(0<=t&&t<50){t=2e3+t}}}r=parseInt(l[2])-1;n=parseInt(l[3]);i=parseInt(l[4]);s=parseInt(l[5]);a=parseInt(l[6]);o=0;c=l[7];if(c!==""){f=(c.substr(1)+"00").substr(0,3);o=parseInt(f)}return Date.UTC(t,r,n,i,s,a,o)}throw"unsupported zulu format: "+e}function Yv(e){var t=Wv(e);return~~(t/1e3)}function Gv(e){return new Date(Wv(e))}function Jv(e,t,r){var n;var i=e.getUTCFullYear();if(t){if(i<1950||2049<i){throw"not proper year for UTCTime: "+i}n=(""+i).slice(-2)}else{n=("000"+i).slice(-4)}n+=("0"+(e.getUTCMonth()+1)).slice(-2);n+=("0"+e.getUTCDate()).slice(-2);n+=("0"+e.getUTCHours()).slice(-2);n+=("0"+e.getUTCMinutes()).slice(-2);n+=("0"+e.getUTCSeconds()).slice(-2);if(r){var s=e.getUTCMilliseconds();if(s!==0){s=("00"+s).slice(-3);s=s.replace(/0+$/g,"");n+="."+s}}n+="Z";return n}function $v(e){return e.replace(/%/g,"")}function Xv(e){return e.replace(/(..)/g,"%$1")}function Zv(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/)){throw t}e=e.toLowerCase();var r=e.split(":").length-1;if(r<2){throw t}var n=":".repeat(7-r+2);e=e.replace("::",n);var i=e.split(":");if(i.length!=8){throw t}for(var s=0;s<8;s++){i[s]=("0000"+i[s]).slice(-4)}return i.join("")}function eg(e){if(!e.match(/^[0-9A-Fa-f]{32}$/)){throw"malformed IPv6 address octet"}e=e.toLowerCase();var t=e.match(/.{1,4}/g);for(var r=0;r<8;r++){t[r]=t[r].replace(/^0+/,"");if(t[r]==""){t[r]="0"}}e=":"+t.join(":")+":";var n=e.match(/:(0:){2,}/g);if(n===null){return e.slice(1,-1)}var i="";for(var r=0;r<n.length;r++){if(n[r].length>i.length){i=n[r]}}e=e.replace(i,"::");return e.slice(1,-1)}function tg(e){var t="malformed hex value";if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/)){throw t}if(e.length==8){var r;try{r=parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16);return r}catch(e){throw t}}else{if(e.length==32){return eg(e)}else{return e}}}function rg(e){var t="malformed IP address";e=e.toLowerCase(e);if(e.match(/^[0-9.]+$/)){var r=e.split(".");if(r.length!==4){throw t}var n="";try{for(var i=0;i<4;i++){var s=parseInt(r[i]);n+=("0"+s.toString(16)).slice(-2)}return n}catch(e){throw t}}else{if(e.match(/^[0-9a-f:]+$/)&&e.indexOf(":")!==-1){return Zv(e)}else{throw t}}}function ng(e){var t=encodeURIComponent(e);var r="";for(var n=0;n<t.length;n++){if(t[n]=="%"){r=r+t.substr(n,3);n=n+2}else{r=r+"%"+Av(t[n])}}return r}function ig(e){e=e.replace(/\r\n/gm,"\n");return e}function sg(e){e=e.replace(/\r\n/gm,"\n");e=e.replace(/\n/gm,"\r\n");return e}wv.lang.String.isInteger=function(e){if(e.match(/^[0-9]+$/)){return true}else{if(e.match(/^-[0-9]+$/)){return true}else{return false}}};wv.lang.String.isHex=function(e){if(e.length%2==0&&(e.match(/^[0-9a-f]+$/)||e.match(/^[0-9A-F]+$/))){return true}else{return false}};wv.lang.String.isBase64=function(e){e=e.replace(/\s+/g,"");if(e.match(/^[0-9A-Za-z+\/]+={0,3}$/)&&e.length%4==0){return true}else{return false}};wv.lang.String.isBase64URL=function(e){if(e.match(/[+\/=]/)){return false}e=Iv(e);return wv.lang.String.isBase64(e)};wv.lang.String.isIntegerArray=function(e){e=e.replace(/\s+/g,"");if(e.match(/^\[[0-9,]+\]$/)){return true}else{return false}};function ag(e){if(e.length%2==1){return"0"+e}if(e.substr(0,1)>"7"){return"00"+e}return e}function og(e){e=e.replace(/^\s*\[\s*/,"");e=e.replace(/\s*\]\s*$/,"");e=e.replace(/\s*/g,"");try{var t=e.split(/,/).map((function(e,t,r){var n=parseInt(e);if(n<0||255<n){throw"integer not in range 0-255"}var i=("00"+n.toString(16)).slice(-2);return i})).join("");return t}catch(e){throw"malformed integer array string: "+e}}var ug=function(e,t){var r=e.length;if(e.length>t.length){r=t.length}for(var n=0;n<r;n++){if(e.charCodeAt(n)!=t.charCodeAt(n)){return n}}if(e.length!=t.length){return r}return-1};if(typeof wv=="undefined"||!wv){wv={}}if(typeof wv.crypto=="undefined"||!wv.crypto){wv.crypto={}}wv.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"};this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"};this.CRYPTOJSMESSAGEDIGESTNAME={md5:th.algo.MD5,sha1:th.algo.SHA1,sha224:th.algo.SHA224,sha256:th.algo.SHA256,sha384:th.algo.SHA384,sha512:th.algo.SHA512,ripemd160:th.algo.RIPEMD160};this.getDigestInfoHex=function(e,t){if(typeof this.DIGESTINFOHEAD[t]=="undefined"){throw"alg not supported in Util.DIGESTINFOHEAD: "+t}return this.DIGESTINFOHEAD[t]+e};this.getPaddedDigestInfoHex=function(e,t,r){var n=this.getDigestInfoHex(e,t);var i=r/4;if(n.length+22>i){throw"key is too short for SigAlg: keylen="+r+","+t}var s="0001";var a="00"+n;var o="";var u=i-s.length-a.length;for(var c=0;c<u;c+=2){o+="ff"}var f=s+o+a;return f};this.hashString=function(e,t){var r=new wv.crypto.MessageDigest({alg:t});return r.digestString(e)};this.hashHex=function(e,t){var r=new wv.crypto.MessageDigest({alg:t});return r.digestHex(e)};this.sha1=function(e){var t=new wv.crypto.MessageDigest({alg:"sha1",prov:"cryptojs"});return t.digestString(e)};this.sha256=function(e){var t=new wv.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"});return t.digestString(e)};this.sha256Hex=function(e){var t=new wv.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"});return t.digestHex(e)};this.sha512=function(e){var t=new wv.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"});return t.digestString(e)};this.sha512Hex=function(e){var t=new wv.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"});return t.digestHex(e)}};wv.crypto.Util.md5=function(e){var t=new wv.crypto.MessageDigest({alg:"md5",prov:"cryptojs"});return t.digestString(e)};wv.crypto.Util.ripemd160=function(e){var t=new wv.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"});return t.digestString(e)};wv.crypto.Util.SECURERANDOMGEN=new Tp;wv.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);wv.crypto.Util.SECURERANDOMGEN.nextBytes(t);return xv(t)};wv.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new uh(wv.crypto.Util.getRandomHexOfNbytes(e),16)};wv.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8;var r=(e-t)/8;var n=new Array(r+1);wv.crypto.Util.SECURERANDOMGEN.nextBytes(n);n[0]=(255<<t&255^255)&n[0];return xv(n)};wv.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new uh(wv.crypto.Util.getRandomHexOfNbits(e),16)};wv.crypto.Util.getRandomBigIntegerZeroToMax=function(e){var t=e.bitLength();while(1){var r=wv.crypto.Util.getRandomBigIntegerOfNbits(t);if(e.compareTo(r)!=-1){return r}}};wv.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var r=e.compareTo(t);if(r==1){throw"biMin is greater than biMax"}if(r==0){return e}var n=t.subtract(e);var i=wv.crypto.Util.getRandomBigIntegerZeroToMax(n);return i.add(e)};wv.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){e=wv.crypto.MessageDigest.getCanonicalAlgName(e);if(e!==null&&t===undefined){t=wv.crypto.Util.DEFAULTPROVIDER[e]}if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)!=-1&&t=="cryptojs"){try{this.md=wv.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)};this.updateHex=function(e){var t=th.enc.Hex.parse(e);this.md.update(t)};this.digest=function(){var e=this.md.finalize();return e.toString(th.enc.Hex)};this.digestString=function(e){this.updateString(e);return this.digest()};this.digestHex=function(e){this.updateHex(e);return this.digest()}}if(":sha256:".indexOf(e)!=-1&&t=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)};this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)};this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)};this.digestString=function(e){this.updateString(e);return this.digest()};this.digestHex=function(e){this.updateHex(e);return this.digest()}}};this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName};this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName};this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName};this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName};this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName};if(e!==undefined){if(e.alg!==undefined){this.algName=e.alg;if(e.prov===undefined){this.provName=wv.crypto.Util.DEFAULTPROVIDER[this.algName]}this.setAlgAndProvider(this.algName,this.provName)}}};wv.crypto.MessageDigest.getCanonicalAlgName=function(e){if(typeof e==="string"){e=e.toLowerCase();e=e.replace(/-/,"")}return e};wv.crypto.MessageDigest.getHashLength=function(e){var t=wv.crypto.MessageDigest;var r=t.getCanonicalAlgName(e);if(t.HASHLENGTH[r]===undefined){throw"not supported algorithm: "+e}return t.HASHLENGTH[r]};wv.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20};wv.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){e=e.toLowerCase();if(e==null){e="hmacsha1"}e=e.toLowerCase();if(e.substr(0,4)!="hmac"){throw"setAlgAndProvider unsupported HMAC alg: "+e}if(t===undefined){t=wv.crypto.Util.DEFAULTPROVIDER[e]}this.algProv=e+"/"+t;var r=e.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(r)!=-1&&t=="cryptojs"){try{var n=wv.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[r];this.mac=th.algo.HMAC.create(n,this.pass)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+r+"/"+e}this.updateString=function(e){this.mac.update(e)};this.updateHex=function(e){var t=th.enc.Hex.parse(e);this.mac.update(t)};this.doFinal=function(){var e=this.mac.finalize();return e.toString(th.enc.Hex)};this.doFinalString=function(e){this.updateString(e);return this.doFinal()};this.doFinalHex=function(e){this.updateHex(e);return this.doFinal()}}};this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv};this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv};this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv};this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv};this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv};this.setPassword=function(e){if(typeof e=="string"){var t=e;if(e.length%2==1||!e.match(/^[0-9A-Fa-f]+$/)){t=Hv(e)}this.pass=th.enc.Hex.parse(t);return}if(typeof e!="object"){throw"KJUR.crypto.Mac unsupported password type: "+e}var t=null;if(e.hex!==undefined){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/)){throw"Mac: wrong hex password: "+e.hex}t=e.hex}if(e.utf8!==undefined){t=jv(e.utf8)}if(e.rstr!==undefined){t=Hv(e.rstr)}if(e.b64!==undefined){t=sh(e.b64)}if(e.b64u!==undefined){t=Rv(e.b64u)}if(t==null){throw"KJUR.crypto.Mac unsupported password type: "+e}this.pass=th.enc.Hex.parse(t)};if(e!==undefined){if(e.pass!==undefined){this.setPassword(e.pass)}if(e.alg!==undefined){this.algName=e.alg;if(e.prov===undefined){this.provName=wv.crypto.Util.DEFAULTPROVIDER[this.algName]}this.setAlgAndProvider(this.algName,this.provName)}}};wv.crypto.Signature=function(e){var t=null;this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);if(e){this.mdAlgName=e[1].toLowerCase();this.pubkeyAlgName=e[2].toLowerCase()}};this._zeroPaddingOfSignature=function(e,t){var r="";var n=t/4-e.length;for(var i=0;i<n;i++){r=r+"0"}return r+e};this.setAlgAndProvider=function(e,t){this._setAlgNames();if(t!="cryptojs/jsrsa"){throw"provider not supported: "+t}if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new wv.crypto.MessageDigest({alg:this.mdAlgName})}catch(e){throw"setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+e}this.init=function(e,t){var r=null;try{if(t===undefined){r=cg.getKey(e)}else{r=cg.getKey(e,t)}}catch(e){throw"init failed:"+e}if(r.isPrivate===true){this.prvKey=r;this.state="SIGN"}else{if(r.isPublic===true){this.pubKey=r;this.state="VERIFY"}else{throw"init failed.:"+r}}};this.updateString=function(e){this.md.updateString(e)};this.updateHex=function(e){this.md.updateHex(e)};this.sign=function(){this.sHashHex=this.md.digest();if(typeof this.ecprvhex!="undefined"&&typeof this.eccurvename!="undefined"){var e=new wv.crypto.ECDSA({curve:this.eccurvename});this.hSign=e.signHex(this.sHashHex,this.ecprvhex)}else{if(this.prvKey instanceof Rp&&this.pubkeyAlgName==="rsaandmgf1"){this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen)}else{if(this.prvKey instanceof Rp&&this.pubkeyAlgName==="rsa"){this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName)}else{if(this.prvKey instanceof wv.crypto.ECDSA){this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}else{if(this.prvKey instanceof wv.crypto.DSA){this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}else{throw"Signature: unsupported private key alg: "+this.pubkeyAlgName}}}}}return this.hSign};this.signString=function(e){this.updateString(e);return this.sign()};this.signHex=function(e){this.updateHex(e);return this.sign()};this.verify=function(e){this.sHashHex=this.md.digest();if(typeof this.ecpubhex!="undefined"&&typeof this.eccurvename!="undefined"){var t=new wv.crypto.ECDSA({curve:this.eccurvename});return t.verifyHex(this.sHashHex,e,this.ecpubhex)}else{if(this.pubKey instanceof Rp&&this.pubkeyAlgName==="rsaandmgf1"){return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen)}else{if(this.pubKey instanceof Rp&&this.pubkeyAlgName==="rsa"){return this.pubKey.verifyWithMessageHash(this.sHashHex,e)}else{if(wv.crypto.ECDSA!==undefined&&this.pubKey instanceof wv.crypto.ECDSA){return this.pubKey.verifyWithMessageHash(this.sHashHex,e)}else{if(wv.crypto.DSA!==undefined&&this.pubKey instanceof wv.crypto.DSA){return this.pubKey.verifyWithMessageHash(this.sHashHex,e)}else{throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}}}}}}};this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName};this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName};this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName};this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName};this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName};this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName};this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName};this.initParams=e;if(e!==undefined){if(e.alg!==undefined){this.algName=e.alg;if(e.prov===undefined){this.provName=wv.crypto.Util.DEFAULTPROVIDER[this.algName]}else{this.provName=e.prov}this.algProvName=this.algName+":"+this.provName;this.setAlgAndProvider(this.algName,this.provName);this._setAlgNames()}if(e.psssaltlen!==undefined){this.pssSaltLen=e.psssaltlen}if(e.prvkeypem!==undefined){if(e.prvkeypas!==undefined){throw"both prvkeypem and prvkeypas parameters not supported"}else{try{var t=cg.getKey(e.prvkeypem);this.init(t)}catch(e){throw"fatal error to load pem private key: "+e}}}}};wv.crypto.Cipher=function(e){};wv.crypto.Cipher.encrypt=function(e,t,r){if(t instanceof Rp&&t.isPublic){var n=wv.crypto.Cipher.getAlgByKeyAndName(t,r);if(n==="RSA"){return t.encrypt(e)}if(n==="RSAOAEP"){return t.encryptOAEP(e,"sha1")}var i=n.match(/^RSAOAEP(\d+)$/);if(i!==null){return t.encryptOAEP(e,"sha"+i[1])}throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+r}else{throw"Cipher.encrypt: unsupported key or algorithm"}};wv.crypto.Cipher.decrypt=function(e,t,r){if(t instanceof Rp&&t.isPrivate){var n=wv.crypto.Cipher.getAlgByKeyAndName(t,r);if(n==="RSA"){return t.decrypt(e)}if(n==="RSAOAEP"){return t.decryptOAEP(e,"sha1")}var i=n.match(/^RSAOAEP(\d+)$/);if(i!==null){return t.decryptOAEP(e,"sha"+i[1])}throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+r}else{throw"Cipher.decrypt: unsupported key or algorithm"}};wv.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof Rp){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t)!=-1){return t}if(t===null||t===undefined){return"RSA"}throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t};wv.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}};if(typeof wv=="undefined"||!wv){wv={}}if(typeof wv.crypto=="undefined"||!wv.crypto){wv.crypto={}}wv.crypto.ECDSA=function(e){var t="secp256r1";var r=new Tp;this.type="EC";this.isPrivate=false;this.isPublic=false;this.getBigRandom=function(e){return new uh(e.bitLength(),r).mod(e.subtract(uh.ONE)).add(uh.ONE)};this.setNamedCurve=function(e){this.ecparams=wv.crypto.ECParameterDB.getByName(e);this.prvKeyHex=null;this.pubKeyHex=null;this.curveName=e};this.setPrivateKeyHex=function(e){this.isPrivate=true;this.prvKeyHex=e};this.setPublicKeyHex=function(e){this.isPublic=true;this.pubKeyHex=e};this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if(e.substr(0,2)!=="04"){throw"this method supports uncompressed format(04) only"}var t=this.ecparams.keylen/4;if(e.length!==2+t*2){throw"malformed public key hex length"}var r={};r.x=e.substr(2,t);r.y=e.substr(2+t);return r};this.getShortNISTPCurveName=function(){var e=this.curveName;if(e==="secp256r1"||e==="NIST P-256"||e==="P-256"||e==="prime256v1"){return"P-256"}if(e==="secp384r1"||e==="NIST P-384"||e==="P-384"){return"P-384"}return null};this.generateKeyPairHex=function(){var e=this.ecparams.n;var t=this.getBigRandom(e);var r=this.ecparams.G.multiply(t);var n=r.getX().toBigInteger();var i=r.getY().toBigInteger();var s=this.ecparams.keylen/4;var a=("0000000000"+t.toString(16)).slice(-s);var o=("0000000000"+n.toString(16)).slice(-s);var u=("0000000000"+i.toString(16)).slice(-s);var c="04"+o+u;this.setPrivateKeyHex(a);this.setPublicKeyHex(c);return{ecprvhex:a,ecpubhex:c}};this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)};this.signHex=function(e,t){var r=new uh(t,16);var n=this.ecparams.n;var i=new uh(e,16);do{var s=this.getBigRandom(n);var a=this.ecparams.G;var o=a.multiply(s);var u=o.getX().toBigInteger().mod(n)}while(u.compareTo(uh.ZERO)<=0);var c=s.modInverse(n).multiply(i.add(r.multiply(u))).mod(n);return wv.crypto.ECDSA.biRSSigToASN1Sig(u,c)};this.sign=function(e,t){var r=t;var n=this.ecparams.n;var i=uh.fromByteArrayUnsigned(e);do{var s=this.getBigRandom(n);var a=this.ecparams.G;var o=a.multiply(s);var u=o.getX().toBigInteger().mod(n)}while(u.compareTo(uh.ZERO)<=0);var c=s.modInverse(n).multiply(i.add(r.multiply(u))).mod(n);return this.serializeSig(u,c)};this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)};this.verifyHex=function(e,t,r){var n,i;var s=wv.crypto.ECDSA.parseSigHex(t);n=s.r;i=s.s;var a;a=ev.decodeFromHex(this.ecparams.curve,r);var o=new uh(e,16);return this.verifyRaw(o,n,i,a)};this.verify=function(e,t,r){var n,i;if(Bitcoin.Util.isArray(t)){var s=this.parseSig(t);n=s.r;i=s.s}else{if("object"===typeof t&&t.r&&t.s){n=t.r;i=t.s}else{throw"Invalid value for signature"}}var a;if(r instanceof ev){a=r}else{if(Bitcoin.Util.isArray(r)){a=ev.decodeFrom(this.ecparams.curve,r)}else{throw"Invalid format for pubkey value, must be byte array or ECPointFp"}}var o=uh.fromByteArrayUnsigned(e);return this.verifyRaw(o,n,i,a)};this.verifyRaw=function(e,t,r,n){var i=this.ecparams.n;var s=this.ecparams.G;if(t.compareTo(uh.ONE)<0||t.compareTo(i)>=0){return false}if(r.compareTo(uh.ONE)<0||r.compareTo(i)>=0){return false}var a=r.modInverse(i);var o=e.multiply(a).mod(i);var u=t.multiply(a).mod(i);var c=s.multiply(o).add(n.multiply(u));var f=c.getX().toBigInteger().mod(i);return f.equals(t)};this.serializeSig=function(e,t){var r=e.toByteArraySigned();var n=t.toByteArraySigned();var i=[];i.push(2);i.push(r.length);i=i.concat(r);i.push(2);i.push(n.length);i=i.concat(n);i.unshift(i.length);i.unshift(48);return i};this.parseSig=function(e){var t;if(e[0]!=48){throw new Error("Signature not a valid DERSequence")}t=2;if(e[t]!=2){throw new Error("First element in signature must be a DERInteger")}var r=e.slice(t+2,t+2+e[t+1]);t+=2+e[t+1];if(e[t]!=2){throw new Error("Second element in signature must be a DERInteger")}var n=e.slice(t+2,t+2+e[t+1]);t+=2+e[t+1];var i=uh.fromByteArrayUnsigned(r);var s=uh.fromByteArrayUnsigned(n);return{r:i,s:s}};this.parseSigCompact=function(e){if(e.length!==65){throw"Signature has the wrong length"}var t=e[0]-27;if(t<0||t>7){throw"Invalid signature type"}var r=this.ecparams.n;var n=uh.fromByteArrayUnsigned(e.slice(1,33)).mod(r);var i=uh.fromByteArrayUnsigned(e.slice(33,65)).mod(r);return{r:n,s:i,i:t}};this.readPKCS5PrvKeyHex=function(e){var t=bv;var r=wv.crypto.ECDSA.getName;var n=t.getVbyList;if(t.isASN1HEX(e)===false){throw"not ASN.1 hex string"}var i,s,a;try{i=n(e,0,[2,0],"06");s=n(e,0,[1],"04");try{a=n(e,0,[3,0],"03").substr(2)}catch(e){}}catch(e){throw"malformed PKCS#1/5 plain ECC private key"}this.curveName=r(i);if(this.curveName===undefined){throw"unsupported curve name"}this.setNamedCurve(this.curveName);this.setPublicKeyHex(a);this.setPrivateKeyHex(s);this.isPublic=false};this.readPKCS8PrvKeyHex=function(e){var t=bv;var r=wv.crypto.ECDSA.getName;var n=t.getVbyList;if(t.isASN1HEX(e)===false){throw"not ASN.1 hex string"}var i,s,a,o;try{i=n(e,0,[1,0],"06");s=n(e,0,[1,1],"06");a=n(e,0,[2,0,1],"04");try{o=n(e,0,[2,0,2,0],"03").substr(2)}catch(e){}}catch(e){throw"malformed PKCS#8 plain ECC private key"}this.curveName=r(s);if(this.curveName===undefined){throw"unsupported curve name"}this.setNamedCurve(this.curveName);this.setPublicKeyHex(o);this.setPrivateKeyHex(a);this.isPublic=false};this.readPKCS8PubKeyHex=function(e){var t=bv;var r=wv.crypto.ECDSA.getName;var n=t.getVbyList;if(t.isASN1HEX(e)===false){throw"not ASN.1 hex string"}var i,s,a;try{i=n(e,0,[0,0],"06");s=n(e,0,[0,1],"06");a=n(e,0,[1],"03").substr(2)}catch(e){throw"malformed PKCS#8 ECC public key"}this.curveName=r(s);if(this.curveName===null){throw"unsupported curve name"}this.setNamedCurve(this.curveName);this.setPublicKeyHex(a)};this.readCertPubKeyHex=function(e,t){if(t!==5){t=6}var r=bv;var n=wv.crypto.ECDSA.getName;var i=r.getVbyList;if(r.isASN1HEX(e)===false){throw"not ASN.1 hex string"}var s,a;try{s=i(e,0,[0,t,0,1],"06");a=i(e,0,[0,t,1],"03").substr(2)}catch(e){throw"malformed X.509 certificate ECC public key"}this.curveName=n(s);if(this.curveName===null){throw"unsupported curve name"}this.setNamedCurve(this.curveName);this.setPublicKeyHex(a)};if(e!==undefined){if(e.curve!==undefined){this.curveName=e.curve}}if(this.curveName===undefined){this.curveName=t}this.setNamedCurve(this.curveName);if(e!==undefined){if(e.prv!==undefined){this.setPrivateKeyHex(e.prv)}if(e.pub!==undefined){this.setPublicKeyHex(e.pub)}}};wv.crypto.ECDSA.parseSigHex=function(e){var t=wv.crypto.ECDSA.parseSigHexInHexRS(e);var r=new uh(t.r,16);var n=new uh(t.s,16);return{r:r,s:n}};wv.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=bv;var r=t.getChildIdx;var n=t.getV;if(e.substr(0,2)!="30"){throw"signature is not a ASN.1 sequence"}var i=r(e,0);if(i.length!=2){throw"number of signature ASN.1 sequence elements seem wrong"}var s=i[0];var a=i[1];if(e.substr(s,2)!="02"){throw"1st item of sequene of signature is not ASN.1 integer"}if(e.substr(a,2)!="02"){throw"2nd item of sequene of signature is not ASN.1 integer"}var o=n(e,s);var u=n(e,a);return{r:o,s:u}};wv.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=wv.crypto.ECDSA.parseSigHexInHexRS(e);var r=t.r;var n=t.s;if(r.substr(0,2)=="00"&&r.length%32==2){r=r.substr(2)}if(n.substr(0,2)=="00"&&n.length%32==2){n=n.substr(2)}if(r.length%32==30){r="00"+r}if(n.length%32==30){n="00"+n}if(r.length%32!=0){throw"unknown ECDSA sig r length error"}if(n.length%32!=0){throw"unknown ECDSA sig s length error"}return r+n};wv.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%(16*8)!=0){throw"unknown ECDSA concatinated r-s sig  length error"}var t=e.substr(0,e.length/2);var r=e.substr(e.length/2);return wv.crypto.ECDSA.hexRSSigToASN1Sig(t,r)};wv.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var r=new uh(e,16);var n=new uh(t,16);return wv.crypto.ECDSA.biRSSigToASN1Sig(r,n)};wv.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var r=wv.asn1;var n=new r.DERInteger({bigint:e});var i=new r.DERInteger({bigint:t});var s=new r.DERSequence({array:[n,i]});return s.getEncodedHex()};wv.crypto.ECDSA.getName=function(e){if(e==="2a8648ce3d030107"){return"secp256r1"}if(e==="2b8104000a"){return"secp256k1"}if(e==="2b81040022"){return"secp384r1"}if("|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)!==-1){return"secp256r1"}if("|secp256k1|".indexOf(e)!==-1){return"secp256k1"}if("|secp384r1|NIST P-384|P-384|".indexOf(e)!==-1){return"secp384r1"}return null};if(typeof wv=="undefined"||!wv){wv={}}if(typeof wv.crypto=="undefined"||!wv.crypto){wv.crypto={}}wv.crypto.ECParameterDB=new function(){var e={};var t={};function r(e){return new uh(e,16)}this.getByName=function(r){var n=r;if(typeof t[n]!="undefined"){n=t[r]}if(typeof e[n]!="undefined"){return e[n]}throw"unregistered EC curve name: "+n};this.regist=function(n,i,s,a,o,u,c,f,l,h,d,p){e[n]={};var v=r(s);var g=r(a);var y=r(o);var m=r(u);var b=r(c);var w=new fv(v,g,y);var S=w.decodePointHex("04"+f+l);e[n]["name"]=n;e[n]["keylen"]=i;e[n]["curve"]=w;e[n]["G"]=S;e[n]["n"]=m;e[n]["h"]=b;e[n]["oid"]=d;e[n]["info"]=p;for(var E=0;E<h.length;E++){t[h[E]]=n}}};wv.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field");wv.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field");wv.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field");wv.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]);wv.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]);wv.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]);wv.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]);wv.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]);wv.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]);wv.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);if(typeof wv=="undefined"||!wv){wv={}}if(typeof wv.crypto=="undefined"||!wv.crypto){wv.crypto={}}wv.crypto.DSA=function(){this.p=null;this.q=null;this.g=null;this.y=null;this.x=null;this.type="DSA";this.isPrivate=false;this.isPublic=false;this.setPrivate=function(e,t,r,n,i){this.isPrivate=true;this.p=e;this.q=t;this.g=r;this.y=n;this.x=i};this.setPrivateHex=function(e,t,r,n,i){var s,a,o,u,c;s=new uh(e,16);a=new uh(t,16);o=new uh(r,16);if(typeof n==="string"&&n.length>1){u=new uh(n,16)}else{u=null}c=new uh(i,16);this.setPrivate(s,a,o,u,c)};this.setPublic=function(e,t,r,n){this.isPublic=true;this.p=e;this.q=t;this.g=r;this.y=n;this.x=null};this.setPublicHex=function(e,t,r,n){var i,s,a,o;i=new uh(e,16);s=new uh(t,16);a=new uh(r,16);o=new uh(n,16);this.setPublic(i,s,a,o)};this.signWithMessageHash=function(e){var t=this.p;var r=this.q;var n=this.g;var i=this.x;var s=wv.crypto.Util.getRandomBigIntegerMinToMax(uh.ONE.add(uh.ONE),r.subtract(uh.ONE));var a=e.substr(0,r.bitLength()/4);var o=new uh(a,16);var u=n.modPow(s,t).mod(r);var c=s.modInverse(r).multiply(o.add(i.multiply(u))).mod(r);var f=wv.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:u}},{int:{bigint:c}}]});return f};this.verifyWithMessageHash=function(e,t){var r=this.p;var n=this.q;var i=this.g;var s=this.y;var a=this.parseASN1Signature(t);var o=a[0];var u=a[1];var c=e.substr(0,n.bitLength()/4);var f=new uh(c,16);if(uh.ZERO.compareTo(o)>0||o.compareTo(n)>0){throw"invalid DSA signature"}if(uh.ZERO.compareTo(u)>=0||u.compareTo(n)>0){throw"invalid DSA signature"}var l=u.modInverse(n);var h=f.multiply(l).mod(n);var d=o.multiply(l).mod(n);var p=i.modPow(h,r).multiply(s.modPow(d,r)).mod(r).mod(n);return p.compareTo(o)==0};this.parseASN1Signature=function(e){try{var t=new uh(bv.getVbyList(e,0,[0],"02"),16);var r=new uh(bv.getVbyList(e,0,[1],"02"),16);return[t,r]}catch(e){throw"malformed ASN.1 DSA signature"}};this.readPKCS5PrvKeyHex=function(e){var t,r,n,i,s;var a=bv;var o=a.getVbyList;if(a.isASN1HEX(e)===false){throw"not ASN.1 hex string"}try{t=o(e,0,[1],"02");r=o(e,0,[2],"02");n=o(e,0,[3],"02");i=o(e,0,[4],"02");s=o(e,0,[5],"02")}catch(e){console.log("EXCEPTION:"+e);throw"malformed PKCS#1/5 plain DSA private key"}this.setPrivateHex(t,r,n,i,s)};this.readPKCS8PrvKeyHex=function(e){var t,r,n,i;var s=bv;var a=s.getVbyList;if(s.isASN1HEX(e)===false){throw"not ASN.1 hex string"}try{t=a(e,0,[1,1,0],"02");r=a(e,0,[1,1,1],"02");n=a(e,0,[1,1,2],"02");i=a(e,0,[2,0],"02")}catch(e){console.log("EXCEPTION:"+e);throw"malformed PKCS#8 plain DSA private key"}this.setPrivateHex(t,r,n,null,i)};this.readPKCS8PubKeyHex=function(e){var t,r,n,i;var s=bv;var a=s.getVbyList;if(s.isASN1HEX(e)===false){throw"not ASN.1 hex string"}try{t=a(e,0,[0,1,0],"02");r=a(e,0,[0,1,1],"02");n=a(e,0,[0,1,2],"02");i=a(e,0,[1,0],"02")}catch(e){console.log("EXCEPTION:"+e);throw"malformed PKCS#8 DSA public key"}this.setPublicHex(t,r,n,i)};this.readCertPubKeyHex=function(e,t){if(t!==5){t=6}var r,n,i,s;var a=bv;var o=a.getVbyList;if(a.isASN1HEX(e)===false){throw"not ASN.1 hex string"}try{r=o(e,0,[0,t,0,1,0],"02");n=o(e,0,[0,t,0,1,1],"02");i=o(e,0,[0,t,0,1,2],"02");s=o(e,0,[0,t,1,0],"02")}catch(e){console.log("EXCEPTION:"+e);throw"malformed X.509 certificate DSA public key"}this.setPublicHex(r,n,i,s)}};var cg=function(){var e=function(e,t,r){return n(th.AES,e,t,r)};var t=function(e,t,r){return n(th.TripleDES,e,t,r)};var r=function(e,t,r){return n(th.DES,e,t,r)};var n=function(e,t,r,n){var i=th.enc.Hex.parse(t);var s=th.enc.Hex.parse(r);var a=th.enc.Hex.parse(n);var o={};o.key=s;o.iv=a;o.ciphertext=i;var u=e.decrypt(o,s,{iv:a});return th.enc.Hex.stringify(u)};var i=function(e,t,r){return o(th.AES,e,t,r)};var s=function(e,t,r){return o(th.TripleDES,e,t,r)};var a=function(e,t,r){return o(th.DES,e,t,r)};var o=function(e,t,r,n){var i=th.enc.Hex.parse(t);var s=th.enc.Hex.parse(r);var a=th.enc.Hex.parse(n);var o=e.encrypt(i,s,{iv:a});var u=th.enc.Hex.parse(o.toString());var c=th.enc.Base64.stringify(u);return c};var u={"AES-256-CBC":{proc:e,eproc:i,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:i,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:i,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:t,eproc:s,keylen:24,ivlen:8},"DES-CBC":{proc:r,eproc:a,keylen:8,ivlen:8}};var c=function(e){var t=th.lib.WordArray.random(e);var r=th.enc.Hex.stringify(t);return r};var f=function(e){var t={};var r=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));if(r){t.cipher=r[1];t.ivsalt=r[2]}var n=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));if(n){t.type=n[1]}var i=-1;var s=0;if(e.indexOf("\r\n\r\n")!=-1){i=e.indexOf("\r\n\r\n");s=2}if(e.indexOf("\n\n")!=-1){i=e.indexOf("\n\n");s=1}var a=e.indexOf("-----END");if(i!=-1&&a!=-1){var o=e.substring(i+s*2,a-s);o=o.replace(/\s+/g,"");t.data=o}return t};var l=function(e,t,r){var n=r.substring(0,16);var i=th.enc.Hex.parse(n);var s=th.enc.Utf8.parse(t);var a=u[e]["keylen"]+u[e]["ivlen"];var o="";var c=null;for(;;){var f=th.algo.MD5.create();if(c!=null){f.update(c)}f.update(s);f.update(i);c=f.finalize();o=o+th.enc.Hex.stringify(c);if(o.length>=a*2){break}}var l={};l.keyhex=o.substr(0,u[e]["keylen"]*2);l.ivhex=o.substr(u[e]["keylen"]*2,u[e]["ivlen"]*2);return l};var h=function(e,t,r,n){var i=th.enc.Base64.parse(e);var s=th.enc.Hex.stringify(i);var a=u[t]["proc"];var o=a(s,r,n);return o};var d=function(e,t,r,n){var i=u[t]["eproc"];var s=i(e,r,n);return s};return{version:"1.0.0",parsePKCS5PEM:function(e){return f(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,r){return l(e,t,r)},decryptKeyB64:function(e,t,r,n){return h(e,t,r,n)},getDecryptedKeyHex:function(e,t){var r=f(e);var n=r.cipher;var i=r.ivsalt;var s=r.data;var a=l(n,t,i);var o=a.keyhex;var u=h(s,n,o,i);return u},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,r,n,i){var s="";if(typeof n=="undefined"||n==null){n="AES-256-CBC"}if(typeof u[n]=="undefined"){throw"KEYUTIL unsupported algorithm: "+n}if(typeof i=="undefined"||i==null){var a=u[n]["ivlen"];var o=c(a);i=o.toUpperCase()}var f=l(n,r,i);var h=f.keyhex;var p=d(t,n,h,i);var v=p.replace(/(.{64})/g,"$1\r\n");var s="-----BEGIN "+e+" PRIVATE KEY-----\r\n";s+="Proc-Type: 4,ENCRYPTED\r\n";s+="DEK-Info: "+n+","+i+"\r\n";s+="\r\n";s+=v;s+="\r\n-----END "+e+" PRIVATE KEY-----\r\n";return s},parseHexOfEncryptedPKCS8:function(e){var t=bv;var r=t.getChildIdx;var n=t.getV;var i={};var s=r(e,0);if(s.length!=2){throw"malformed format: SEQUENCE(0).items != 2: "+s.length}i.ciphertext=n(e,s[1]);var a=r(e,s[0]);if(a.length!=2){throw"malformed format: SEQUENCE(0.0).items != 2: "+a.length}if(n(e,a[0])!="2a864886f70d01050d"){throw"this only supports pkcs5PBES2"}var o=r(e,a[1]);if(a.length!=2){throw"malformed format: SEQUENCE(0.0.1).items != 2: "+o.length}var u=r(e,o[1]);if(u.length!=2){throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+u.length}if(n(e,u[0])!="2a864886f70d0307"){throw"this only supports TripleDES"}i.encryptionSchemeAlg="TripleDES";i.encryptionSchemeIV=n(e,u[1]);var c=r(e,o[0]);if(c.length!=2){throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+c.length}if(n(e,c[0])!="2a864886f70d01050c"){throw"this only supports pkcs5PBKDF2"}var f=r(e,c[1]);if(f.length<2){throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+f.length}i.pbkdf2Salt=n(e,f[0]);var l=n(e,f[1]);try{i.pbkdf2Iter=parseInt(l,16)}catch(e){throw"malformed format pbkdf2Iter: "+l}return i},getPBKDF2KeyHexFromParam:function(e,t){var r=th.enc.Hex.parse(e.pbkdf2Salt);var n=e.pbkdf2Iter;var i=th.PBKDF2(t,r,{keySize:192/32,iterations:n});var s=th.enc.Hex.stringify(i);return s},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var r=Kv(e,"ENCRYPTED PRIVATE KEY");var n=this.parseHexOfEncryptedPKCS8(r);var i=cg.getPBKDF2KeyHexFromParam(n,t);var s={};s.ciphertext=th.enc.Hex.parse(n.ciphertext);var a=th.enc.Hex.parse(i);var o=th.enc.Hex.parse(n.encryptionSchemeIV);var u=th.TripleDES.decrypt(s,a,{iv:o});var c=th.enc.Hex.stringify(u);return c},getKeyFromEncryptedPKCS8PEM:function(e,t){var r=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);var n=this.getKeyFromPlainPrivatePKCS8Hex(r);return n},parsePlainPrivatePKCS8Hex:function(e){var t=bv;var r=t.getChildIdx;var n=t.getV;var i={};i.algparam=null;if(e.substr(0,2)!="30"){throw"malformed plain PKCS8 private key(code:001)"}var s=r(e,0);if(s.length!=3){throw"malformed plain PKCS8 private key(code:002)"}if(e.substr(s[1],2)!="30"){throw"malformed PKCS8 private key(code:003)"}var a=r(e,s[1]);if(a.length!=2){throw"malformed PKCS8 private key(code:004)"}if(e.substr(a[0],2)!="06"){throw"malformed PKCS8 private key(code:005)"}i.algoid=n(e,a[0]);if(e.substr(a[1],2)=="06"){i.algparam=n(e,a[1])}if(e.substr(s[2],2)!="04"){throw"malformed PKCS8 private key(code:006)"}i.keyidx=t.getVidx(e,s[2]);return i},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=Kv(e,"PRIVATE KEY");var r=this.getKeyFromPlainPrivatePKCS8Hex(t);return r},getKeyFromPlainPrivatePKCS8Hex:function(e){var t=this.parsePlainPrivatePKCS8Hex(e);var r;if(t.algoid=="2a864886f70d010101"){r=new Rp}else{if(t.algoid=="2a8648ce380401"){r=new wv.crypto.DSA}else{if(t.algoid=="2a8648ce3d0201"){r=new wv.crypto.ECDSA}else{throw"unsupported private key algorithm"}}}r.readPKCS8PrvKeyHex(e);return r},_getKeyFromPublicPKCS8Hex:function(e){var t;var r=bv.getVbyList(e,0,[0,0],"06");if(r==="2a864886f70d010101"){t=new Rp}else{if(r==="2a8648ce380401"){t=new wv.crypto.DSA}else{if(r==="2a8648ce3d0201"){t=new wv.crypto.ECDSA}else{throw"unsupported PKCS#8 public key hex"}}}t.readPKCS8PubKeyHex(e);return t},parsePublicRawRSAKeyHex:function(e){var t=bv;var r=t.getChildIdx;var n=t.getV;var i={};if(e.substr(0,2)!="30"){throw"malformed RSA key(code:001)"}var s=r(e,0);if(s.length!=2){throw"malformed RSA key(code:002)"}if(e.substr(s[0],2)!="02"){throw"malformed RSA key(code:003)"}i.n=n(e,s[0]);if(e.substr(s[1],2)!="02"){throw"malformed RSA key(code:004)"}i.e=n(e,s[1]);return i},parsePublicPKCS8Hex:function(e){var t=bv;var r=t.getChildIdx;var n=t.getV;var i={};i.algparam=null;var s=r(e,0);if(s.length!=2){throw"outer DERSequence shall have 2 elements: "+s.length}var a=s[0];if(e.substr(a,2)!="30"){throw"malformed PKCS8 public key(code:001)"}var o=r(e,a);if(o.length!=2){throw"malformed PKCS8 public key(code:002)"}if(e.substr(o[0],2)!="06"){throw"malformed PKCS8 public key(code:003)"}i.algoid=n(e,o[0]);if(e.substr(o[1],2)=="06"){i.algparam=n(e,o[1])}else{if(e.substr(o[1],2)=="30"){i.algparam={};i.algparam.p=t.getVbyList(e,o[1],[0],"02");i.algparam.q=t.getVbyList(e,o[1],[1],"02");i.algparam.g=t.getVbyList(e,o[1],[2],"02")}}if(e.substr(s[1],2)!="03"){throw"malformed PKCS8 public key(code:004)"}i.key=n(e,s[1]).substr(2);return i}}}();cg.getKey=function(e,t,r){var n=bv,i=n.getChildIdx,s=n.getVbyList,a=wv.crypto,o=a.ECDSA,u=a.DSA,c=Rp,f=Kv,l=cg;if(typeof c!="undefined"&&e instanceof c){return e}if(typeof o!="undefined"&&e instanceof o){return e}if(typeof u!="undefined"&&e instanceof u){return e}if(e.curve!==undefined&&e.xy!==undefined&&e.d===undefined){return new o({pub:e.xy,curve:e.curve})}if(e.curve!==undefined&&e.d!==undefined){return new o({prv:e.d,curve:e.curve})}if(e.kty===undefined&&e.n!==undefined&&e.e!==undefined&&e.d===undefined){var h=new c;h.setPublic(e.n,e.e);return h}if(e.kty===undefined&&e.n!==undefined&&e.e!==undefined&&e.d!==undefined&&e.p!==undefined&&e.q!==undefined&&e.dp!==undefined&&e.dq!==undefined&&e.co!==undefined&&e.qi===undefined){var h=new c;h.setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co);return h}if(e.kty===undefined&&e.n!==undefined&&e.e!==undefined&&e.d!==undefined&&e.p===undefined){var h=new c;h.setPrivate(e.n,e.e,e.d);return h}if(e.p!==undefined&&e.q!==undefined&&e.g!==undefined&&e.y!==undefined&&e.x===undefined){var h=new u;h.setPublic(e.p,e.q,e.g,e.y);return h}if(e.p!==undefined&&e.q!==undefined&&e.g!==undefined&&e.y!==undefined&&e.x!==undefined){var h=new u;h.setPrivate(e.p,e.q,e.g,e.y,e.x);return h}if(e.kty==="RSA"&&e.n!==undefined&&e.e!==undefined&&e.d===undefined){var h=new c;h.setPublic(Rv(e.n),Rv(e.e));return h}if(e.kty==="RSA"&&e.n!==undefined&&e.e!==undefined&&e.d!==undefined&&e.p!==undefined&&e.q!==undefined&&e.dp!==undefined&&e.dq!==undefined&&e.qi!==undefined){var h=new c;h.setPrivateEx(Rv(e.n),Rv(e.e),Rv(e.d),Rv(e.p),Rv(e.q),Rv(e.dp),Rv(e.dq),Rv(e.qi));return h}if(e.kty==="RSA"&&e.n!==undefined&&e.e!==undefined&&e.d!==undefined){var h=new c;h.setPrivate(Rv(e.n),Rv(e.e),Rv(e.d));return h}if(e.kty==="EC"&&e.crv!==undefined&&e.x!==undefined&&e.y!==undefined&&e.d===undefined){var d=new o({curve:e.crv});var p=d.ecparams.keylen/4;var v=("0000000000"+Rv(e.x)).slice(-p);var g=("0000000000"+Rv(e.y)).slice(-p);var y="04"+v+g;d.setPublicKeyHex(y);return d}if(e.kty==="EC"&&e.crv!==undefined&&e.x!==undefined&&e.y!==undefined&&e.d!==undefined){var d=new o({curve:e.crv});var p=d.ecparams.keylen/4;var v=("0000000000"+Rv(e.x)).slice(-p);var g=("0000000000"+Rv(e.y)).slice(-p);var y="04"+v+g;var m=("0000000000"+Rv(e.d)).slice(-p);d.setPublicKeyHex(y);d.setPrivateKeyHex(m);return d}if(r==="pkcs5prv"){var b=e,n=bv,w,h;w=i(b,0);if(w.length===9){h=new c;h.readPKCS5PrvKeyHex(b)}else{if(w.length===6){h=new u;h.readPKCS5PrvKeyHex(b)}else{if(w.length>2&&b.substr(w[1],2)==="04"){h=new o;h.readPKCS5PrvKeyHex(b)}else{throw"unsupported PKCS#1/5 hexadecimal key"}}}return h}if(r==="pkcs8prv"){var h=l.getKeyFromPlainPrivatePKCS8Hex(e);return h}if(r==="pkcs8pub"){return l._getKeyFromPublicPKCS8Hex(e)}if(r==="x509pub"){return pg.getPublicKeyFromCertHex(e)}if(e.indexOf("-END CERTIFICATE-",0)!=-1||e.indexOf("-END X509 CERTIFICATE-",0)!=-1||e.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1){return pg.getPublicKeyFromCertPEM(e)}if(e.indexOf("-END PUBLIC KEY-")!=-1){var S=Kv(e,"PUBLIC KEY");return l._getKeyFromPublicPKCS8Hex(S)}if(e.indexOf("-END RSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")==-1){var E=f(e,"RSA PRIVATE KEY");return l.getKey(E,null,"pkcs5prv")}if(e.indexOf("-END DSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")==-1){var x=f(e,"DSA PRIVATE KEY");var A=s(x,0,[1],"02");var F=s(x,0,[2],"02");var T=s(x,0,[3],"02");var C=s(x,0,[4],"02");var k=s(x,0,[5],"02");var h=new u;h.setPrivate(new uh(A,16),new uh(F,16),new uh(T,16),new uh(C,16),new uh(k,16));return h}if(e.indexOf("-END PRIVATE KEY-")!=-1){return l.getKeyFromPlainPrivatePKCS8PEM(e)}if(e.indexOf("-END RSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")!=-1){var I=l.getDecryptedKeyHex(e,t);var O=new Rp;O.readPKCS5PrvKeyHex(I);return O}if(e.indexOf("-END EC PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")!=-1){var x=l.getDecryptedKeyHex(e,t);var h=s(x,0,[1],"04");var R=s(x,0,[2,0],"06");var D=s(x,0,[3,0],"03").substr(2);var _="";if(wv.crypto.OID.oidhex2name[R]!==undefined){_=wv.crypto.OID.oidhex2name[R]}else{throw"undefined OID(hex) in KJUR.crypto.OID: "+R}var d=new o({curve:_});d.setPublicKeyHex(D);d.setPrivateKeyHex(h);d.isPublic=false;return d}if(e.indexOf("-END DSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")!=-1){var x=l.getDecryptedKeyHex(e,t);var A=s(x,0,[1],"02");var F=s(x,0,[2],"02");var T=s(x,0,[3],"02");var C=s(x,0,[4],"02");var k=s(x,0,[5],"02");var h=new u;h.setPrivate(new uh(A,16),new uh(F,16),new uh(T,16),new uh(C,16),new uh(k,16));return h}if(e.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1){return l.getKeyFromEncryptedPKCS8PEM(e,t)}throw"not supported argument"};cg.generateKeypair=function(e,t){if(e=="RSA"){var r=t;var n=new Rp;n.generate(r,"10001");n.isPrivate=true;n.isPublic=true;var i=new Rp;var s=n.n.toString(16);var a=n.e.toString(16);i.setPublic(s,a);i.isPrivate=false;i.isPublic=true;var o={};o.prvKeyObj=n;o.pubKeyObj=i;return o}else{if(e=="EC"){var u=t;var c=new wv.crypto.ECDSA({curve:u});var f=c.generateKeyPairHex();var n=new wv.crypto.ECDSA({curve:u});n.setPublicKeyHex(f.ecpubhex);n.setPrivateKeyHex(f.ecprvhex);n.isPrivate=true;n.isPublic=false;var i=new wv.crypto.ECDSA({curve:u});i.setPublicKeyHex(f.ecpubhex);i.isPrivate=false;i.isPublic=true;var o={};o.prvKeyObj=n;o.pubKeyObj=i;return o}else{throw"unknown algorithm: "+e}}};cg.getPEM=function(e,t,r,n,i,s){var a=wv,o=a.asn1,u=o.DERObjectIdentifier,c=o.DERInteger,f=o.ASN1Util.newObject,l=o.x509,h=l.SubjectPublicKeyInfo,d=a.crypto,p=d.DSA,v=d.ECDSA,g=Rp;function y(e){var t=f({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]});return t}function m(e){var t=f({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",true,{oid:{name:e.curveName}}]},{tag:["a1",true,{bitstr:{hex:"00"+e.pubKeyHex}}]}]});return t}function b(e){var t=f({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]});return t}if((g!==undefined&&e instanceof g||p!==undefined&&e instanceof p||v!==undefined&&e instanceof v)&&e.isPublic==true&&(t===undefined||t=="PKCS8PUB")){var w=new h(e);var S=w.getEncodedHex();return qv(S,"PUBLIC KEY")}if(t=="PKCS1PRV"&&g!==undefined&&e instanceof g&&(r===undefined||r==null)&&e.isPrivate==true){var w=y(e);var S=w.getEncodedHex();return qv(S,"RSA PRIVATE KEY")}if(t=="PKCS1PRV"&&v!==undefined&&e instanceof v&&(r===undefined||r==null)&&e.isPrivate==true){var E=new u({name:e.curveName});var x=E.getEncodedHex();var A=m(e);var F=A.getEncodedHex();var T="";T+=qv(x,"EC PARAMETERS");T+=qv(F,"EC PRIVATE KEY");return T}if(t=="PKCS1PRV"&&p!==undefined&&e instanceof p&&(r===undefined||r==null)&&e.isPrivate==true){var w=b(e);var S=w.getEncodedHex();return qv(S,"DSA PRIVATE KEY")}if(t=="PKCS5PRV"&&g!==undefined&&e instanceof g&&(r!==undefined&&r!=null)&&e.isPrivate==true){var w=y(e);var S=w.getEncodedHex();if(n===undefined){n="DES-EDE3-CBC"}return this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",S,r,n,s)}if(t=="PKCS5PRV"&&v!==undefined&&e instanceof v&&(r!==undefined&&r!=null)&&e.isPrivate==true){var w=m(e);var S=w.getEncodedHex();if(n===undefined){n="DES-EDE3-CBC"}return this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",S,r,n,s)}if(t=="PKCS5PRV"&&p!==undefined&&e instanceof p&&(r!==undefined&&r!=null)&&e.isPrivate==true){var w=b(e);var S=w.getEncodedHex();if(n===undefined){n="DES-EDE3-CBC"}return this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",S,r,n,s)}var C=function(e,t){var r=k(e,t);var n=new f({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:r.pbkdf2Salt}},{int:r.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:r.encryptionSchemeIV}}]}]}]},{octstr:{hex:r.ciphertext}}]});return n.getEncodedHex()};var k=function(e,t){var r=100;var n=th.lib.WordArray.random(8);var i="DES-EDE3-CBC";var s=th.lib.WordArray.random(8);var a=th.PBKDF2(t,n,{keySize:192/32,iterations:r});var o=th.enc.Hex.parse(e);var u=th.TripleDES.encrypt(o,a,{iv:s})+"";var c={};c.ciphertext=u;c.pbkdf2Salt=th.enc.Hex.stringify(n);c.pbkdf2Iter=r;c.encryptionSchemeAlg=i;c.encryptionSchemeIV=th.enc.Hex.stringify(s);return c};if(t=="PKCS8PRV"&&g!=undefined&&e instanceof g&&e.isPrivate==true){var I=y(e);var O=I.getEncodedHex();var w=f({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:true}]},{octstr:{hex:O}}]});var S=w.getEncodedHex();if(r===undefined||r==null){return qv(S,"PRIVATE KEY")}else{var F=C(S,r);return qv(F,"ENCRYPTED PRIVATE KEY")}}if(t=="PKCS8PRV"&&v!==undefined&&e instanceof v&&e.isPrivate==true){var I=new f({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",true,{bitstr:{hex:"00"+e.pubKeyHex}}]}]});var O=I.getEncodedHex();var w=f({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:O}}]});var S=w.getEncodedHex();if(r===undefined||r==null){return qv(S,"PRIVATE KEY")}else{var F=C(S,r);return qv(F,"ENCRYPTED PRIVATE KEY")}}if(t=="PKCS8PRV"&&p!==undefined&&e instanceof p&&e.isPrivate==true){var I=new c({bigint:e.x});var O=I.getEncodedHex();var w=f({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:O}}]});var S=w.getEncodedHex();if(r===undefined||r==null){return qv(S,"PRIVATE KEY")}else{var F=C(S,r);return qv(F,"ENCRYPTED PRIVATE KEY")}}throw"unsupported object nor format"};cg.getKeyFromCSRPEM=function(e){var t=Kv(e,"CERTIFICATE REQUEST");var r=cg.getKeyFromCSRHex(t);return r};cg.getKeyFromCSRHex=function(e){var t=cg.parseCSRHex(e);var r=cg.getKey(t.p8pubkeyhex,null,"pkcs8pub");return r};cg.parseCSRHex=function(e){var t=bv;var r=t.getChildIdx;var n=t.getTLV;var i={};var s=e;if(s.substr(0,2)!="30"){throw"malformed CSR(code:001)"}var a=r(s,0);if(a.length<1){throw"malformed CSR(code:002)"}if(s.substr(a[0],2)!="30"){throw"malformed CSR(code:003)"}var o=r(s,a[0]);if(o.length<3){throw"malformed CSR(code:004)"}i.p8pubkeyhex=n(s,o[2]);return i};cg.getJWKFromKey=function(e){var t={};if(e instanceof Rp&&e.isPrivate){t.kty="RSA";t.n=Ov(e.n.toString(16));t.e=Ov(e.e.toString(16));t.d=Ov(e.d.toString(16));t.p=Ov(e.p.toString(16));t.q=Ov(e.q.toString(16));t.dp=Ov(e.dmp1.toString(16));t.dq=Ov(e.dmq1.toString(16));t.qi=Ov(e.coeff.toString(16));return t}else{if(e instanceof Rp&&e.isPublic){t.kty="RSA";t.n=Ov(e.n.toString(16));t.e=Ov(e.e.toString(16));return t}else{if(e instanceof wv.crypto.ECDSA&&e.isPrivate){var r=e.getShortNISTPCurveName();if(r!=="P-256"&&r!=="P-384"){throw"unsupported curve name for JWT: "+r}var n=e.getPublicKeyXYHex();t.kty="EC";t.crv=r;t.x=Ov(n.x);t.y=Ov(n.y);t.d=Ov(e.prvKeyHex);return t}else{if(e instanceof wv.crypto.ECDSA&&e.isPublic){var r=e.getShortNISTPCurveName();if(r!=="P-256"&&r!=="P-384"){throw"unsupported curve name for JWT: "+r}var n=e.getPublicKeyXYHex();t.kty="EC";t.crv=r;t.x=Ov(n.x);t.y=Ov(n.y);return t}}}}throw"not supported key object"};Rp.getPosArrayOfChildrenFromHex=function(e){return bv.getChildIdx(e,0)};Rp.getHexValueArrayOfChildrenFromHex=function(e){var t=bv;var r=t.getV;var n=Rp.getPosArrayOfChildrenFromHex(e);var i=r(e,n[0]);var s=r(e,n[1]);var a=r(e,n[2]);var o=r(e,n[3]);var u=r(e,n[4]);var c=r(e,n[5]);var f=r(e,n[6]);var l=r(e,n[7]);var h=r(e,n[8]);var n=new Array;n.push(i,s,a,o,u,c,f,l,h);return n};Rp.prototype.readPrivateKeyFromPEMString=function(e){var t=Kv(e);var r=Rp.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])};Rp.prototype.readPKCS5PrvKeyHex=function(e){var t=Rp.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])};Rp.prototype.readPKCS8PrvKeyHex=function(e){var t,r,n,i,s,a,o,u;var c=bv;var f=c.getVbyList;if(c.isASN1HEX(e)===false){throw"not ASN.1 hex string"}try{t=f(e,0,[2,0,1],"02");r=f(e,0,[2,0,2],"02");n=f(e,0,[2,0,3],"02");i=f(e,0,[2,0,4],"02");s=f(e,0,[2,0,5],"02");a=f(e,0,[2,0,6],"02");o=f(e,0,[2,0,7],"02");u=f(e,0,[2,0,8],"02")}catch(e){throw"malformed PKCS#8 plain RSA private key"}this.setPrivateEx(t,r,n,i,s,a,o,u)};Rp.prototype.readPKCS5PubKeyHex=function(e){var t=bv;var r=t.getV;if(t.isASN1HEX(e)===false){throw"keyHex is not ASN.1 hex string"}var n=t.getChildIdx(e,0);if(n.length!==2||e.substr(n[0],2)!=="02"||e.substr(n[1],2)!=="02"){throw"wrong hex for PKCS#5 public key"}var i=r(e,n[0]);var s=r(e,n[1]);this.setPublic(i,s)};Rp.prototype.readPKCS8PubKeyHex=function(e){var t=bv;if(t.isASN1HEX(e)===false){throw"not ASN.1 hex string"}if(t.getTLVbyList(e,0,[0,0])!=="06092a864886f70d010101"){throw"not PKCS8 RSA public key"}var r=t.getTLVbyList(e,0,[1,0]);this.readPKCS5PubKeyHex(r)};Rp.prototype.readCertPubKeyHex=function(e,t){var r,n;r=new pg;r.readCertHex(e);n=r.getPublicKeyHex();this.readPKCS8PubKeyHex(n)};var fg=new RegExp("");fg.compile("[^0-9a-f]","gi");function lg(e,t){var r="";var n=t/4-e.length;for(var i=0;i<n;i++){r=r+"0"}return r+e}Rp.prototype.sign=function(e,t){var r=function(e){return wv.crypto.Util.hashString(e,t)};var n=r(e);return this.signWithMessageHash(n,t)};Rp.prototype.signWithMessageHash=function(e,t){var r=wv.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength());var n=Cp(r,16);var i=this.doPrivate(n);var s=i.toString(16);return lg(s,this.n.bitLength())};function hg(e,t,r){var n="",i=0;while(n.length<t){n+=Lv(r(Hv(e+String.fromCharCode.apply(String,[(i&4278190080)>>24,(i&16711680)>>16,(i&65280)>>8,i&255]))));i+=1}return n}Rp.prototype.signPSS=function(e,t,r){var n=function(e){return wv.crypto.Util.hashHex(e,t)};var i=n(Hv(e));if(r===undefined){r=-1}return this.signWithMessageHashPSS(i,t,r)};Rp.prototype.signWithMessageHashPSS=function(e,t,r){var n=Lv(e);var i=n.length;var s=this.n.bitLength()-1;var a=Math.ceil(s/8);var o;var u=function(e){return wv.crypto.Util.hashHex(e,t)};if(r===-1||r===undefined){r=i}else{if(r===-2){r=a-i-2}else{if(r<-2){throw"invalid salt length"}}}if(a<i+r+2){throw"data too long"}var c="";if(r>0){c=new Array(r);(new Tp).nextBytes(c);c=String.fromCharCode.apply(String,c)}var f=Lv(u(Hv("\0\0\0\0\0\0\0\0"+n+c)));var l=[];for(o=0;o<a-r-i-2;o+=1){l[o]=0}var h=String.fromCharCode.apply(String,l)+""+c;var d=hg(f,h.length,u);var p=[];for(o=0;o<h.length;o+=1){p[o]=h.charCodeAt(o)^d.charCodeAt(o)}var v=65280>>8*a-s&255;p[0]&=~v;for(o=0;o<i;o++){p.push(f.charCodeAt(o))}p.push(188);return lg(this.doPrivate(new uh(p)).toString(16),this.n.bitLength())};function dg(e){for(var t in wv.crypto.Util.DIGESTINFOHEAD){var r=wv.crypto.Util.DIGESTINFOHEAD[t];var n=r.length;if(e.substring(0,n)==r){var i=[t,e.substring(n)];return i}}return[]}Rp.prototype.verify=function(e,t){t=t.replace(fg,"");t=t.replace(/[ \n]+/g,"");var r=Cp(t,16);if(r.bitLength()>this.n.bitLength()){return 0}var n=this.doPublic(r);var i=n.toString(16).replace(/^1f+00/,"");var s=dg(i);if(s.length==0){return false}var a=s[0];var o=s[1];var u=function(e){return wv.crypto.Util.hashString(e,a)};var c=u(e);return o==c};Rp.prototype.verifyWithMessageHash=function(e,t){t=t.replace(fg,"");t=t.replace(/[ \n]+/g,"");var r=Cp(t,16);if(r.bitLength()>this.n.bitLength()){return 0}var n=this.doPublic(r);var i=n.toString(16).replace(/^1f+00/,"");var s=dg(i);if(s.length==0){return false}var a=s[1];return a==e};Rp.prototype.verifyPSS=function(e,t,r,n){var i=function(e){return wv.crypto.Util.hashHex(e,r)};var s=i(Hv(e));if(n===undefined){n=-1}return this.verifyWithMessageHashPSS(s,t,r,n)};Rp.prototype.verifyWithMessageHashPSS=function(e,t,r,n){var i=new uh(t,16);if(i.bitLength()>this.n.bitLength()){return false}var s=function(e){return wv.crypto.Util.hashHex(e,r)};var a=Lv(e);var o=a.length;var u=this.n.bitLength()-1;var c=Math.ceil(u/8);var f;if(n===-1||n===undefined){n=o}else{if(n===-2){n=c-o-2}else{if(n<-2){throw"invalid salt length"}}}if(c<o+n+2){throw"data too long"}var l=this.doPublic(i).toByteArray();for(f=0;f<l.length;f+=1){l[f]&=255}while(l.length<c){l.unshift(0)}if(l[c-1]!==188){throw"encoded message does not end in 0xbc"}l=String.fromCharCode.apply(String,l);var h=l.substr(0,c-o-1);var d=l.substr(h.length,o);var p=65280>>8*c-u&255;if((h.charCodeAt(0)&p)!==0){throw"bits beyond keysize not zero"}var v=hg(d,h.length,s);var g=[];for(f=0;f<h.length;f+=1){g[f]=h.charCodeAt(f)^v.charCodeAt(f)}g[0]&=~p;var y=c-o-n-2;for(f=0;f<y;f+=1){if(g[f]!==0){throw"leftmost octets not zero"}}if(g[y]!==1){throw"0x01 marker not found"}return d===Lv(s(Hv("\0\0\0\0\0\0\0\0"+a+String.fromCharCode.apply(String,g.slice(-n)))))};Rp.SALT_LEN_HLEN=-1;Rp.SALT_LEN_MAX=-2;Rp.SALT_LEN_RECOVER=-2;function pg(){var e=bv,t=e.getChildIdx,r=e.getV,n=e.getTLV,i=e.getVbyList,s=e.getTLVbyList,a=e.getIdxbyList,o=e.getVidx,u=e.oidname,c=pg,f=Kv;this.hex=null;this.version=0;this.foffset=0;this.aExtInfo=null;this.getVersion=function(){if(this.hex===null||this.version!==0){return this.version}if(s(this.hex,0,[0,0])!=="a003020102"){this.version=1;this.foffset=-1;return 1}this.version=3;return 3};this.getSerialNumberHex=function(){return i(this.hex,0,[0,1+this.foffset],"02")};this.getSignatureAlgorithmField=function(){return u(i(this.hex,0,[0,2+this.foffset,0],"06"))};this.getIssuerHex=function(){return s(this.hex,0,[0,3+this.foffset],"30")};this.getIssuerString=function(){return c.hex2dn(this.getIssuerHex())};this.getSubjectHex=function(){return s(this.hex,0,[0,5+this.foffset],"30")};this.getSubjectString=function(){return c.hex2dn(this.getSubjectHex())};this.getNotBefore=function(){var e=i(this.hex,0,[0,4+this.foffset,0]);e=e.replace(/(..)/g,"%$1");e=decodeURIComponent(e);return e};this.getNotAfter=function(){var e=i(this.hex,0,[0,4+this.foffset,1]);e=e.replace(/(..)/g,"%$1");e=decodeURIComponent(e);return e};this.getPublicKeyHex=function(){return e.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")};this.getPublicKeyIdx=function(){return a(this.hex,0,[0,6+this.foffset],"30")};this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return a(this.hex,e,[1,0],"30")};this.getPublicKey=function(){return cg.getKey(this.getPublicKeyHex(),null,"pkcs8pub")};this.getSignatureAlgorithmName=function(){return u(i(this.hex,0,[1,0],"06"))};this.getSignatureValueHex=function(){return i(this.hex,0,[2],"03",true)};this.verifySignature=function(e){var t=this.getSignatureAlgorithmName();var r=this.getSignatureValueHex();var n=s(this.hex,0,[0],"30");var i=new wv.crypto.Signature({alg:t});i.init(e);i.updateHex(n);return i.verify(r)};this.parseExt=function(){if(this.version!==3){return-1}var r=a(this.hex,0,[0,7,0],"30");var n=t(this.hex,r);this.aExtInfo=new Array;for(var s=0;s<n.length;s++){var u={};u.critical=false;var c=t(this.hex,n[s]);var f=0;if(c.length===3){u.critical=true;f=1}u.oid=e.hextooidstr(i(this.hex,n[s],[0],"06"));var l=a(this.hex,n[s],[1+f]);u.vidx=o(this.hex,l);this.aExtInfo.push(u)}};this.getExtInfo=function(e){var t=this.aExtInfo;var r=e;if(!e.match(/^[0-9.]+$/)){r=wv.asn1.x509.OID.name2oid(e)}if(r===""){return undefined}for(var n=0;n<t.length;n++){if(t[n].oid===r){return t[n]}}return undefined};this.getExtBasicConstraints=function(){var e=this.getExtInfo("basicConstraints");if(e===undefined){return e}var t=r(this.hex,e.vidx);if(t===""){return{}}if(t==="0101ff"){return{cA:true}}if(t.substr(0,8)==="0101ff02"){var n=r(t,6);var i=parseInt(n,16);return{cA:true,pathLen:i}}throw"basicConstraints parse error"};this.getExtKeyUsageBin=function(){var e=this.getExtInfo("keyUsage");if(e===undefined){return""}var t=r(this.hex,e.vidx);if(t.length%2!=0||t.length<=2){throw"malformed key usage value"}var n=parseInt(t.substr(0,2));var i=parseInt(t.substr(2),16).toString(2);return i.substr(0,i.length-n)};this.getExtKeyUsageString=function(){var e=this.getExtKeyUsageBin();var t=new Array;for(var r=0;r<e.length;r++){if(e.substr(r,1)=="1"){t.push(pg.KEYUSAGE_NAME[r])}}return t.join(",")};this.getExtSubjectKeyIdentifier=function(){var e=this.getExtInfo("subjectKeyIdentifier");if(e===undefined){return e}return r(this.hex,e.vidx)};this.getExtAuthorityKeyIdentifier=function(){var e=this.getExtInfo("authorityKeyIdentifier");if(e===undefined){return e}var i={};var s=n(this.hex,e.vidx);var a=t(s,0);for(var o=0;o<a.length;o++){if(s.substr(a[o],2)==="80"){i.kid=r(s,a[o])}}return i};this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(e===undefined){return e}var i=new Array;var s=n(this.hex,e.vidx);if(s===""){return i}var a=t(s,0);for(var o=0;o<a.length;o++){i.push(u(r(s,a[o])))}return i};this.getExtSubjectAltName=function(){var e=this.getExtSubjectAltName2();var t=new Array;for(var r=0;r<e.length;r++){if(e[r][0]==="DNS"){t.push(e[r][1])}}return t};this.getExtSubjectAltName2=function(){var e,i,s;var a=this.getExtInfo("subjectAltName");if(a===undefined){return a}var o=new Array;var u=n(this.hex,a.vidx);var c=t(u,0);for(var f=0;f<c.length;f++){s=u.substr(c[f],2);e=r(u,c[f]);if(s==="81"){i=Bv(e);o.push(["MAIL",i])}if(s==="82"){i=Bv(e);o.push(["DNS",i])}if(s==="84"){i=pg.hex2dn(e,0);o.push(["DN",i])}if(s==="86"){i=Bv(e);o.push(["URI",i])}if(s==="87"){i=tg(e);o.push(["IP",i])}}return o};this.getExtCRLDistributionPointsURI=function(){var e=this.getExtInfo("cRLDistributionPoints");if(e===undefined){return e}var r=new Array;var n=t(this.hex,e.vidx);for(var s=0;s<n.length;s++){try{var a=i(this.hex,n[s],[0,0,0],"86");var o=Bv(a);r.push(o)}catch(e){}}return r};this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(e===undefined){return e}var r={ocsp:[],caissuer:[]};var n=t(this.hex,e.vidx);for(var s=0;s<n.length;s++){var a=i(this.hex,n[s],[0],"06");var o=i(this.hex,n[s],[1],"86");if(a==="2b06010505073001"){r.ocsp.push(Bv(o))}if(a==="2b06010505073002"){r.caissuer.push(Bv(o))}}return r};this.getExtCertificatePolicies=function(){var e=this.getExtInfo("certificatePolicies");if(e===undefined){return e}var s=n(this.hex,e.vidx);var a=[];var o=t(s,0);for(var c=0;c<o.length;c++){var f={};var l=t(s,o[c]);f.id=u(r(s,l[0]));if(l.length===2){var h=t(s,l[1]);for(var d=0;d<h.length;d++){var p=i(s,h[d],[0],"06");if(p==="2b06010505070201"){f.cps=Bv(i(s,h[d],[1]))}else{if(p==="2b06010505070202"){f.unotice=Bv(i(s,h[d],[1,0]))}}}}a.push(f)}return a};this.readCertPEM=function(e){this.readCertHex(f(e))};this.readCertHex=function(e){this.hex=e;this.getVersion();try{a(this.hex,0,[0,7],"a3");this.parseExt()}catch(e){}};this.getInfo=function(){var e,t,r;e="Basic Fields\n";e+="  serial number: "+this.getSerialNumberHex()+"\n";e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n";e+="  issuer: "+this.getIssuerString()+"\n";e+="  notBefore: "+this.getNotBefore()+"\n";e+="  notAfter: "+this.getNotAfter()+"\n";e+="  subject: "+this.getSubjectString()+"\n";e+="  subject public key info: \n";t=this.getPublicKey();e+="    key algorithm: "+t.type+"\n";if(t.type==="RSA"){e+="    n="+ag(t.n.toString(16)).substr(0,16)+"...\n";e+="    e="+ag(t.e.toString(16))+"\n"}r=this.aExtInfo;if(r!==undefined&&r!==null){e+="X509v3 Extensions:\n";for(var n=0;n<r.length;n++){var i=r[n];var s=wv.asn1.x509.OID.oid2name(i.oid);if(s===""){s=i.oid}var a="";if(i.critical===true){a="CRITICAL"}e+="  "+s+" "+a+":\n";if(s==="basicConstraints"){var o=this.getExtBasicConstraints();if(o.cA===undefined){e+="    {}\n"}else{e+="    cA=true";if(o.pathLen!==undefined){e+=", pathLen="+o.pathLen}e+="\n"}}else{if(s==="keyUsage"){e+="    "+this.getExtKeyUsageString()+"\n"}else{if(s==="subjectKeyIdentifier"){e+="    "+this.getExtSubjectKeyIdentifier()+"\n"}else{if(s==="authorityKeyIdentifier"){var u=this.getExtAuthorityKeyIdentifier();if(u.kid!==undefined){e+="    kid="+u.kid+"\n"}}else{if(s==="extKeyUsage"){var c=this.getExtExtKeyUsageName();e+="    "+c.join(", ")+"\n"}else{if(s==="subjectAltName"){var f=this.getExtSubjectAltName2();e+="    "+f+"\n"}else{if(s==="cRLDistributionPoints"){var l=this.getExtCRLDistributionPointsURI();e+="    "+l+"\n"}else{if(s==="authorityInfoAccess"){var h=this.getExtAIAInfo();if(h.ocsp!==undefined){e+="    ocsp: "+h.ocsp.join(",")+"\n"}if(h.caissuer!==undefined){e+="    caissuer: "+h.caissuer.join(",")+"\n"}}else{if(s==="certificatePolicies"){var d=this.getExtCertificatePolicies();for(var p=0;p<d.length;p++){if(d[p].id!==undefined){e+="    policy oid: "+d[p].id+"\n"}if(d[p].cps!==undefined){e+="    cps: "+d[p].cps+"\n"}}}}}}}}}}}}}e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n";e+="signature: "+this.getSignatureValueHex().substr(0,16)+"...\n";return e}}pg.hex2dn=function(e,t){if(t===undefined){t=0}if(e.substr(t,2)!=="30"){throw"malformed DN"}var r=new Array;var n=bv.getChildIdx(e,t);for(var i=0;i<n.length;i++){r.push(pg.hex2rdn(e,n[i]))}r=r.map((function(e){return e.replace("/","\\/")}));return"/"+r.join("/")};pg.hex2rdn=function(e,t){if(t===undefined){t=0}if(e.substr(t,2)!=="31"){throw"malformed RDN"}var r=new Array;var n=bv.getChildIdx(e,t);for(var i=0;i<n.length;i++){r.push(pg.hex2attrTypeValue(e,n[i]))}r=r.map((function(e){return e.replace("+","\\+")}));return r.join("+")};pg.hex2attrTypeValue=function(e,t){var r=bv;var n=r.getV;if(t===undefined){t=0}if(e.substr(t,2)!=="30"){throw"malformed attribute type and value"}var i=r.getChildIdx(e,t);if(i.length!==2||e.substr(i[0],2)!=="06");var s=n(e,i[0]);var a=wv.asn1.ASN1Util.oidHexToInt(s);var o=wv.asn1.x509.OID.oid2atype(a);var u=n(e,i[1]);var c=Lv(u);return o+"="+c};pg.getPublicKeyFromCertHex=function(e){var t=new pg;t.readCertHex(e);return t.getPublicKey()};pg.getPublicKeyFromCertPEM=function(e){var t=new pg;t.readCertPEM(e);return t.getPublicKey()};pg.getPublicKeyInfoPropOfCertPEM=function(e){var t=bv;var r=t.getVbyList;var n={};var i,s;n.algparam=null;i=new pg;i.readCertPEM(e);s=i.getPublicKeyHex();n.keyhex=r(s,0,[1],"03").substr(2);n.algoid=r(s,0,[0,0],"06");if(n.algoid==="2a8648ce3d0201"){n.algparam=r(s,0,[0,1],"06")}return n};pg.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"];if(typeof wv=="undefined"||!wv){wv={}}if(typeof wv.jws=="undefined"||!wv.jws){wv.jws={}}wv.jws.JWS=function(){var e=wv,t=e.jws.JWS,r=t.isSafeJSONString;this.parseJWS=function(e,t){if(this.parsedJWS!==undefined&&(t||this.parsedJWS.sigvalH!==undefined)){return}var n=e.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(n==null){throw"JWS signature is not a form of 'Head.Payload.SigValue'."}var i=n[1];var s=n[2];var a=n[3];var o=i+"."+s;this.parsedJWS={};this.parsedJWS.headB64U=i;this.parsedJWS.payloadB64U=s;this.parsedJWS.sigvalB64U=a;this.parsedJWS.si=o;if(!t){var u=Rv(a);var c=Cp(u,16);this.parsedJWS.sigvalH=u;this.parsedJWS.sigvalBI=c}var f=_v(i);var l=_v(s);this.parsedJWS.headS=f;this.parsedJWS.payloadS=l;if(!r(f,this.parsedJWS,"headP")){throw"malformed JSON string for JWS Head: "+f}}};wv.jws.JWS.sign=function(e,t,r,n,i){var s=wv,a=s.jws,o=a.JWS,u=o.readSafeJSONString,c=o.isSafeJSONString,f=s.crypto,l=f.Mac,h=f.Signature,d=JSON;var p,v,g;if(typeof t!="string"&&typeof t!="object"){throw"spHeader must be JSON string or object: "+t}if(typeof t=="object"){v=t;p=d.stringify(v)}if(typeof t=="string"){p=t;if(!c(p)){throw"JWS Head is not safe JSON string: "+p}v=u(p)}g=r;if(typeof r=="object"){g=d.stringify(r)}if((e==""||e==null)&&v.alg!==undefined){e=v.alg}if(e!=""&&e!=null&&v.alg===undefined){v.alg=e;p=d.stringify(v)}if(e!==v.alg){throw"alg and sHeader.alg doesn't match: "+e+"!="+v.alg}var y=null;if(o.jwsalg2sigalg[e]===undefined){throw"unsupported alg name: "+e}else{y=o.jwsalg2sigalg[e]}var m=Dv(p);var b=Dv(g);var w=m+"."+b;var S="";if(y.substr(0,4)=="Hmac"){if(n===undefined){throw"mac key shall be specified for HS* alg"}var E=new l({alg:y,prov:"cryptojs",pass:n});E.updateString(w);S=E.doFinal()}else{if(y.indexOf("withECDSA")!=-1){var x=new h({alg:y});x.init(n,i);x.updateString(w);hASN1Sig=x.sign();S=wv.crypto.ECDSA.asn1SigToConcatSig(hASN1Sig)}else{if(y!="none"){var x=new h({alg:y});x.init(n,i);x.updateString(w);S=x.sign()}}}var A=Ov(S);return w+"."+A};wv.jws.JWS.verify=function(e,t,r){var n=wv,i=n.jws,s=i.JWS,a=s.readSafeJSONString,o=n.crypto,u=o.ECDSA,c=o.Mac,f=o.Signature,l;if(typeof Rp!==undefined){l=Rp}var h=e.split(".");if(h.length!==3){return false}var d=h[0];var p=h[1];var v=d+"."+p;var g=Rv(h[2]);var y=a(_v(h[0]));var m=null;var b=null;if(y.alg===undefined){throw"algorithm not specified in header"}else{m=y.alg;b=m.substr(0,2)}if(r!=null&&Object.prototype.toString.call(r)==="[object Array]"&&r.length>0){var w=":"+r.join(":")+":";if(w.indexOf(":"+m+":")==-1){throw"algorithm '"+m+"' not accepted in the list"}}if(m!="none"&&t===null){throw"key shall be specified to verify."}if(typeof t=="string"&&t.indexOf("-----BEGIN ")!=-1){t=cg.getKey(t)}if(b=="RS"||b=="PS"){if(!(t instanceof l)){throw"key shall be a RSAKey obj for RS* and PS* algs"}}if(b=="ES"){if(!(t instanceof u)){throw"key shall be a ECDSA obj for ES* algs"}}var S=null;if(s.jwsalg2sigalg[y.alg]===undefined){throw"unsupported alg name: "+m}else{S=s.jwsalg2sigalg[m]}if(S=="none"){throw"not supported"}else{if(S.substr(0,4)=="Hmac"){var E=null;if(t===undefined){throw"hexadecimal key shall be specified for HMAC"}var x=new c({alg:S,pass:t});x.updateString(v);E=x.doFinal();return g==E}else{if(S.indexOf("withECDSA")!=-1){var A=null;try{A=u.concatSigToASN1Sig(g)}catch(e){return false}var F=new f({alg:S});F.init(t);F.updateString(v);return F.verify(A)}else{var F=new f({alg:S});F.init(t);F.updateString(v);return F.verify(g)}}}};wv.jws.JWS.parse=function(e){var t=e.split(".");var r={};var n,i,s;if(t.length!=2&&t.length!=3){throw"malformed sJWS: wrong number of '.' splitted elements"}n=t[0];i=t[1];if(t.length==3){s=t[2]}r.headerObj=wv.jws.JWS.readSafeJSONString(_v(n));r.payloadObj=wv.jws.JWS.readSafeJSONString(_v(i));r.headerPP=JSON.stringify(r.headerObj,null,"  ");if(r.payloadObj==null){r.payloadPP=_v(i)}else{r.payloadPP=JSON.stringify(r.payloadObj,null,"  ")}if(s!==undefined){r.sigHex=Rv(s)}return r};wv.jws.JWS.verifyJWT=function(e,t,r){var n=wv,i=n.jws,s=i.JWS,a=s.readSafeJSONString,o=s.inArray,u=s.includedArray;var c=e.split(".");var f=c[0];var l=c[1];var h=Rv(c[2]);var d=a(_v(f));var p=a(_v(l));if(d.alg===undefined){return false}if(r.alg===undefined){throw"acceptField.alg shall be specified"}if(!o(d.alg,r.alg)){return false}if(p.iss!==undefined&&typeof r.iss==="object"){if(!o(p.iss,r.iss)){return false}}if(p.sub!==undefined&&typeof r.sub==="object"){if(!o(p.sub,r.sub)){return false}}if(p.aud!==undefined&&typeof r.aud==="object"){if(typeof p.aud=="string"){if(!o(p.aud,r.aud)){return false}}else{if(typeof p.aud=="object"){if(!u(p.aud,r.aud)){return false}}}}var v=i.IntDate.getNow();if(r.verifyAt!==undefined&&typeof r.verifyAt==="number"){v=r.verifyAt}if(r.gracePeriod===undefined||typeof r.gracePeriod!=="number"){r.gracePeriod=0}if(p.exp!==undefined&&typeof p.exp=="number"){if(p.exp+r.gracePeriod<v){return false}}if(p.nbf!==undefined&&typeof p.nbf=="number"){if(v<p.nbf-r.gracePeriod){return false}}if(p.iat!==undefined&&typeof p.iat=="number"){if(v<p.iat-r.gracePeriod){return false}}if(p.jti!==undefined&&r.jti!==undefined){if(p.jti!==r.jti){return false}}if(!s.verify(e,t,r.alg)){return false}return true};wv.jws.JWS.includedArray=function(e,t){var r=wv.jws.JWS.inArray;if(e===null){return false}if(typeof e!=="object"){return false}if(typeof e.length!=="number"){return false}for(var n=0;n<e.length;n++){if(!r(e[n],t)){return false}}return true};wv.jws.JWS.inArray=function(e,t){if(t===null){return false}if(typeof t!=="object"){return false}if(typeof t.length!=="number"){return false}for(var r=0;r<t.length;r++){if(t[r]==e){return true}}return false};wv.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"};wv.jws.JWS.isSafeJSONString=function(e,t,r){var n=null;try{n=mv(e);if(typeof n!="object"){return 0}if(n.constructor===Array){return 0}if(t){t[r]=n}return 1}catch(e){return 0}};wv.jws.JWS.readSafeJSONString=function(e){var t=null;try{t=mv(e);if(typeof t!="object"){return null}if(t.constructor===Array){return null}return t}catch(e){return null}};wv.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(t==null){throw"JWS signature is not a form of 'Head.Payload.SigValue'."}return t[1]};wv.jws.JWS.getJWKthumbprint=function(e){if(e.kty!=="RSA"&&e.kty!=="EC"&&e.kty!=="oct"){throw"unsupported algorithm for JWK Thumprint"}var t="{";if(e.kty==="RSA"){if(typeof e.n!="string"||typeof e.e!="string"){throw"wrong n and e value for RSA key"}t+='"e":"'+e.e+'",';t+='"kty":"'+e.kty+'",';t+='"n":"'+e.n+'"}'}else{if(e.kty==="EC"){if(typeof e.crv!="string"||typeof e.x!="string"||typeof e.y!="string"){throw"wrong crv, x and y value for EC key"}t+='"crv":"'+e.crv+'",';t+='"kty":"'+e.kty+'",';t+='"x":"'+e.x+'",';t+='"y":"'+e.y+'"}'}else{if(e.kty==="oct"){if(typeof e.k!="string"){throw"wrong k value for oct(symmetric) key"}t+='"kty":"'+e.kty+'",';t+='"k":"'+e.k+'"}'}}}var r=Hv(t);var n=wv.crypto.Util.hashHex(r,"sha256");var i=Ov(n);return i};wv.jws.IntDate={};wv.jws.IntDate.get=function(e){var t=wv.jws.IntDate,r=t.getNow,n=t.getZulu;if(e=="now"){return r()}else{if(e=="now + 1hour"){return r()+60*60}else{if(e=="now + 1day"){return r()+60*60*24}else{if(e=="now + 1month"){return r()+60*60*24*30}else{if(e=="now + 1year"){return r()+60*60*24*365}else{if(e.match(/Z$/)){return n(e)}else{if(e.match(/^[0-9]+$/)){return parseInt(e)}}}}}}}throw"unsupported format: "+e};wv.jws.IntDate.getZulu=function(e){return Yv(e)};wv.jws.IntDate.getNow=function(){var e=~~(new Date/1e3);return e};wv.jws.IntDate.intDate2UTCString=function(e){var t=new Date(e*1e3);return t.toUTCString()};wv.jws.IntDate.intDate2Zulu=function(e){var t=new Date(e*1e3),r=("0000"+t.getUTCFullYear()).slice(-4),n=("00"+(t.getUTCMonth()+1)).slice(-2),i=("00"+t.getUTCDate()).slice(-2),s=("00"+t.getUTCHours()).slice(-2),a=("00"+t.getUTCMinutes()).slice(-2),o=("00"+t.getUTCSeconds()).slice(-2);return r+n+i+s+a+o+"Z"};if(typeof wv=="undefined"||!wv){wv={}}if(typeof wv.jws=="undefined"||!wv.jws){wv.jws={}}wv.jws.JWSJS=function(){var e=wv,t=e.jws,r=t.JWS,n=r.readSafeJSONString;this.aHeader=[];this.sPayload="";this.aSignature=[];this.init=function(){this.aHeader=[];this.sPayload=undefined;this.aSignature=[]};this.initWithJWS=function(e){this.init();var t=e.split(".");if(t.length!=3){throw"malformed input JWS"}this.aHeader.push(t[0]);this.sPayload=t[1];this.aSignature.push(t[2])};this.addSignature=function(e,t,r,n){if(this.sPayload===undefined||this.sPayload===null){throw"there's no JSON-JS signature to add."}var i=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length){throw"aHeader.length != aSignature.length"}try{var s=wv.jws.JWS.sign(e,t,this.sPayload,r,n);var a=s.split(".");this.aHeader.push(a[0]);this.aSignature.push(a[2])}catch(e){if(this.aHeader.length>i){this.aHeader.pop()}if(this.aSignature.length>i){this.aSignature.pop()}throw"addSignature failed: "+e}};this.verifyAll=function(e){if(this.aHeader.length!==e.length||this.aSignature.length!==e.length){return false}for(var t=0;t<e.length;t++){var r=e[t];if(r.length!==2){return false}var n=this.verifyNth(t,r[0],r[1]);if(n===false){return false}}return true};this.verifyNth=function(e,t,n){if(this.aHeader.length<=e||this.aSignature.length<=e){return false}var i=this.aHeader[e];var s=this.aSignature[e];var a=i+"."+this.sPayload+"."+s;var o=false;try{o=r.verify(a,t,n)}catch(e){return false}return o};this.readJWSJS=function(e){if(typeof e==="string"){var t=n(e);if(t==null){throw"argument is not safe JSON object string"}this.aHeader=t.headers;this.sPayload=t.payload;this.aSignature=t.signatures}else{try{if(e.headers.length>0){this.aHeader=e.headers}else{throw"malformed header"}if(typeof e.payload==="string"){this.sPayload=e.payload}else{throw"malformed signatures"}if(e.signatures.length>0){this.aSignatures=e.signatures}else{throw"malformed signatures"}}catch(e){throw"malformed JWS-JS JSON object: "+e}}};this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}};this.isEmpty=function(){if(this.aHeader.length==0){return 1}return 0}};var vg=Tp;var gg=wp;var yg=uh;var mg=Rp;var bg=wv.crypto.ECDSA;var wg=wv.crypto.DSA;var Sg=wv.crypto.Signature;var Eg=wv.crypto.MessageDigest;var xg=wv.crypto.Mac;var Ag=wv.crypto.Cipher;var Fg=cg;var Tg=bv;var Cg=pg;var kg=th;var Ig=sh;var Og=ah;var Rg=Sv;var Dg=Ev;var _g=xv;var Ng=Av;var Pg=Fv;var jg=Tv;var Bg=Cv;var Lg=kv;var Hg=Iv;var Mg=ih;var Vg=Ov;var Ug=Rv;var qg=Dv;var Kg=_v;var zg=Nv;var Qg=Pv;var Wg=jv;var Yg=Bv;var Gg=Lv;var Jg=Hv;var $g=Mv;var Xg=Vv;var Zg=Uv;var ey=qv;var ty=Kv;var ry=zv;var ny=Qv;var iy=Wv;var sy=Yv;var ay=Gv;var oy=Jv;var uy=$v;var cy=Xv;var fy=Zv;var ly=eg;var hy=tg;var dy=rg;var py=ng;var vy=ig;var gy=sg;var yy=ag;var my=og;var by=ug;var wy=wv;var Sy=wv.crypto;var Ey=wv.asn1;var xy=wv.jws;var Ay=wv.lang;var Fy={SecureRandom:vg,rng_seed_time:gg,BigInteger:yg,RSAKey:mg,ECDSA:bg,DSA:wg,Signature:Sg,MessageDigest:Eg,Mac:xg,Cipher:Ag,KEYUTIL:Fg,ASN1HEX:Tg,X509:Cg,CryptoJS:kg,b64tohex:Ig,b64toBA:Og,stoBA:Rg,BAtos:Dg,BAtohex:_g,stohex:Ng,stob64:Pg,stob64u:jg,b64utos:Bg,b64tob64u:Lg,b64utob64:Hg,hex2b64:Mg,hextob64u:Vg,b64utohex:Ug,utf8tob64u:qg,b64utoutf8:Kg,utf8tob64:zg,b64toutf8:Qg,utf8tohex:Wg,hextoutf8:Yg,hextorstr:Gg,rstrtohex:Jg,hextob64:$g,hextob64nl:Xg,b64nltohex:Zg,hextopem:ey,pemtohex:ty,hextoArrayBuffer:ry,ArrayBuffertohex:ny,zulutomsec:iy,zulutosec:sy,zulutodate:ay,datetozulu:oy,uricmptohex:uy,hextouricmp:cy,ipv6tohex:fy,hextoipv6:ly,hextoip:hy,iptohex:dy,encodeURIComponentAll:py,newline_toUnix:vy,newline_toDos:gy,hextoposhex:yy,intarystrtohex:my,strdiffidx:by,KJUR:wy,crypto:Sy,asn1:Ey,jws:xy,lang:Ay};var Ty;(function(e){function t(e){return $l.get(e)}e.getCookie=t;function r(e){return $l.remove(e,{path:"/",domain:".crossroads.net"})}e.deleteCookie=r;function n(e,t){$l.set(e,t,{expires:24,path:"/",domain:".crossroads.net"})}e.setCookie=n;function i(){var e={alg:"HS256",typ:"JWT"};var t=JSON.stringify(e);var r=new Date;r.setHours(r.getHours()+24);var i=JSON.stringify({app_metadata:{authorization:{roles:["user"]}},exp:Math.floor(r.getTime()/1e3)});var s=Fy.jws.JWS.sign("HS256",t,i,"netlifySecretThatsNotASecret");n("nf_jwt",s)}e.setNetlifyJWT=i})(Ty||(Ty={}));var Cy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ky(e){this.message=e}ky.prototype=new Error;ky.prototype.name="InvalidCharacterError";function Iy(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1){throw new ky("'atob' failed: The string to be decoded is not correctly encoded.")}for(var r=0,n,i,s=0,a="";i=t.charAt(s++);~i&&(n=r%4?n*64+i:i,r++%4)?a+=String.fromCharCode(255&n>>(-2*r&6)):0){i=Cy.indexOf(i)}return a}var Oy=typeof window!=="undefined"&&window.atob&&window.atob.bind(window)||Iy;function Ry(e){return decodeURIComponent(Oy(e).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();if(r.length<2){r="0"+r}return"%"+r})))}var Dy=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return Ry(t)}catch(e){return Oy(t)}};function _y(e){this.message=e}_y.prototype=new Error;_y.prototype.name="InvalidTokenError";var Ny=function(e,t){if(typeof e!=="string"){throw new _y("Invalid token specified")}t=t||{};var r=t.header===true?0:1;try{return JSON.parse(Dy(e.split(".")[r]))}catch(e){throw new _y("Invalid token specified: "+e.message)}};var Py=_y;Ny.InvalidTokenError=Py;var jy=function(){function e(e,t,r){this.accessTokenCookie=e;this.refreshTokenCookie=t;this.issuer=r}e.prototype.authenticated=function(){var e=Ty.getCookie(this.accessTokenCookie);var t=Ty.getCookie(this.refreshTokenCookie);if(e){var r=Ny(e);if(Date.now()<=r.exp*1e3)return Yf(Jl.From({access_token:{accessToken:e},refresh_token:t}));return Sl(this.authenticate(e,t))}else return Yf(null)};e.prototype.authenticate=function(e,t){return __awaiter_1(this,void 0,void 0,(function(){var r,n;return __generator_1(this,(function(i){switch(i.label){case 0:i.trys.push([0,2,,3]);return[4,Ao.get(this.issuer,{headers:{Authorization:e,RefreshToken:t}})];case 1:r=i.sent();e=r.headers["sessionid"];t=r.headers["refreshtoken"];if(!e)return[2,null];Ty.setCookie(this.refreshTokenCookie,t);Ty.setCookie(this.accessTokenCookie,e);return[2,Jl.From({access_token:{accessToken:e},refresh_token:t})];case 2:n=i.sent();return[2,null];case 3:return[2]}}))}))};e.prototype.signOut=function(){var e=Ty.getCookie(this.accessTokenCookie);if(e){Ty.deleteCookie(this.accessTokenCookie);Ty.deleteCookie(this.refreshTokenCookie);return Yf(true)}else{return Yf(false)}};return e}();var By=function(){function e(e){this.on=e}e.prototype.Error=function(e,t){if(this.on){if(t!=null){console.error("CRDS-OKTA-AUTH: "+e,t)}else{console.error("CRDS-OKTA-AUTH: "+e)}}};e.prototype.Warn=function(e,t){if(this.on){if(t!=null){console.warn("CRDS-OKTA-AUTH: "+e,t)}else{console.warn("CRDS-OKTA-AUTH: "+e)}}};e.prototype.Info=function(e,t){if(this.on){if(t!=null){console.info("CRDS-OKTA-AUTH: "+e,t)}else{console.info("CRDS-OKTA-AUTH: "+e)}}};e.prototype.Log=function(e,t){if(this.on){if(t!=null){console.log("CRDS-OKTA-AUTH: "+e,t)}else{console.log("CRDS-OKTA-AUTH: "+e)}}};return e}();var Ly=he((function(e,t){var r=function(e){function t(){this.fetch=false;this.DOMException=e.DOMException}t.prototype=e;return new t}(typeof self!=="undefined"?self:fe);(function(e){var t=function(t){var r={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{new Blob;return true}catch(e){return false}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};function n(e){return e&&DataView.prototype.isPrototypeOf(e)}if(r.arrayBuffer){var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];var s=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1}}function a(e){if(typeof e!=="string"){e=String(e)}if(/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e)){throw new TypeError("Invalid character in header field name")}return e.toLowerCase()}function o(e){if(typeof e!=="string"){e=String(e)}return e}function u(e){var t={next:function(){var t=e.shift();return{done:t===undefined,value:t}}};if(r.iterable){t[Symbol.iterator]=function(){return t}}return t}function c(e){this.map={};if(e instanceof c){e.forEach((function(e,t){this.append(t,e)}),this)}else if(Array.isArray(e)){e.forEach((function(e){this.append(e[0],e[1])}),this)}else if(e){Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}}c.prototype.append=function(e,t){e=a(e);t=o(t);var r=this.map[e];this.map[e]=r?r+", "+t:t};c.prototype["delete"]=function(e){delete this.map[a(e)]};c.prototype.get=function(e){e=a(e);return this.has(e)?this.map[e]:null};c.prototype.has=function(e){return this.map.hasOwnProperty(a(e))};c.prototype.set=function(e,t){this.map[a(e)]=o(t)};c.prototype.forEach=function(e,t){for(var r in this.map){if(this.map.hasOwnProperty(r)){e.call(t,this.map[r],r,this)}}};c.prototype.keys=function(){var e=[];this.forEach((function(t,r){e.push(r)}));return u(e)};c.prototype.values=function(){var e=[];this.forEach((function(t){e.push(t)}));return u(e)};c.prototype.entries=function(){var e=[];this.forEach((function(t,r){e.push([r,t])}));return u(e)};if(r.iterable){c.prototype[Symbol.iterator]=c.prototype.entries}function f(e){if(e.bodyUsed){return Promise.reject(new TypeError("Already read"))}e.bodyUsed=true}function l(e){return new Promise((function(t,r){e.onload=function(){t(e.result)};e.onerror=function(){r(e.error)}}))}function h(e){var t=new FileReader;var r=l(t);t.readAsArrayBuffer(e);return r}function d(e){var t=new FileReader;var r=l(t);t.readAsText(e);return r}function p(e){var t=new Uint8Array(e);var r=new Array(t.length);for(var n=0;n<t.length;n++){r[n]=String.fromCharCode(t[n])}return r.join("")}function v(e){if(e.slice){return e.slice(0)}else{var t=new Uint8Array(e.byteLength);t.set(new Uint8Array(e));return t.buffer}}function g(){this.bodyUsed=false;this._initBody=function(e){this._bodyInit=e;if(!e){this._bodyText=""}else if(typeof e==="string"){this._bodyText=e}else if(r.blob&&Blob.prototype.isPrototypeOf(e)){this._bodyBlob=e}else if(r.formData&&FormData.prototype.isPrototypeOf(e)){this._bodyFormData=e}else if(r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)){this._bodyText=e.toString()}else if(r.arrayBuffer&&r.blob&&n(e)){this._bodyArrayBuffer=v(e.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else if(r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||s(e))){this._bodyArrayBuffer=v(e)}else{this._bodyText=e=Object.prototype.toString.call(e)}if(!this.headers.get("content-type")){if(typeof e==="string"){this.headers.set("content-type","text/plain;charset=UTF-8")}else if(this._bodyBlob&&this._bodyBlob.type){this.headers.set("content-type",this._bodyBlob.type)}else if(r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)){this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")}}};if(r.blob){this.blob=function(){var e=f(this);if(e){return e}if(this._bodyBlob){return Promise.resolve(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(new Blob([this._bodyArrayBuffer]))}else if(this._bodyFormData){throw new Error("could not read FormData body as blob")}else{return Promise.resolve(new Blob([this._bodyText]))}};this.arrayBuffer=function(){if(this._bodyArrayBuffer){return f(this)||Promise.resolve(this._bodyArrayBuffer)}else{return this.blob().then(h)}}}this.text=function(){var e=f(this);if(e){return e}if(this._bodyBlob){return d(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(p(this._bodyArrayBuffer))}else if(this._bodyFormData){throw new Error("could not read FormData body as text")}else{return Promise.resolve(this._bodyText)}};if(r.formData){this.formData=function(){return this.text().then(w)}}this.json=function(){return this.text().then(JSON.parse)};return this}var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e){var t=e.toUpperCase();return y.indexOf(t)>-1?t:e}function b(e,t){t=t||{};var r=t.body;if(e instanceof b){if(e.bodyUsed){throw new TypeError("Already read")}this.url=e.url;this.credentials=e.credentials;if(!t.headers){this.headers=new c(e.headers)}this.method=e.method;this.mode=e.mode;this.signal=e.signal;if(!r&&e._bodyInit!=null){r=e._bodyInit;e.bodyUsed=true}}else{this.url=String(e)}this.credentials=t.credentials||this.credentials||"same-origin";if(t.headers||!this.headers){this.headers=new c(t.headers)}this.method=m(t.method||this.method||"GET");this.mode=t.mode||this.mode||null;this.signal=t.signal||this.signal;this.referrer=null;if((this.method==="GET"||this.method==="HEAD")&&r){throw new TypeError("Body not allowed for GET or HEAD requests")}this._initBody(r)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})};function w(e){var t=new FormData;e.trim().split("&").forEach((function(e){if(e){var r=e.split("=");var n=r.shift().replace(/\+/g," ");var i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}));return t}function S(e){var t=new c;var r=e.replace(/\r?\n[\t ]+/g," ");r.split(/\r?\n/).forEach((function(e){var r=e.split(":");var n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}));return t}g.call(b.prototype);function E(e,t){if(!t){t={}}this.type="default";this.status=t.status===undefined?200:t.status;this.ok=this.status>=200&&this.status<300;this.statusText="statusText"in t?t.statusText:"OK";this.headers=new c(t.headers);this.url=t.url||"";this._initBody(e)}g.call(E.prototype);E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})};E.error=function(){var e=new E(null,{status:0,statusText:""});e.type="error";return e};var x=[301,302,303,307,308];E.redirect=function(e,t){if(x.indexOf(t)===-1){throw new RangeError("Invalid status code")}return new E(null,{status:t,headers:{location:e}})};t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e;this.name=t;var r=Error(e);this.stack=r.stack};t.DOMException.prototype=Object.create(Error.prototype);t.DOMException.prototype.constructor=t.DOMException}function A(e,n){return new Promise((function(i,s){var a=new b(e,n);if(a.signal&&a.signal.aborted){return s(new t.DOMException("Aborted","AbortError"))}var o=new XMLHttpRequest;function u(){o.abort()}o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:S(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;i(new E(t,e))};o.onerror=function(){s(new TypeError("Network request failed"))};o.ontimeout=function(){s(new TypeError("Network request failed"))};o.onabort=function(){s(new t.DOMException("Aborted","AbortError"))};o.open(a.method,a.url,true);if(a.credentials==="include"){o.withCredentials=true}else if(a.credentials==="omit"){o.withCredentials=false}if("responseType"in o&&r.blob){o.responseType="blob"}a.headers.forEach((function(e,t){o.setRequestHeader(t,e)}));if(a.signal){a.signal.addEventListener("abort",u);o.onreadystatechange=function(){if(o.readyState===4){a.signal.removeEventListener("abort",u)}}}o.send(typeof a._bodyInit==="undefined"?null:a._bodyInit)}))}A.polyfill=true;if(!e.fetch){e.fetch=A;e.Headers=c;e.Request=b;e.Response=E}t.Headers=c;t.Request=b;t.Response=E;t.fetch=A;return t}({})})(r);delete r.fetch.polyfill;t=r.fetch;t.default=r.fetch;t.fetch=r.fetch;t.Headers=r.Headers;t.Request=r.Request;t.Response=r.Response;e.exports=t}));function Hy(e,t,r){var n=r.data;var i=r.headers||{};var s=i["Content-Type"]||i["content-type"]||"";if(s==="application/json"&&n&&typeof n!=="string"){n=JSON.stringify(n)}var a=Ly(t,{method:e,headers:r.headers,body:n,credentials:r.withCredentials===false?"omit":"include"}).then((function(e){var t=!e.ok;var r=e.status;var n=function(e){var n={responseText:e,status:r};if(t){throw n}return n};if(e.headers.get("Content-Type")&&e.headers.get("Content-Type").toLowerCase().indexOf("application/json")>=0){return e.json().then(n)}else{return e.text().then(n)}}));return a}var My=Hy;var Vy=he((function(e,t){(function(t){var r=false;{e.exports=t();r=true}if(!r){var n=window.Cookies;var i=window.Cookies=t();i.noConflict=function(){window.Cookies=n;return i}}})((function(){function e(){var e=0;var t={};for(;e<arguments.length;e++){var r=arguments[e];for(var n in r){t[n]=r[n]}}return t}function t(r){function n(t,i,s){var a;if(typeof document==="undefined"){return}if(arguments.length>1){s=e({path:"/"},n.defaults,s);if(typeof s.expires==="number"){var o=new Date;o.setMilliseconds(o.getMilliseconds()+s.expires*864e5);s.expires=o}s.expires=s.expires?s.expires.toUTCString():"";try{a=JSON.stringify(i);if(/^[\{\[]/.test(a)){i=a}}catch(e){}if(!r.write){i=encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)}else{i=r.write(i,t)}t=encodeURIComponent(String(t));t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent);t=t.replace(/[\(\)]/g,escape);var u="";for(var c in s){if(!s[c]){continue}u+="; "+c;if(s[c]===true){continue}u+="="+s[c]}return document.cookie=t+"="+i+u}if(!t){a={}}var f=document.cookie?document.cookie.split("; "):[];var l=/(%[0-9A-Z]{2})+/g;var h=0;for(;h<f.length;h++){var d=f[h].split("=");var p=d.slice(1).join("=");if(!this.json&&p.charAt(0)==='"'){p=p.slice(1,-1)}try{var v=d[0].replace(l,decodeURIComponent);p=r.read?r.read(p,v):r(p,v)||p.replace(l,decodeURIComponent);if(this.json){try{p=JSON.parse(p)}catch(e){}}if(t===v){a=p;break}if(!t){a[v]=p}}catch(e){}}return a}n.set=n;n.get=function(e){return n.call(n,e)};n.getJSON=function(){return n.apply({json:true},[].slice.call(arguments))};n.defaults={};n.remove=function(t,r){n(t,"",e(r,{expires:-1}))};n.withConverter=t;return n}return t((function(){}))}))}));function Uy(e,t){this.name="AuthSdkError";this.message=e;this.errorCode="INTERNAL";this.errorSummary=e;this.errorLink="INTERNAL";this.errorId="INTERNAL";this.errorCauses=[];if(t){this.xhr=t}}Uy.prototype=new Error;var qy=Uy;function Ky(e,t){if(typeof t!=="string"||!t.length){throw new qy('"storageName" is required')}function r(){var r=e.getItem(t);r=r||"{}";try{return JSON.parse(r)}catch(e){throw new qy("Unable to parse storage string: "+t)}}function n(r){try{var n=JSON.stringify(r);e.setItem(t,n)}catch(e){throw new qy("Unable to set storage: "+t)}}function i(e){if(!e){n({})}var t=r();delete t[e];n(t)}function s(e,t){var i=r();i[e]=t;n(i)}return{getStorage:r,setStorage:n,clearStorage:i,updateStorage:s}}var zy=Ky;var Qy={STATE_TOKEN_KEY_NAME:"oktaStateToken",DEFAULT_POLLING_DELAY:500,DEFAULT_MAX_CLOCK_SKEW:300,DEFAULT_CACHE_DURATION:86400,FRAME_ID:"okta-oauth-helper-frame",REDIRECT_OAUTH_PARAMS_COOKIE_NAME:"okta-oauth-redirect-params",REDIRECT_STATE_COOKIE_NAME:"okta-oauth-state",REDIRECT_NONCE_COOKIE_NAME:"okta-oauth-nonce",TOKEN_STORAGE_NAME:"okta-token-storage",CACHE_STORAGE_NAME:"okta-cache-storage",PKCE_STORAGE_NAME:"okta-pkce-storage",SDK_VERSION:"2.8.0"};var Wy={};Wy.browserHasLocalStorage=function(){try{var e=Wy.getLocalStorage();return Wy.testStorage(e)}catch(e){return false}};Wy.browserHasSessionStorage=function(){try{var e=Wy.getSessionStorage();return Wy.testStorage(e)}catch(e){return false}};Wy.getPKCEStorage=function(){if(Wy.browserHasLocalStorage()){return zy(Wy.getLocalStorage(),Qy.PKCE_STORAGE_NAME)}else if(Wy.browserHasSessionStorage()){return zy(Wy.getSessionStorage(),Qy.PKCE_STORAGE_NAME)}else{return zy(Wy.getCookieStorage(),Qy.PKCE_STORAGE_NAME)}};Wy.getHttpCache=function(){if(Wy.browserHasLocalStorage()){return zy(Wy.getLocalStorage(),Qy.CACHE_STORAGE_NAME)}else if(Wy.browserHasSessionStorage()){return zy(Wy.getSessionStorage(),Qy.CACHE_STORAGE_NAME)}else{return zy(Wy.getCookieStorage(),Qy.CACHE_STORAGE_NAME)}};Wy.getLocalStorage=function(){return localStorage};Wy.getSessionStorage=function(){return sessionStorage};Wy.getCookieStorage=function(e){e=e||{};return{getItem:Wy.storage.get,setItem:function(t,r){Wy.storage.set(t,r,"2200-01-01T00:00:00.000Z",e.secure)}}};Wy.testStorage=function(e){var t="okta-test-storage";try{e.setItem(t,t);e.removeItem(t);return true}catch(e){return false}};Wy.storage={set:function(e,t,r,n){var i={path:"/",secure:n};if(!!Date.parse(r)){i.expires=new Date(r)}Vy.set(e,t,i);return Wy.storage.get(e)},get:function(e){return Vy.get(e)},delete:function(e){return Vy.remove(e,{path:"/"})}};var Yy=Wy;var Gy=he((function(e,t){(function(){var e=t;var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(e){this.message=e}n.prototype=new Error;n.prototype.name="InvalidCharacterError";e.btoa||(e.btoa=function(e){var t=String(e);for(var i,s,a=0,o=r,u="";t.charAt(a|0)||(o="=",a%1);u+=o.charAt(63&i>>8-a%1*8)){s=t.charCodeAt(a+=3/4);if(s>255){throw new n("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.")}i=i<<8|s}return u});e.atob||(e.atob=function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1){throw new n("'atob' failed: The string to be decoded is not correctly encoded.")}for(var i=0,s,a,o=0,u="";a=t.charAt(o++);~a&&(s=i%4?s*64+a:a,i++%4)?u+=String.fromCharCode(255&s>>(-2*i&6)):0){a=r.indexOf(a)}return u})})()}));if(!Array.prototype.indexOf){Array.prototype.indexOf=function(e,t){var r;if(this==null){throw new TypeError('"this" is null or not defined')}var n=Object(this);var i=n.length>>>0;if(i===0){return-1}var s=+t||0;if(Math.abs(s)===Infinity){s=0}if(s>=i){return-1}r=Math.max(s>=0?s:i-Math.abs(s),0);while(r<i){if(r in n&&n[r]===e){return r}r++}return-1}}if(!Array.isArray){Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}var Jy=he((function(e){var t=e.exports;t.stringToBase64Url=function(e){var r=btoa(e);return t.base64ToBase64Url(r)};t.base64ToBase64Url=function(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")};t.base64UrlToBase64=function(e){return e.replace(/-/g,"+").replace(/_/g,"/")};t.base64UrlToString=function(e){var r=t.base64UrlToBase64(e);switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw"Not a valid Base64Url"}var n=atob(r);try{return decodeURIComponent(escape(n))}catch(e){return n}};t.stringToBuffer=function(e){var t=new Uint8Array(e.length);for(var r=0;r<e.length;r++){t[r]=e.charCodeAt(r)}return t};t.base64UrlDecode=function(e){return atob(t.base64UrlToBase64(e))};t.bind=function(e,t){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);n=r.concat(n);return e.apply(t,n)}};t.isAbsoluteUrl=function(e){return/^(?:[a-z]+:)?\/\//i.test(e)};t.isString=function(e){return Object.prototype.toString.call(e)==="[object String]"};t.isObject=function(e){return Object.prototype.toString.call(e)==="[object Object]"};t.isNumber=function(e){return Object.prototype.toString.call(e)==="[object Number]"};t.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"};t.isoToUTCString=function(e){var t=e.match(/\d+/g),r=Date.UTC(t[0],t[1]-1,t[2],t[3],t[4],t[5]),n=new Date(r);return n.toUTCString()};t.toQueryParams=function(e){var t=[];if(e!==null){for(var r in e){if(e.hasOwnProperty(r)&&e[r]!==undefined&&e[r]!==null){t.push(r+"="+encodeURIComponent(e[r]))}}}if(t.length){return"?"+t.join("&")}else{return""}};t.genRandomString=function(e){var t="abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";var r="";for(var n=0,i=t.length;n<e;++n){r+=t[Math.floor(Math.random()*i)]}return r};t.extend=function(){var e=arguments[0];var t=[].slice.call(arguments,1);t.forEach((function(t){for(var r in t){if(t.hasOwnProperty(r)&&t[r]!==undefined){e[r]=t[r]}}}));return e};t.removeNils=function(e){var t={};for(var r in e){if(e.hasOwnProperty(r)){var n=e[r];if(n!==null&&n!==undefined){t[r]=n}}}return t};t.clone=function(e){if(e){var t=JSON.stringify(e);if(t){return JSON.parse(t)}}return e};t.omit=function(e){var r=Array.prototype.slice.call(arguments,1);var n={};for(var i in e){if(e.hasOwnProperty(i)&&r.indexOf(i)==-1){n[i]=e[i]}}return t.clone(n)};t.find=function(e,t){var r=e.length;while(r--){var n=e[r];var i=true;for(var s in t){if(!t.hasOwnProperty(s)){continue}if(n[s]!==t[s]){i=false;break}}if(i){return n}}};t.getLink=function(e,r,n){if(!e||!e._links){return}var i=t.clone(e._links[r]);if(i&&i.name&&n){if(i.name===n){return i}}else{return i}};t.getNativeConsole=function(){if(typeof window!=="undefined"){return window.console}else if(typeof console!=="undefined"){return console}else{return undefined}};t.getConsole=function(){var e=t.getNativeConsole();if(e&&e.log){return e}return{log:function(){}}};t.warn=function(e){t.getConsole().log("[okta-auth-sdk] WARN: "+e)};t.deprecate=function(e){t.getConsole().log("[okta-auth-sdk] DEPRECATION: "+e)};t.deprecateWrap=function(e,r){return function(){t.deprecate(e);return r.apply(null,arguments)}};t.removeTrailingSlash=function(e){if(!e){return}var t=e.replace(/^\s+|\s+$/gm,"");if(t.slice(-1)==="/"){return t.slice(0,-1)}return t};t.isIE11OrLess=function(){return!!document.documentMode&&document.documentMode<=11};t.isFunction=function(e){return!!e&&{}.toString.call(e)==="[object Function]"}}));var $y=he((function(e,t){(function(t){if(typeof bootstrap==="function"){bootstrap("promise",t)}else{e.exports=t()}})((function(){var e=false;try{throw new Error}catch(t){e=!!t.stack}var t=A();var r;var n=function(){};var i=function(){var e={task:void 0,next:null};var t=e;var r=false;var n=void 0;var s=false;var a=[];function o(){var t,n;while(e.next){e=e.next;t=e.task;e.task=void 0;n=e.domain;if(n){e.domain=void 0;n.enter()}u(t,n)}while(a.length){t=a.pop();u(t)}r=false}function u(e,t){try{e()}catch(e){if(s){if(t){t.exit()}setTimeout(o,0);if(t){t.enter()}throw e}else{setTimeout((function(){throw e}),0)}}if(t){t.exit()}}i=function(e){t=t.next={task:e,domain:s&&bt.domain,next:null};if(!r){r=true;n()}};if(typeof bt==="object"&&bt.toString()==="[object process]"&&ze){s=true;n=function(){ze(o)}}else if(typeof setImmediate==="function"){if(typeof window!=="undefined"){n=setImmediate.bind(window,o)}else{n=function(){setImmediate(o)}}}else if(typeof MessageChannel!=="undefined"){var c=new MessageChannel;c.port1.onmessage=function(){n=f;c.port1.onmessage=o;o()};var f=function(){c.port2.postMessage(0)};n=function(){setTimeout(o,0);f()}}else{n=function(){setTimeout(o,0)}}i.runAfter=function(e){a.push(e);if(!r){r=true;n()}};return i}();var s=Function.call;function a(e){return function(){return s.apply(e,arguments)}}var o=a(Array.prototype.slice);var u=a(Array.prototype.reduce||function(e,t){var r=0,n=this.length;if(arguments.length===1){do{if(r in this){t=this[r++];break}if(++r>=n){throw new TypeError}}while(1)}for(;r<n;r++){if(r in this){t=e(t,this[r],r)}}return t});var c=a(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++){if(this[t]===e){return t}}return-1});var f=a(Array.prototype.map||function(e,t){var r=this;var n=[];u(r,(function(i,s,a){n.push(e.call(t,s,a,r))}),void 0);return n});var l=Object.create||function(e){function t(){}t.prototype=e;return new t};var h=a(Object.prototype.hasOwnProperty);var d=Object.keys||function(e){var t=[];for(var r in e){if(h(e,r)){t.push(r)}}return t};var p=a(Object.prototype.toString);function v(e){return e===Object(e)}function g(e){return p(e)==="[object StopIteration]"||e instanceof y}var y;if(typeof ReturnValue!=="undefined"){y=ReturnValue}else{y=function(e){this.value=e}}var m="From previous event:";function b(t,r){if(e&&r.stack&&typeof t==="object"&&t!==null&&t.stack&&t.stack.indexOf(m)===-1){var n=[];for(var i=r;!!i;i=i.source){if(i.stack){n.unshift(i.stack)}}n.unshift(t.stack);var s=n.join("\n"+m+"\n");t.stack=w(s)}}function w(e){var t=e.split("\n");var r=[];for(var n=0;n<t.length;++n){var i=t[n];if(!x(i)&&!S(i)&&i){r.push(i)}}return r.join("\n")}function S(e){return e.indexOf("(module.js:")!==-1||e.indexOf("(node.js:")!==-1}function E(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t){return[t[1],Number(t[2])]}var r=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(r){return[r[1],Number(r[2])]}var n=/.*@(.+):(\d+)$/.exec(e);if(n){return[n[1],Number(n[2])]}}function x(e){var n=E(e);if(!n){return false}var i=n[0];var s=n[1];return i===r&&s>=t&&s<=oe}function A(){if(!e){return}try{throw new Error}catch(e){var t=e.stack.split("\n");var n=t[0].indexOf("@")>0?t[1]:t[2];var i=E(n);if(!i){return}r=i[0];return i[1]}}function F(e,t,r){return function(){if(typeof console!=="undefined"&&typeof console.warn==="function"){console.warn(t+" is deprecated, use "+r+" instead.",new Error("").stack)}return e.apply(e,arguments)}}function T(e){if(e instanceof O){return e}if(N(e)){return W(e)}else{return Q(e)}}T.resolve=T;T.nextTick=i;T.longStackSupport=false;if(typeof bt==="object"&&bt&&bt.env&&bt.env.Q_DEBUG){T.longStackSupport=true}T.defer=C;function C(){var t=[],r=[],n;var i=l(C.prototype);var s=l(O.prototype);s.promiseDispatch=function(e,i,s){var a=o(arguments);if(t){t.push(a);if(i==="when"&&s[1]){r.push(s[1])}}else{T.nextTick((function(){n.promiseDispatch.apply(n,a)}))}};s.valueOf=function(){if(t){return s}var e=D(n);if(_(e)){n=e}return e};s.inspect=function(){if(!n){return{state:"pending"}}return n.inspect()};if(T.longStackSupport&&e){try{throw new Error}catch(e){s.stack=e.stack.substring(e.stack.indexOf("\n")+1)}}function a(e){n=e;s.source=e;u(t,(function(t,r){T.nextTick((function(){e.promiseDispatch.apply(e,r)}))}),void 0);t=void 0;r=void 0}i.promise=s;i.resolve=function(e){if(n){return}a(T(e))};i.fulfill=function(e){if(n){return}a(Q(e))};i.reject=function(e){if(n){return}a(z(e))};i.notify=function(e){if(n){return}u(r,(function(t,r){T.nextTick((function(){r(e)}))}),void 0)};return i}C.prototype.makeNodeResolver=function(){var e=this;return function(t,r){if(t){e.reject(t)}else if(arguments.length>2){e.resolve(o(arguments,1))}else{e.resolve(r)}}};T.Promise=k;T.promise=k;function k(e){if(typeof e!=="function"){throw new TypeError("resolver must be a function.")}var t=C();try{e(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}return t.promise}k.race=I;k.all=te;k.reject=z;k.resolve=T;T.passByCopy=function(e){return e};O.prototype.passByCopy=function(){return this};T.join=function(e,t){return T(e).join(t)};O.prototype.join=function(e){return T([this,e]).spread((function(e,t){if(e===t){return e}else{throw new Error("Can't join: not the same: "+e+" "+t)}}))};T.race=I;function I(e){return k((function(t,r){for(var n=0,i=e.length;n<i;n++){T(e[n]).then(t,r)}}))}O.prototype.race=function(){return this.then(T.race)};T.makePromise=O;function O(e,t,r){if(t===void 0){t=function(e){return z(new Error("Promise does not support operation: "+e))}}if(r===void 0){r=function(){return{state:"unknown"}}}var n=l(O.prototype);n.promiseDispatch=function(r,i,s){var a;try{if(e[i]){a=e[i].apply(n,s)}else{a=t.call(n,i,s)}}catch(e){a=z(e)}if(r){r(a)}};n.inspect=r;if(r){var i=r();if(i.state==="rejected"){n.exception=i.reason}n.valueOf=function(){var e=r();if(e.state==="pending"||e.state==="rejected"){return n}return e.value}}return n}O.prototype.toString=function(){return"[object Promise]"};O.prototype.then=function(e,t,r){var n=this;var i=C();var s=false;function a(t){try{return typeof e==="function"?e(t):t}catch(e){return z(e)}}function o(e){if(typeof t==="function"){b(e,n);try{return t(e)}catch(e){return z(e)}}return z(e)}function u(e){return typeof r==="function"?r(e):e}T.nextTick((function(){n.promiseDispatch((function(e){if(s){return}s=true;i.resolve(a(e))}),"when",[function(e){if(s){return}s=true;i.resolve(o(e))}])}));n.promiseDispatch(void 0,"when",[void 0,function(e){var t;var r=false;try{t=u(e)}catch(e){r=true;if(T.onerror){T.onerror(e)}else{throw e}}if(!r){i.notify(t)}}]);return i.promise};T.tap=function(e,t){return T(e).tap(t)};O.prototype.tap=function(e){e=T(e);return this.then((function(t){return e.fcall(t).thenResolve(t)}))};T.when=R;function R(e,t,r,n){return T(e).then(t,r,n)}O.prototype.thenResolve=function(e){return this.then((function(){return e}))};T.thenResolve=function(e,t){return T(e).thenResolve(t)};O.prototype.thenReject=function(e){return this.then((function(){throw e}))};T.thenReject=function(e,t){return T(e).thenReject(t)};T.nearer=D;function D(e){if(_(e)){var t=e.inspect();if(t.state==="fulfilled"){return t.value}}return e}T.isPromise=_;function _(e){return e instanceof O}T.isPromiseAlike=N;function N(e){return v(e)&&typeof e.then==="function"}T.isPending=P;function P(e){return _(e)&&e.inspect().state==="pending"}O.prototype.isPending=function(){return this.inspect().state==="pending"};T.isFulfilled=j;function j(e){return!_(e)||e.inspect().state==="fulfilled"}O.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"};T.isRejected=B;function B(e){return _(e)&&e.inspect().state==="rejected"}O.prototype.isRejected=function(){return this.inspect().state==="rejected"};var L=[];var H=[];var M=[];var V=true;function U(){L.length=0;H.length=0;if(!V){V=true}}function q(e,t){if(!V){return}if(typeof bt==="object"&&typeof bt.emit==="function"){T.nextTick.runAfter((function(){if(c(H,e)!==-1){bt.emit("unhandledRejection",t,e);M.push(e)}}))}H.push(e);if(t&&typeof t.stack!=="undefined"){L.push(t.stack)}else{L.push("(no stack) "+t)}}function K(e){if(!V){return}var t=c(H,e);if(t!==-1){if(typeof bt==="object"&&typeof bt.emit==="function"){T.nextTick.runAfter((function(){var r=c(M,e);if(r!==-1){bt.emit("rejectionHandled",L[t],e);M.splice(r,1)}}))}H.splice(t,1);L.splice(t,1)}}T.resetUnhandledRejections=U;T.getUnhandledReasons=function(){return L.slice()};T.stopUnhandledRejectionTracking=function(){U();V=false};U();T.reject=z;function z(e){var t=O({when:function(t){if(t){K(this)}return t?t(e):this}},(function e(){return this}),(function t(){return{state:"rejected",reason:e}}));q(t,e);return t}T.fulfill=Q;function Q(e){return O({when:function(){return e},get:function(t){return e[t]},set:function(t,r){e[t]=r},delete:function(t){delete e[t]},post:function(t,r){if(t===null||t===void 0){return e.apply(void 0,r)}else{return e[t].apply(e,r)}},apply:function(t,r){return e.apply(t,r)},keys:function(){return d(e)}},void 0,(function t(){return{state:"fulfilled",value:e}}))}function W(e){var t=C();T.nextTick((function(){try{e.then(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}}));return t.promise}T.master=Y;function Y(e){return O({isDef:function(){}},(function t(r,n){return ee(e,r,n)}),(function(){return T(e).inspect()}))}T.spread=G;function G(e,t,r){return T(e).spread(t,r)}O.prototype.spread=function(e,t){return this.all().then((function(t){return e.apply(void 0,t)}),t)};T.async=J;function J(e){return function(){function t(e,t){var s;if(typeof StopIteration==="undefined"){try{s=r[e](t)}catch(e){return z(e)}if(s.done){return T(s.value)}else{return R(s.value,n,i)}}else{try{s=r[e](t)}catch(e){if(g(e)){return T(e.value)}else{return z(e)}}return R(s,n,i)}}var r=e.apply(this,arguments);var n=t.bind(t,"next");var i=t.bind(t,"throw");return n()}}T.spawn=$;function $(e){T.done(T.async(e)())}T["return"]=X;function X(e){throw new y(e)}T.promised=Z;function Z(e){return function(){return G([this,te(arguments)],(function(t,r){return e.apply(t,r)}))}}T.dispatch=ee;function ee(e,t,r){return T(e).dispatch(t,r)}O.prototype.dispatch=function(e,t){var r=this;var n=C();T.nextTick((function(){r.promiseDispatch(n.resolve,e,t)}));return n.promise};T.get=function(e,t){return T(e).dispatch("get",[t])};O.prototype.get=function(e){return this.dispatch("get",[e])};T.set=function(e,t,r){return T(e).dispatch("set",[t,r])};O.prototype.set=function(e,t){return this.dispatch("set",[e,t])};T.del=T["delete"]=function(e,t){return T(e).dispatch("delete",[t])};O.prototype.del=O.prototype["delete"]=function(e){return this.dispatch("delete",[e])};T.mapply=T.post=function(e,t,r){return T(e).dispatch("post",[t,r])};O.prototype.mapply=O.prototype.post=function(e,t){return this.dispatch("post",[e,t])};T.send=T.mcall=T.invoke=function(e,t){return T(e).dispatch("post",[t,o(arguments,2)])};O.prototype.send=O.prototype.mcall=O.prototype.invoke=function(e){return this.dispatch("post",[e,o(arguments,1)])};T.fapply=function(e,t){return T(e).dispatch("apply",[void 0,t])};O.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])};T["try"]=T.fcall=function(e){return T(e).dispatch("apply",[void 0,o(arguments,1)])};O.prototype.fcall=function(){return this.dispatch("apply",[void 0,o(arguments)])};T.fbind=function(e){var t=T(e);var r=o(arguments,1);return function e(){return t.dispatch("apply",[this,r.concat(o(arguments))])}};O.prototype.fbind=function(){var e=this;var t=o(arguments);return function r(){return e.dispatch("apply",[this,t.concat(o(arguments))])}};T.keys=function(e){return T(e).dispatch("keys",[])};O.prototype.keys=function(){return this.dispatch("keys",[])};T.all=te;function te(e){return R(e,(function(e){var t=0;var r=C();u(e,(function(n,i,s){var a;if(_(i)&&(a=i.inspect()).state==="fulfilled"){e[s]=a.value}else{++t;R(i,(function(n){e[s]=n;if(--t===0){r.resolve(e)}}),r.reject,(function(e){r.notify({index:s,value:e})}))}}),void 0);if(t===0){r.resolve(e)}return r.promise}))}O.prototype.all=function(){return te(this)};T.any=re;function re(e){if(e.length===0){return T.resolve()}var t=T.defer();var r=0;u(e,(function(n,i,s){var a=e[s];r++;R(a,o,u,c);function o(e){t.resolve(e)}function u(){r--;if(r===0){t.reject(new Error("Can't get fulfillment value from any promise, all "+"promises were rejected."))}}function c(e){t.notify({index:s,value:e})}}),undefined);return t.promise}O.prototype.any=function(){return re(this)};T.allResolved=F(ne,"allResolved","allSettled");function ne(e){return R(e,(function(e){e=f(e,T);return R(te(f(e,(function(e){return R(e,n,n)}))),(function(){return e}))}))}O.prototype.allResolved=function(){return ne(this)};T.allSettled=ie;function ie(e){return T(e).allSettled()}O.prototype.allSettled=function(){return this.then((function(e){return te(f(e,(function(e){e=T(e);function t(){return e.inspect()}return e.then(t,t)})))}))};T.fail=T["catch"]=function(e,t){return T(e).then(void 0,t)};O.prototype.fail=O.prototype["catch"]=function(e){return this.then(void 0,e)};T.progress=se;function se(e,t){return T(e).then(void 0,void 0,t)}O.prototype.progress=function(e){return this.then(void 0,void 0,e)};T.fin=T["finally"]=function(e,t){return T(e)["finally"](t)};O.prototype.fin=O.prototype["finally"]=function(e){e=T(e);return this.then((function(t){return e.fcall().then((function(){return t}))}),(function(t){return e.fcall().then((function(){throw t}))}))};T.done=function(e,t,r,n){return T(e).done(t,r,n)};O.prototype.done=function(e,t,r){var n=function(e){T.nextTick((function(){b(e,i);if(T.onerror){T.onerror(e)}else{throw e}}))};var i=e||t||r?this.then(e,t,r):this;if(typeof bt==="object"&&bt&&bt.domain){n=bt.domain.bind(n)}i.then(void 0,n)};T.timeout=function(e,t,r){return T(e).timeout(t,r)};O.prototype.timeout=function(e,t){var r=C();var n=setTimeout((function(){if(!t||"string"===typeof t){t=new Error(t||"Timed out after "+e+" ms");t.code="ETIMEDOUT"}r.reject(t)}),e);this.then((function(e){clearTimeout(n);r.resolve(e)}),(function(e){clearTimeout(n);r.reject(e)}),r.notify);return r.promise};T.delay=function(e,t){if(t===void 0){t=e;e=void 0}return T(e).delay(t)};O.prototype.delay=function(e){return this.then((function(t){var r=C();setTimeout((function(){r.resolve(t)}),e);return r.promise}))};T.nfapply=function(e,t){return T(e).nfapply(t)};O.prototype.nfapply=function(e){var t=C();var r=o(e);r.push(t.makeNodeResolver());this.fapply(r).fail(t.reject);return t.promise};T.nfcall=function(e){var t=o(arguments,1);return T(e).nfapply(t)};O.prototype.nfcall=function(){var e=o(arguments);var t=C();e.push(t.makeNodeResolver());this.fapply(e).fail(t.reject);return t.promise};T.nfbind=T.denodeify=function(e){var t=o(arguments,1);return function(){var r=t.concat(o(arguments));var n=C();r.push(n.makeNodeResolver());T(e).fapply(r).fail(n.reject);return n.promise}};O.prototype.nfbind=O.prototype.denodeify=function(){var e=o(arguments);e.unshift(this);return T.denodeify.apply(void 0,e)};T.nbind=function(e,t){var r=o(arguments,2);return function(){var n=r.concat(o(arguments));var i=C();n.push(i.makeNodeResolver());function s(){return e.apply(t,arguments)}T(s).fapply(n).fail(i.reject);return i.promise}};O.prototype.nbind=function(){var e=o(arguments,0);e.unshift(this);return T.nbind.apply(void 0,e)};T.nmapply=T.npost=function(e,t,r){return T(e).npost(t,r)};O.prototype.nmapply=O.prototype.npost=function(e,t){var r=o(t||[]);var n=C();r.push(n.makeNodeResolver());this.dispatch("post",[e,r]).fail(n.reject);return n.promise};T.nsend=T.nmcall=T.ninvoke=function(e,t){var r=o(arguments,2);var n=C();r.push(n.makeNodeResolver());T(e).dispatch("post",[t,r]).fail(n.reject);return n.promise};O.prototype.nsend=O.prototype.nmcall=O.prototype.ninvoke=function(e){var t=o(arguments,1);var r=C();t.push(r.makeNodeResolver());this.dispatch("post",[e,t]).fail(r.reject);return r.promise};T.nodeify=ae;function ae(e,t){return T(e).nodeify(t)}O.prototype.nodeify=function(e){if(e){this.then((function(t){T.nextTick((function(){e(null,t)}))}),(function(t){T.nextTick((function(){e(t)}))}))}else{return this}};T.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var oe=A();return T}))}));function Xy(e,t){this.name="AuthApiError";this.message=e.errorSummary;this.errorSummary=e.errorSummary;this.errorCode=e.errorCode;this.errorLink=e.errorLink;this.errorId=e.errorId;this.errorCauses=e.errorCauses;if(t){this.xhr=t}}Xy.prototype=new Error;var Zy=Xy;function em(e,t){t=t||{};var r=t.url,n=t.method,i=t.args,s=t.saveAuthnState,a=t.accessToken,o=t.withCredentials!==false,u=e.options.storageUtil,c=u.storage,f=u.getHttpCache();if(t.cacheResponse){var l=f.getStorage();var h=l[r];if(h&&Date.now()/1e3<h.expiresAt){return $y.resolve(h.response)}}var d={Accept:"application/json","Content-Type":"application/json","X-Okta-User-Agent-Extended":e.userAgent};Jy.extend(d,e.options.headers,t.headers);if(a&&Jy.isString(a)){d["Authorization"]="Bearer "+a}var p={headers:d,data:i||undefined,withCredentials:o};var v,g;return new $y(e.options.httpRequestClient(n,r,p)).then((function(e){g=e.responseText;if(g&&Jy.isString(g)){g=JSON.parse(g)}if(s){if(!g.stateToken){c.delete(Qy.STATE_TOKEN_KEY_NAME)}}if(g&&g.stateToken&&g.expiresAt){c.set(Qy.STATE_TOKEN_KEY_NAME,g.stateToken,g.expiresAt)}if(g&&t.cacheResponse){f.updateStorage(r,{expiresAt:Math.floor(Date.now()/1e3)+Qy.DEFAULT_CACHE_DURATION,response:g})}return g})).fail((function(t){var r=t.responseText||{};if(Jy.isString(r)){try{r=JSON.parse(r)}catch(e){r={errorSummary:"Unknown error"}}}if(t.status>=500){r.errorSummary="Unknown error"}if(e.options.transformErrorXHR){t=e.options.transformErrorXHR(Jy.clone(t))}v=new Zy(r,t);if(v.errorCode==="E0000011"){c.delete(Qy.STATE_TOKEN_KEY_NAME)}throw v}))}function tm(e,t,r){t=Jy.isAbsoluteUrl(t)?t:e.options.url+t;var n={url:t,method:"GET"};Jy.extend(n,r);return em(e,n)}function rm(e,t,r,n){t=Jy.isAbsoluteUrl(t)?t:e.options.url+t;var i={url:t,method:"POST",args:r,saveAuthnState:true};Jy.extend(i,n);return em(e,i)}var nm={get:tm,post:rm,httpRequest:em};function im(){this.name="AuthPollStopError";this.message="The poll was stopped by the sdk"}im.prototype=new Error;var sm=im;function am(e,t){var r={};Jy.extend(r,t);if(!r.stateToken&&e.stateToken){r.stateToken=e.stateToken}return r}function om(e){return am(e)}function um(e,t){t=am(e,t);return nm.post(e,e.options.url+"/api/v1/authn",t)}function cm(e,t){if(!t||!t.stateToken){var r=e.tx.exists._get(Qy.STATE_TOKEN_KEY_NAME);if(r){t={stateToken:r}}else{return $y.reject(new qy("No transaction to resume"))}}return e.tx.status(t).then((function(t){return new mm(e,t)}))}function fm(e,t){if(!t||!t.stateToken){var r=e.tx.exists._get(Qy.STATE_TOKEN_KEY_NAME);if(r){t={stateToken:r}}else{return $y.reject(new qy("No transaction to evaluate"))}}return lm(e,t).then((function(t){return new mm(e,t)}))}function lm(e,t){t=am(e,t);return nm.post(e,e.options.url+"/idp/idx/introspect",t)}function hm(e){return!!e.tx.exists._get(Qy.STATE_TOKEN_KEY_NAME)}function dm(e,t,r,n){return nm.post(e,t,r,n).then((function(t){return new mm(e,t)}))}function pm(e,t,r){return function(n){var i;var s;var a;if(Jy.isNumber(n)){i=n}else if(Jy.isObject(n)){i=n.delay;s=n.rememberDevice;a=n.autoPush}if(!i&&i!==0){i=Qy.DEFAULT_POLLING_DELAY}var o=Jy.getLink(t,"next","poll");function u(){var r={};if(typeof a==="function"){try{r.autoPush=!!a()}catch(e){return $y.reject(new qy("AutoPush resulted in an error."))}}else if(a!==undefined&&a!==null){r.autoPush=!!a}if(typeof s==="function"){try{r.rememberDevice=!!s()}catch(e){return $y.reject(new qy("RememberDevice resulted in an error."))}}else if(s!==undefined&&s!==null){r.rememberDevice=!!s}var n=o.href+Jy.toQueryParams(r);return nm.post(e,n,om(t),{saveAuthnState:false})}r.isPolling=true;var c=0;var f=function(){if(!r.isPolling){return $y.reject(new sm)}return u().then((function(t){c=0;if(t.factorResult&&t.factorResult==="WAITING"){if(!r.isPolling){throw new sm}return $y.delay(i).then(f)}else{r.isPolling=false;return new mm(e,t)}})).fail((function(e){if(e.xhr&&(e.xhr.status===0||e.xhr.status===429)&&c<=4){var t=Math.pow(2,c)*1e3;c++;return $y.delay(t).then(f)}throw e}))};return f().fail((function(e){r.isPolling=false;throw e}))}}function vm(e,t,r,n,i){if(Array.isArray(n)){return function(s,a){if(!s){throw new qy("Must provide a link name")}var o=Jy.find(n,{name:s});if(!o){throw new qy("No link found for that name")}return vm(e,t,r,o,i)(a)}}else if(n.hints&&n.hints.allow&&n.hints.allow.length===1){var s=n.hints.allow[0];switch(s){case"GET":return function(){return nm.get(e,n.href)};case"POST":return function(s){if(i&&i.isPolling){i.isPolling=false}var a=am(t,s);if(t.status==="MFA_ENROLL"||t.status==="FACTOR_ENROLL"){Jy.extend(a,{factorType:r.factorType,provider:r.provider})}var o={};var u=a.autoPush;if(u!==undefined){if(typeof u==="function"){try{o.autoPush=!!u()}catch(e){return $y.reject(new qy("AutoPush resulted in an error."))}}else if(u!==null){o.autoPush=!!u}a=Jy.omit(a,"autoPush")}var c=a.rememberDevice;if(c!==undefined){if(typeof c==="function"){try{o.rememberDevice=!!c()}catch(e){return $y.reject(new qy("RememberDevice resulted in an error."))}}else if(c!==null){o.rememberDevice=!!c}a=Jy.omit(a,"rememberDevice")}else if(a.profile&&a.profile.updatePhone!==undefined){if(a.profile.updatePhone){o.updatePhone=true}a.profile=Jy.omit(a.profile,"updatePhone")}var f=n.href+Jy.toQueryParams(o);return dm(e,f,a)}}}}function gm(e,t,r,n){var i={};for(var s in r._links){if(!r._links.hasOwnProperty(s)){continue}var a=r._links[s];if(s==="next"){s=a.name}if(a.type){i[s]=a;continue}switch(s){case"poll":i.poll=pm(e,t,n);break;default:var o=vm(e,t,r,a,n);if(o){i[s]=o}}}return i}function ym(e,t,r,n){r=r||t;r=Jy.clone(r);if(Array.isArray(r)){var i=[];for(var s=0,a=r.length;s<a;s++){i.push(ym(e,t,r[s],n))}return i}var o=r._embedded||{};for(var u in o){if(!o.hasOwnProperty(u)){continue}if(Jy.isObject(o[u])||Array.isArray(o[u])){o[u]=ym(e,t,o[u],n)}}var c=gm(e,t,r,n);Jy.extend(o,c);r=Jy.omit(r,"_embedded","_links");Jy.extend(r,o);return r}function mm(e,t){if(t){this.data=t;Jy.extend(this,ym(e,t,t,{}));delete this.stateToken;if(t.status==="RECOVERY_CHALLENGE"&&!t._links){this.cancel=function(){return new $y(new mm(e))}}}}var bm={transactionStatus:um,resumeTransaction:cm,transactionExists:hm,postToTransaction:dm,introspect:fm};function wm(e){if(!e){throw new qy("No arguments passed to constructor. "+"Required usage: new OktaAuth(args)")}var t=e.url;if(!t){var r=new RegExp("^http?s?://.+");if(e.issuer&&r.test(e.issuer)){t=e.issuer.split("/oauth2/")[0]}else{throw new qy("No url passed to constructor. "+'Required usage: new OktaAuth({url: "https://{yourOktaDomain}.com"})')}}if(t.indexOf("-admin.")!==-1){throw new qy('URL passed to constructor contains "-admin" in subdomain. '+'Required usage: new OktaAuth({url: "https://{yourOktaDomain}.com})')}return t}function Sm(e){e.forgotPassword=function(e){return bm.postToTransaction(this,"/api/v1/authn/recovery/password",e)};e.unlockAccount=function(e){return bm.postToTransaction(this,"/api/v1/authn/recovery/unlock",e)};e.verifyRecoveryToken=function(e){return bm.postToTransaction(this,"/api/v1/authn/recovery/token",e)}}function Em(e){return function(t,r){function n(i){if(!(this instanceof n)){return new n(i)}if(i){i.storageUtil=t;if(i.ajaxRequest){Jy.deprecate("ajaxRequest is being deprecated, use httpRequestClient attribute instead.");i.httpRequestClient=i.ajaxRequest}else if(!i.httpRequestClient){i.httpRequestClient=r}}Jy.bind(e,this)(i)}n.prototype=e.prototype;n.prototype.constructor=n;n.features=e.prototype.features;return n}}var xm={addSharedPrototypes:Sm,buildOktaAuth:Em,getValidUrl:wm};var Am=Yy.getHttpCache();function Fm(){return Jy.genRandomString(64)}function Tm(){return Jy.genRandomString(64)}function Cm(e){if(e&&(e.accessToken||e.idToken)&&Array.isArray(e.scopes)){return true}return false}function km(e,t,r){if(e.addEventListener){e.addEventListener(t,r)}else{e.attachEvent("on"+t,r)}}function Im(e,t,r){if(e.removeEventListener){e.removeEventListener(t,r)}else{e.detachEvent("on"+t,r)}}function Om(e){var t=document.createElement("iframe");t.style.display="none";t.src=e;return document.body.appendChild(t)}function Rm(e,t){var r=t.popupTitle||"External Identity Provider User Authentication";var n="toolbar=no, scrollbars=yes, resizable=yes, "+"top=100, left=500, width=600, height=600";if(Jy.isIE11OrLess()){var i=window.open("/",r,n);i.location.href=e;return i}else{return window.open(e,r,n)}}function Dm(e,t){return nm.get(e,(t||e.options.url)+"/.well-known/openid-configuration",{cacheResponse:true})}function _m(e,t,r){return Dm(e,t).then((function(t){var n=t["jwks_uri"];var i=Am.getStorage();var s=i[n];if(s&&Date.now()/1e3<s.expiresAt){var a=Jy.find(s.response.keys,{kid:r});if(a){return a}}Am.clearStorage(n);return nm.get(e,n,{cacheResponse:true}).then((function(e){var t=Jy.find(e.keys,{kid:r});if(t){return t}throw new qy("The key id, "+r+", was not found in the server's keys")}))}))}function Nm(e,t,r){var n=r.clientId;var i=r.issuer;var s=r.nonce;if(!t||!i||!n){throw new qy("The jwt, iss, and aud arguments are all required")}if(s&&t.nonce!==s){throw new qy("OAuth flow response nonce doesn't match request nonce")}var a=Math.floor(Date.now()/1e3);if(t.iss!==i){throw new qy("The issuer ["+t.iss+"] "+"does not match ["+i+"]")}if(t.aud!==n){throw new qy("The audience ["+t.aud+"] "+"does not match ["+n+"]")}if(t.iat>t.exp){throw new qy("The JWT expired before it was issued")}if(a-e.options.maxClockSkew>t.exp){throw new qy("The JWT expired and is no longer valid")}if(t.iat>a+e.options.maxClockSkew){throw new qy("The JWT was issued in the future")}}function Pm(e,t,r){r=r||{};var n=Jy.removeTrailingSlash(r.authorizeUrl)||e.options.authorizeUrl;var i=Jy.removeTrailingSlash(r.issuer)||e.options.issuer;var s=Jy.removeTrailingSlash(r.userinfoUrl)||e.options.userinfoUrl;var a=Jy.removeTrailingSlash(r.tokenUrl)||e.options.tokenUrl;if(i&&!/^https?:/.test(i)){i=e.options.url+"/oauth2/"+i}if(!i&&n&&t.responseType.indexOf("id_token")!==-1){throw new qy("Cannot request idToken with an authorizeUrl without an issuer")}if(!i&&t.responseType.indexOf("token")!==-1){if(n&&!s){throw new qy("Cannot request accessToken with an authorizeUrl without an issuer or userinfoUrl")}if(s&&!n){throw new qy("Cannot request token with an userinfoUrl without an issuer or authorizeUrl")}}var o=new RegExp("^https?://.*?/oauth2/.+");i=i||e.options.url;if(o.test(i)){n=n||i+"/v1/authorize";s=s||i+"/v1/userinfo";a=a||i+"/v1/token"}else{n=n||i+"/oauth2/v1/authorize";s=s||i+"/oauth2/v1/userinfo";a=a||i+"/oauth2/v1/token"}return{issuer:i,authorizeUrl:n,userinfoUrl:s,tokenUrl:a}}function jm(e){var t=/\+/g;var r=/([^&=]+)=?([^&]*)/g;var n=e.substring(1);var i={};var s;while(true){s=r.exec(n);if(!s){break}var a=s[1];var o=s[2];if(a==="id_token"||a==="access_token"||a==="code"){i[a]=o}else{i[a]=decodeURIComponent(o.replace(t," "))}}return i}var Bm={generateState:Fm,generateNonce:Tm,getWellKnown:Dm,getKey:_m,validateClaims:Nm,getOAuthUrls:Pm,loadFrame:Om,loadPopup:Rm,hashToObject:jm,isToken:Cm,addListener:km,removeListener:Im};function Lm(e){return e.session.get().then((function(e){if(e.status==="ACTIVE"){return true}return false})).fail((function(){return false}))}function Hm(e){return nm.get(e,"/api/v1/sessions/me").then((function(t){var r=Jy.omit(t,"_links");r.refresh=function(){return nm.post(e,Jy.getLink(t,"refresh").href)};r.user=function(){return nm.get(e,Jy.getLink(t,"user").href)};return r})).fail((function(){return{status:"INACTIVE"}}))}function Mm(e){return nm.httpRequest(e,{url:e.options.url+"/api/v1/sessions/me",method:"DELETE"})}function Vm(e){return nm.post(e,"/api/v1/sessions/me/lifecycle/refresh")}function Um(e,t,r){r=r||window.location.href;window.location=e.options.url+"/login/sessionCookieRedirect"+Jy.toQueryParams({checkAccountSetupComplete:true,token:t,redirectUrl:r})}var qm={sessionExists:Lm,getSession:Hm,closeSession:Mm,refreshSession:Vm,setCookieAndRedirect:Um};function Km(e,t){t=Jy.clone(t);var r="jwk";var n={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};var i=true;var s=["verify"];delete t.use;return crypto.subtle.importKey(r,t,n,i,s).then((function(t){var r=e.split(".");var i=Jy.stringToBuffer(r[0]+"."+r[1]);var s=Jy.base64UrlDecode(r[2]);var a=Jy.stringToBuffer(s);return crypto.subtle.verify(n,t,a,i)}))}var zm={verifyToken:Km};function Qm(e,t){this.name="OAuthError";this.message=t;this.errorCode=e;this.errorSummary=t}Qm.prototype=new Error;var Wm=Qm;var Ym=43;var Gm=128;var Jm="S256";function $m(e){return("0"+e.toString(16)).substr(-2)}function Xm(e){var t=new Uint8Array(Math.ceil(e/2));crypto.getRandomValues(t);var r=Array.from(t,$m).join("");return r.slice(0,e)}function Zm(e){var t=e||"";if(t.length<Ym){t=t+Xm(Ym-t.length)}return encodeURIComponent(t).slice(0,Gm)}function eb(e,t){var r=e.options.storageUtil.getPKCEStorage();r.setStorage(t)}function tb(e){var t=e.options.storageUtil.getPKCEStorage();var r=t.getStorage();return r}function rb(e){var t=e.options.storageUtil.getPKCEStorage();t.clearStorage()}function nb(e){var t=(new TextEncoder).encode(e);return crypto.subtle.digest("SHA-256",t).then((function(e){var t=String.fromCharCode.apply(null,new Uint8Array(e));var r=Jy.stringToBase64Url(t);return r}))}function ib(e){if(!e.clientId){throw new qy("A clientId must be specified in the OktaAuth constructor to get a token")}if(!e.redirectUri){throw new qy("The redirectUri passed to /authorize must also be passed to /token")}if(!e.authorizationCode){throw new qy("An authorization code (returned from /authorize) must be passed to /token")}if(!e.codeVerifier){throw new qy('The "codeVerifier" (generated and saved by your app) must be passed to /token')}}function sb(e){var t=Jy.removeNils({client_id:e.clientId,redirect_uri:e.redirectUri,grant_type:"authorization_code",code:e.authorizationCode,code_verifier:e.codeVerifier});return Jy.toQueryParams(t).slice(1)}function ab(e,t,r){ib(t);var n=sb(t);return nm.httpRequest(e,{url:r.tokenUrl,method:"POST",args:n,withCredentials:false,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}var ob={DEFAULT_CODE_CHALLENGE_METHOD:Jm,generateVerifier:Zm,clearMeta:rb,saveMeta:eb,loadMeta:tb,computeChallenge:nb,getToken:ab};var ub=Yy.storage;function cb(e){var t=e.split(".");var r;try{r={header:JSON.parse(Jy.base64UrlToString(t[0])),payload:JSON.parse(Jy.base64UrlToString(t[1])),signature:t[2]}}catch(e){throw new qy("Malformed token")}return r}function fb(e,t,r){return(new $y).then((function(){if(!t||!t.idToken){throw new qy("Only idTokens may be verified")}var n=cb(t.idToken);var i={clientId:e.options.clientId,issuer:e.options.issuer||e.options.url,ignoreSignature:e.options.ignoreSignature};Jy.extend(i,r);Bm.validateClaims(e,n.payload,i);if(i.ignoreSignature==true||!e.features.isTokenVerifySupported()){return t}return Bm.getKey(e,t.issuer,n.header.kid).then((function(e){return zm.verifyToken(t.idToken,e)})).then((function(e){if(!e){throw new qy("The token signature is not valid")}return t}))}))}function lb(e,t,r){var n=$y.defer();function i(t){if(!t.data||t.origin!==e.options.url||t.data&&Jy.isString(r)&&t.data.state!==r){return}n.resolve(t.data)}Bm.addListener(window,"message",i);return n.promise.timeout(t||12e4,new qy("OAuth flow timed out")).fin((function(){Bm.removeListener(window,"message",i)}))}function hb(e,t,r){var n=$y.defer();function i(){try{if(t&&t.location&&t.location.hash){n.resolve(Bm.hashToObject(t.location.hash))}else if(t&&!t.closed){setTimeout(i,500)}}catch(e){setTimeout(i,500)}}i();return n.promise.timeout(r||12e4,new qy("OAuth flow timed out"))}function db(e,t,r,n){var i=ob.loadMeta(e);var s={clientId:t.clientId,authorizationCode:r,codeVerifier:i.codeVerifier,redirectUri:i.redirectUri};return ob.getToken(e,s,n).then((function(e){pb(e,s);return e})).fin((function(){ob.clearMeta(e)}))}function pb(e,t){if(e["error"]||e["error_description"]){throw new Wm(e["error"],e["error_description"])}if(e.state!==t.state){throw new qy("OAuth flow response state doesn't match request state")}}function vb(e,t,r,n){n=n||{};var i=t.responseType;var s=Jy.clone(t.scopes);var a=t.clientId||e.options.clientId;return(new $y).then((function(){pb(r,t);if(r["code"]){i=["token","id_token"];return db(e,t,r["code"],n)}return r})).then((function(r){var i={};if(r["access_token"]){i["token"]={accessToken:r["access_token"],expiresAt:Number(r["expires_in"])+Math.floor(Date.now()/1e3),tokenType:r["token_type"],scopes:s,authorizeUrl:n.authorizeUrl,userinfoUrl:n.userinfoUrl}}if(r["id_token"]){var o=e.token.decode(r["id_token"]);var u={idToken:r["id_token"],claims:o.payload,expiresAt:o.payload.exp,scopes:s,authorizeUrl:n.authorizeUrl,issuer:n.issuer,clientId:a};var c={clientId:a,issuer:n.issuer,nonce:t.nonce};if(t.ignoreSignature!==undefined){c.ignoreSignature=t.ignoreSignature}return fb(e,u,c).then((function(){i["id_token"]=u;return i}))}return i})).then((function(e){if(!Array.isArray(i)){return e[i]}var t=["token","id_token"];t.filter((function(e){return i.indexOf(e)!==-1})).forEach((function(t){if(!e[t]){throw new qy("Unable to parse OAuth flow response: "+t+" was not returned.")}}));return i.map((function(t){return e[t]}))}))}function gb(e){return{pkce:e.options.pkce||false,clientId:e.options.clientId,redirectUri:e.options.redirectUri||window.location.href,responseType:"id_token",responseMode:"okta_post_message",state:Bm.generateState(),nonce:Bm.generateNonce(),scopes:["openid","email"],ignoreSignature:e.options.ignoreSignature}}function yb(e){if(!e.clientId){throw new qy("A clientId must be specified in the OktaAuth constructor to get a token")}if(Jy.isString(e.responseType)&&e.responseType.indexOf(" ")!==-1){throw new qy("Multiple OAuth responseTypes must be defined as an array")}var t=Jy.removeNils({client_id:e.clientId,code_challenge:e.codeChallenge,code_challenge_method:e.codeChallengeMethod,display:e.display,idp:e.idp,idp_scope:e.idpScope,login_hint:e.loginHint,max_age:e.maxAge,nonce:e.nonce,prompt:e.prompt,redirect_uri:e.redirectUri,response_mode:e.responseMode,response_type:e.responseType,sessionToken:e.sessionToken,state:e.state});["idp_scope","response_type"].forEach((function(e){if(Array.isArray(t[e])){t[e]=t[e].join(" ")}}));if(e.responseType.indexOf("id_token")!==-1&&e.scopes.indexOf("openid")===-1){throw new qy("openid scope must be specified in the scopes argument when requesting an id_token")}else{t.scope=e.scopes.join(" ")}return t}function mb(e){var t=yb(e);return Jy.toQueryParams(t)}function bb(e,t,r){t=t||{};r=r||{};return Eb(e,t).then((function(n){var i={prompt:"none",responseMode:"okta_post_message",display:null};var s={display:"popup"};if(t.sessionToken){Jy.extend(n,i)}else if(t.idp){Jy.extend(n,s)}var a,o,u;try{u=Bm.getOAuthUrls(e,n,r);o=t.codeVerifier?u.tokenUrl:u.authorizeUrl;a=o+mb(n)}catch(e){return $y.reject(e)}var c;if(n.sessionToken||n.display===null){c="IFRAME"}else if(n.display==="popup"){c="POPUP"}else{c="IMPLICIT"}function f(e){var t=/^(https?\:\/\/)?([^:\/?#]*(?:\:[0-9]+)?)/;return t.exec(e)[0]}switch(c){case"IFRAME":var l=lb(e,r.timeout,n.state);var h=Bm.loadFrame(a);return l.then((function(t){return vb(e,n,t,u)})).fin((function(){if(document.body.contains(h)){h.parentElement.removeChild(h)}}));case"POPUP":var d;if(n.responseMode==="okta_post_message"){if(!e.features.isPopupPostMessageSupported()){return $y.reject(new qy("This browser doesn't have full postMessage support"))}d=lb(e,r.timeout,n.state)}var p={popupTitle:r.popupTitle};var v=Bm.loadPopup(a,p);if(n.responseMode==="fragment"){var g=f(e.idToken.authorize._getLocationHref());var y=f(n.redirectUri);if(g!==y){return $y.reject(new qy("Using fragment, the redirectUri origin ("+y+") must match the origin of this page ("+g+")"))}d=hb(e,v,r.timeout)}var m=$y.defer();function b(e){if(e.closed){m.reject(new qy("Unable to parse OAuth flow response"))}}var w=setInterval((function(){b(v)}),500);d.then((function(e){m.resolve(e)})).fail((function(e){m.reject(e)}));return m.promise.then((function(t){return vb(e,n,t,u)})).fin((function(){if(!v.closed){clearInterval(w);v.close()}}));default:return $y.reject(new qy("The full page redirect flow is not supported"))}}))}function wb(e,t,r){var n=Jy.clone(t)||{};Jy.extend(n,{prompt:"none",responseMode:"okta_post_message",display:null});return bb(e,n,r)}function Sb(e,t,r){var n=Jy.clone(t)||{};Jy.extend(n,{display:"popup",responseMode:"okta_post_message"});return bb(e,n,r)}function Eb(e,t){t=Jy.clone(t)||{};if(t.grantType==="authorization_code"){t.pkce=true}var r=gb(e);Jy.extend(r,t);if(r.pkce!==true){return $y.resolve(r)}if(!e.features.isPKCESupported()){return $y.reject(new qy("This browser doesn't support PKCE"))}if(!r.codeChallengeMethod){r.codeChallengeMethod=ob.DEFAULT_CODE_CHALLENGE_METHOD}r.responseType="code";return Bm.getWellKnown(e,null).then((function(e){var t=e["code_challenge_methods_supported"]||[];if(t.indexOf(r.codeChallengeMethod)===-1){throw new qy("Invalid code_challenge_method")}})).then((function(){var t=ob.generateVerifier(r.codeVerifier);var n={codeVerifier:t,redirectUri:r.redirectUri};ob.saveMeta(e,n);return ob.computeChallenge(t)})).then((function(e){var t=Jy.clone(r)||{};Jy.extend(t,r,{codeChallenge:e});return t}))}function xb(e,t,r){t=Jy.clone(t)||{};return Eb(e,t).then((function(n){if(!t.responseMode){if(n.responseType.includes("code")&&!n.pkce){n.responseMode="query"}else{n.responseMode="fragment"}}var i=Bm.getOAuthUrls(e,n,r);var s=i.authorizeUrl+mb(n);ub.set(Qy.REDIRECT_OAUTH_PARAMS_COOKIE_NAME,JSON.stringify({responseType:n.responseType,state:n.state,nonce:n.nonce,scopes:n.scopes,clientId:n.clientId,urls:i,ignoreSignature:n.ignoreSignature}));ub.set(Qy.REDIRECT_NONCE_COOKIE_NAME,n.nonce);ub.set(Qy.REDIRECT_STATE_COOKIE_NAME,n.state);e.token.getWithRedirect._setLocation(s)}))}function Ab(e,t){if(!Bm.isToken(t)){return $y.reject(new qy("Renew must be passed a token with "+"an array of scopes and an accessToken or idToken"))}var r;if(e.options.pkce){r="code"}else if(t.accessToken){r="token"}else{r="id_token"}return e.token.getWithoutPrompt({responseType:r,scopes:t.scopes},{authorizeUrl:t.authorizeUrl,userinfoUrl:t.userinfoUrl,issuer:t.issuer})}function Fb(e){var t=e.token.parseFromUrl._getHistory();var r=e.token.parseFromUrl._getDocument();var n=e.token.parseFromUrl._getLocation();if(t&&t.replaceState){t.replaceState(null,r.title,n.pathname+n.search)}else{n.hash=""}}function Tb(e,t){var r=e.token.parseFromUrl._getLocation();var n=r.hash;if(t){n=t.substring(t.indexOf("#"))}if(!n){return $y.reject(new qy("Unable to parse a token from the url"))}var i=ub.get(Qy.REDIRECT_OAUTH_PARAMS_COOKIE_NAME);if(!i){return $y.reject(new qy("Unable to retrieve OAuth redirect params cookie"))}try{var s=JSON.parse(i);var a=s.urls;delete s.urls;ub.delete(Qy.REDIRECT_OAUTH_PARAMS_COOKIE_NAME)}catch(e){return $y.reject(new qy("Unable to parse the "+Qy.REDIRECT_OAUTH_PARAMS_COOKIE_NAME+" cookie: "+e.message))}return $y.resolve(Bm.hashToObject(n)).then((function(r){if(!t){Fb(e)}return vb(e,s,r,a)}))}function Cb(e,t){if(!t||!Bm.isToken(t)&&!t.accessToken&&!t.userinfoUrl){return $y.reject(new qy("getUserInfo requires an access token object"))}return nm.httpRequest(e,{url:t.userinfoUrl,method:"GET",accessToken:t.accessToken}).fail((function(e){if(e.xhr&&(e.xhr.status===401||e.xhr.status===403)){var t;if(e.xhr.headers&&Jy.isFunction(e.xhr.headers.get)&&e.xhr.headers.get("WWW-Authenticate")){t=e.xhr.headers.get("WWW-Authenticate")}else if(Jy.isFunction(e.xhr.getResponseHeader)){t=e.xhr.getResponseHeader("WWW-Authenticate")}if(t){var r=t.match(/error="(.*?)"/)||[];var n=t.match(/error_description="(.*?)"/)||[];var i=r[1];var s=n[1];if(i&&s){e=new Wm(i,s)}}}throw e}))}var kb={getToken:bb,getWithoutPrompt:wb,getWithPopup:Sb,getWithRedirect:xb,parseFromUrl:Tb,decodeToken:cb,renewToken:Ab,getUserInfo:Cb,verifyToken:fb,handleOAuthResponse:vb,prepareOauthParams:Eb};function Ib(){}Ib.prototype={on:function(e,t,r){var n=this.e||(this.e={});(n[e]||(n[e]=[])).push({fn:t,ctx:r});return this},once:function(e,t,r){var n=this;function i(){n.off(e,i);t.apply(r,arguments)}i._=t;return this.on(e,i,r)},emit:function(e){var t=[].slice.call(arguments,1);var r=((this.e||(this.e={}))[e]||[]).slice();var n=0;var i=r.length;for(n;n<i;n++){r[n].fn.apply(r[n].ctx,t)}return this},off:function(e,t){var r=this.e||(this.e={});var n=r[e];var i=[];if(n&&t){for(var s=0,a=n.length;s<a;s++){if(n[s].fn!==t&&n[s].fn._!==t)i.push(n[s])}}i.length?r[e]=i:delete r[e];return this}};var Ob=Ib;function Rb(e){this.localOffset=parseInt(e||0)}Jy.extend(Rb.prototype,{now:function(){var e=(Date.now()+this.localOffset)/1e3;return e}});Rb.create=function(){var e=0;return new Rb(e)};var Db=Rb;var _b={autoRenew:true,storage:"localStorage",expireEarlySeconds:30};function Nb(e,t){var r=t.expiresAt-e.options.expireEarlySeconds;return r}function Pb(e,t){var r=Nb(e,t);return r<=e.clock.now()}function jb(e,t,r){e.emitter.emit("expired",t,r)}function Bb(e,t){e.emitter.emit("error",t)}function Lb(e,t){clearTimeout(e.expireTimeouts[t]);delete e.expireTimeouts[t];delete e.renewPromise[t]}function Hb(e){var t=e.expireTimeouts;for(var r in t){if(!t.hasOwnProperty(r)){continue}Lb(e,r)}}function Mb(e,t,r,n){var i=Nb(t,n);var s=Math.max(i-t.clock.now(),0)*1e3;Lb(t,r);var a=setTimeout((function(){jb(t,r,n)}),s);t.expireTimeouts[r]=a}function Vb(e,t,r){try{var n=r.getStorage()}catch(e){Bb(t,e);return}for(var i in n){if(!n.hasOwnProperty(i)){continue}var s=n[i];Mb(e,t,i,s)}}function Ub(e,t,r,n,i){var s=r.getStorage();if(!Jy.isObject(i)||!i.scopes||!i.expiresAt&&i.expiresAt!==0||!i.idToken&&!i.accessToken){throw new qy("Token must be an Object with scopes, expiresAt, and an idToken or accessToken properties")}s[n]=i;r.setStorage(s);Mb(e,t,n,i)}function qb(e,t){var r=e.getStorage();return r[t]}function Kb(e,t,r,n){return $y.Promise((function(i){var s=qb(r,n);if(!s||!Pb(t,s)){return i(s)}var a=t.options.autoRenew?Qb(e,t,r,n):zb(t,r,n);return i(a)}))}function zb(e,t,r){Lb(e,r);var n=t.getStorage();delete n[r];t.setStorage(n)}function Qb(e,t,r,n){try{var i=qb(r,n);if(!i){throw new qy("The tokenManager has no token for the key: "+n)}}catch(e){return $y.reject(e)}Lb(t,n);if(!t.renewPromise[n]){t.renewPromise[n]=e.token.renew(i).then((function(s){var a=s;if(s instanceof Array){a=s.find((function(e){return e.idToken&&i.idToken||e.accessToken&&i.accessToken}))}var o=qb(r,n);if(!o){return}Ub(e,t,r,n,a);t.emitter.emit("renewed",n,a,o);delete t.renewPromise[n];return a})).fail((function(e){if(e.name==="OAuthError"){zb(t,r,n);Bb(t,e)}throw e}))}return t.renewPromise[n]}function Wb(e,t){Hb(e);t.clearStorage()}function Yb(e,t){t=Jy.extend({},_b,Jy.removeNils(t));if(t.storage==="localStorage"&&!Yy.browserHasLocalStorage()){Jy.warn("This browser doesn't support localStorage. Switching to sessionStorage.");t.storage="sessionStorage"}if(t.storage==="sessionStorage"&&!Yy.browserHasSessionStorage()){Jy.warn("This browser doesn't support sessionStorage. Switching to cookie-based storage.");t.storage="cookie"}var r;switch(t.storage){case"localStorage":r=zy(localStorage,Qy.TOKEN_STORAGE_NAME);break;case"sessionStorage":r=zy(sessionStorage,Qy.TOKEN_STORAGE_NAME);break;case"cookie":r=zy(Yy.getCookieStorage(t),Qy.TOKEN_STORAGE_NAME);break;default:throw new qy("Unrecognized storage option")}var n=Db.create(e,t);var i={clock:n,options:t,emitter:new Ob,expireTimeouts:{},renewPromise:{}};this.add=Jy.bind(Ub,this,e,i,r);this.get=Jy.bind(Kb,this,e,i,r);this.remove=Jy.bind(zb,this,i,r);this.clear=Jy.bind(Wb,this,i,r);this.renew=Jy.bind(Qb,this,e,i,r);this.on=Jy.bind(i.emitter.on,i.emitter);this.off=Jy.bind(i.emitter.off,i.emitter);Vb(e,i,r)}var Gb=Yb;var Jb=Yy.storage;function $b(e){var t=this;var r=xm.getValidUrl(e);var n=e.pkce||e.grantType==="authorization_code";this.options={url:Jy.removeTrailingSlash(r),clientId:e.clientId,issuer:Jy.removeTrailingSlash(e.issuer),authorizeUrl:Jy.removeTrailingSlash(e.authorizeUrl),userinfoUrl:Jy.removeTrailingSlash(e.userinfoUrl),tokenUrl:Jy.removeTrailingSlash(e.tokenUrl),pkce:n,redirectUri:e.redirectUri,httpRequestClient:e.httpRequestClient,storageUtil:e.storageUtil,transformErrorXHR:e.transformErrorXHR,headers:e.headers};if(this.options.pkce&&!t.features.isPKCESupported()){throw new qy("This browser doesn't support PKCE")}this.userAgent="okta-auth-js-"+Qy.SDK_VERSION;if(!e.maxClockSkew&&e.maxClockSkew!==0){this.options.maxClockSkew=Qy.DEFAULT_MAX_CLOCK_SKEW}else{this.options.maxClockSkew=e.maxClockSkew}this.options.ignoreSignature=!!e.ignoreSignature;t.session={close:Jy.bind(qm.closeSession,null,t),exists:Jy.bind(qm.sessionExists,null,t),get:Jy.bind(qm.getSession,null,t),refresh:Jy.bind(qm.refreshSession,null,t),setCookieAndRedirect:Jy.bind(qm.setCookieAndRedirect,null,t)};t.tx={status:Jy.bind(bm.transactionStatus,null,t),resume:Jy.bind(bm.resumeTransaction,null,t),exists:Jy.bind(bm.transactionExists,null,t),introspect:Jy.bind(bm.introspect,null,t)};t.tx.exists._get=function(e){return Jb.get(e)};t.idToken={authorize:{_getLocationHref:function(){return window.location.href}}};t.token={getWithoutPrompt:Jy.bind(kb.getWithoutPrompt,null,t),getWithPopup:Jy.bind(kb.getWithPopup,null,t),getWithRedirect:Jy.bind(kb.getWithRedirect,null,t),parseFromUrl:Jy.bind(kb.parseFromUrl,null,t),decode:kb.decodeToken,renew:Jy.bind(kb.renewToken,null,t),getUserInfo:Jy.bind(kb.getUserInfo,null,t),verify:Jy.bind(kb.verifyToken,null,t)};t.token.getWithRedirect._setLocation=function(e){window.location=e};t.token.parseFromUrl._getHistory=function(){return window.history};t.token.parseFromUrl._getLocation=function(){return window.location};t.token.parseFromUrl._getDocument=function(){return window.document};t.fingerprint._getUserAgent=function(){return navigator.userAgent};var i=/windows phone|iemobile|wpdesktop/i;t.features.isFingerprintSupported=function(){var e=t.fingerprint._getUserAgent();return e&&!i.test(e)};t.tokenManager=new Gb(t,e.tokenManager)}var Xb=$b.prototype;Xb.features={};Xb.features.isPopupPostMessageSupported=function(){var e=document.documentMode&&document.documentMode<10;if(window.postMessage&&!e){return true}return false};Xb.features.isTokenVerifySupported=function(){return typeof crypto!=="undefined"&&crypto.subtle&&typeof Uint8Array!=="undefined"};Xb.features.isPKCESupported=function(){return Xb.features.isTokenVerifySupported()};Xb.signIn=function(e){var t=this;e=Jy.clone(e||{});function r(r){delete e.sendFingerprint;return bm.postToTransaction(t,"/api/v1/authn",e,r)}if(!e.sendFingerprint){return r()}return t.fingerprint().then((function(e){return r({headers:{"X-Device-Fingerprint":e}})}))};Xb.signOut=function(){return this.session.close()};xm.addSharedPrototypes(Xb);Xb.webfinger=function(e){var t="/.well-known/webfinger"+Jy.toQueryParams(e);var r={headers:{Accept:"application/jrd+json"}};return nm.get(this,t,r)};Xb.fingerprint=function(e){e=e||{};var t=this;if(!t.features.isFingerprintSupported()){return $y.reject(new qy("Fingerprinting is not supported on this device"))}var r=$y.defer();var n=document.createElement("iframe");n.style.display="none";function i(e){if(!e||!e.data||e.origin!==t.options.url){return}try{var n=JSON.parse(e.data)}catch(e){return r.reject(new qy("Unable to parse iframe response"))}if(!n){return}if(n.type==="FingerprintAvailable"){return r.resolve(n.fingerprint)}if(n.type==="FingerprintServiceReady"){e.source.postMessage(JSON.stringify({type:"GetFingerprint"}),e.origin)}}Bm.addListener(window,"message",i);n.src=t.options.url+"/auth/services/devicefingerprint";document.body.appendChild(n);var s=setTimeout((function(){r.reject(new qy("Fingerprinting timed out"))}),e.timeout||15e3);return r.promise.fin((function(){clearTimeout(s);Bm.removeListener(window,"message",i);if(document.body.contains(n)){n.parentElement.removeChild(n)}}))};var Zb=xm.buildOktaAuth($b);var ew=Zb(Yy,My);var tw=function(){function e(e){var t=this;this.crdsAuthConfig=e;this.providerServiceKVP={};this.authenticationStatus$=new Mf(null);this.logService=new By(e.logging);var r=new ew(this.crdsAuthConfig.oktaConfig);var n=new Gl(r,this.logService);n.subscribeToTokenExpiration((function(){t.authenticate().pipe(Vl()).subscribe()}));n.subscribeToTokenRenewed((function(){t.logService.Info("Token Renewed")}));n.subscribeToTokenError((function(){t.authenticationStatus$.next(null)}));var i=this.getVisibilityChange();document.addEventListener(i,(function(){if(document.visibilityState==="visible"){t.authenticate().pipe(Vl()).subscribe()}}));this.providerServiceKVP[Cl.Okta]=n;this.providerServiceKVP[Cl.Mp]=new jy(e.mpConfig.accessTokenCookie,e.mpConfig.refreshTokenCookie,e.mpConfig.issuer)}e.prototype.getVisibilityChange=function(){var e;if(typeof document.hidden!=="undefined"){e="visibilitychange"}else if(typeof document.mozHidden!=="undefined"){e="mozvisibilitychange"}else if(typeof document.msHidden!=="undefined"){e="msvisibilitychange"}else if(typeof document.webkitHidden!=="undefined"){e="webkitvisibilitychange"}return e};e.prototype.authenticated=function(){var e=this;if(this.authenticationStatus$.value){return this.authenticationStatus$.asObservable()}else{return this.authenticate().pipe(Vl(),zl((function(t){e.authenticationStatus$.next(t)})),Ul((function(t){return e.authenticationStatus$.asObservable()})))}};e.prototype.authenticate=function(){var e=this;return this.AuthenticateByProvider(0).pipe(Vl(),zl((function(t){e.authenticationStatus$.next(t)})),tl((function(e){if(!!e)Ty.setNetlifyJWT();return e})))};e.prototype.AuthenticateByProvider=function(e){var t=this;if(e>=Object.keys(this.providerServiceKVP).length)return Yf(null);return this.providerServiceKVP[this.crdsAuthConfig.providerPreference[e]].authenticated().pipe(Vl(),Ul((function(r){if(r!=null){return Yf(r)}else{return t.AuthenticateByProvider(++e)}})))};e.prototype.signOut=function(){return this.SignOutByProvider(0)};e.prototype.SignOutByProvider=function(e){var t=this;if(e>=Object.keys(this.providerServiceKVP).length)return Yf(false);var r=this.crdsAuthConfig.providerPreference[e];return this.providerServiceKVP[r].signOut().pipe(Vl(),Ul((function(r){if(r){Ty.deleteCookie("nf_jwt");t.authenticationStatus$.next(null);return Yf(r)}else{return t.SignOutByProvider(++e)}})))};return e}();var rw=function(){function e(t){if(t===void 0){t={}}this.authenticated=false;this.subdomainMap={prod:"www"};this.config=t;var r={clientId:t.okta_client_id,issuer:t.okta_issuer,tokenManager:{storage:"cookie"}};var n={accessTokenCookie:t.mp_access_token_cookie,refreshTokenCookie:t.mp_refresh_token_cookie,issuer:e.getMPIssuerEndpoint(this.config.env)};var i={oktaConfig:r,mpConfig:n,logging:t.logging||false,providerPreference:[Cl.Okta,Cl.Mp]};this.authService=new tw(i)}e.prototype.listen=function(e){var t=this;this.authService.authenticated().subscribe((function(r){if(!r)return t.authenticated=false;t.authenticated=true;t.token=r;t.isMp=r.provider==Cl.Mp;t.isOkta=r.provider==Cl.Okta;t.updateCurrentUser();e(t)}))};e.prototype.signOut=function(e){var t=this;this.authService.signOut().subscribe((function(r){if(r){t.authenticated=false;t.updateCurrentUser();e(t)}else{console.log("log out failed")}}))};e.prototype.updateCurrentUser=function(){if(!this.authenticated)return this.currentUser=null;return this.currentUser={id:this.getUserId(),name:this.getUser(),avatarUrl:this.getUserImageUrl()}};e.prototype.getUserId=function(){if(!this.authenticated)return null;if(this.isOkta)return this.token.id_token.claims.mpContactId;if(this.isMp)return a.getCookie("userId")};e.prototype.getUser=function(){if(!this.authenticated)return null;if(this.isOkta)return this.token.id_token.claims.name;if(this.isMp)return a.getCookie("username")};e.prototype.getUserImageUrl=function(){if(!this.authenticated)return null;var e=this.getUserId();if(!e)return null;var t=a.getSubdomain(this.config.env);return"https://"+t+".crossroads.net/proxy/gateway/api/image/profile/"+e};e.getMPIssuerEndpoint=function(e){var t=e=="int"||e=="demo"?e:"";return"https://gateway"+t+".crossroads.net/gateway/api/login"};return e}();var nw=e("global_nav",function(){function e(e){t(this,e);this.giveNavIsShowing=false;this.mainNavIsShowing=false;this.profileNavIsShowing=false;this.authenticated=false;this.auth={}}e.prototype.initAuth=function(){if(!this.config||this.auth.config)return;this.auth=new rw(Object.assign(this.config,{env:this.env}));this.auth.listen(this.authChangeCallback.bind(this))};e.prototype.componentDidLoad=function(){this.offset=this.element.getBoundingClientRect().top+window.scrollY};e.prototype.authChangeCallback=function(){this.authenticated=this.auth.authenticated;if(!this.authenticated){this.redirectToRoot()}};e.prototype.handleSignOut=function(){this.auth.signOut(this.authChangeCallback.bind(this))};e.prototype.redirectToRoot=function(){window.location.replace(this.rootURL())};e.prototype.handleProfileClick=function(e){if(!this.auth.authenticated)return e.stopPropagation();return this.navClickHandler(e,"profile-nav")};e.prototype.menuClasses=function(){var e=["menu-container"];if(this.mainNavIsShowing)e.push("nav-is-showing");return e.join(" ")};e.prototype.profileClasses=function(){var e=["profile-container"];if(this.profileNavIsShowing&&this.authenticated)e.push("nav-is-showing");return e.join(" ")};e.prototype.giveClasses=function(){var e=["give-container"];if(this.giveNavIsShowing)e.push("nav-is-showing");return e.join(" ")};e.prototype.rootURL=function(){return"https://"+a.getSubdomain(this.env)+".crossroads.net"};e.prototype.render=function(){var e=this;this.initAuth();var t='<svg width="308" height="81" viewBox="0 0 308 81" xmlns="http://www.w3.org/2000/svg"><path id="crossroads-church-logo" d="M211.9 52.2h3.3v10.5h.1c1.1-2.4 3.9-3.4 6.3-3.4 5.2 0 6.8 3 6.8 7.3v13H225V66.2c0-2.4-1.5-4-4-4-4 0-5.9 2.6-5.9 6.2v11.2h-3.3V52.2h.1zm-7.2 14c-.5-2.5-2.2-4-4.9-4-4.7 0-6.2 3.7-6.2 7.8 0 3.6 1.7 7.3 5.8 7.3 3.1 0 5-1.8 5.4-4.8h3.3c-.7 4.8-3.8 7.7-8.7 7.7-6.1 0-9.3-4.2-9.3-10.1 0-5.9 3.1-10.6 9.4-10.6 4.5 0 8.1 2.1 8.6 6.8h-3.4v-.1zm49.5-6.4h3.1V64h.1c1.6-3.2 3.8-4.8 7.3-4.6v3.5c-5.3 0-7.2 3-7.2 8v8.8h-3.3V59.8zm-4.8 19.8h-3.1v-3.1h-.1c-1.4 2.5-3.6 3.6-6.4 3.6-5.2 0-6.8-3-6.8-7.3v-13h3.3v13.4c0 2.4 1.5 4 4 4 4 0 5.9-2.6 5.9-6.2V59.8h3.3v19.8h-.1zm38.2-27.4h3.3v10.5h.1c1.1-2.4 3.9-3.4 6.3-3.4 5.2 0 6.8 3 6.8 7.3v13h-3.3V66.2c0-2.4-1.5-4-4-4-4 0-5.9 2.6-5.9 6.2v11.2h-3.3V52.2zm-7.2 14c-.5-2.5-2.2-4-4.9-4-4.7 0-6.2 3.7-6.2 7.8 0 3.6 1.7 7.3 5.8 7.3 3.1 0 5-1.8 5.4-4.8h3.3c-.7 4.8-3.8 7.7-8.7 7.7-6.1 0-9.3-4.2-9.3-10.1 0-5.9 3.1-10.6 9.4-10.6 4.5 0 8.1 2.1 8.6 6.8h-3.4v-.1zm7.6-45.7c0-1.6 1.4-2.2 3.6-2.2 1 0 1.9.2 2.5.8.7.5 1.1 1.3 1.2 2.3h11.4c-.7-8.4-8.8-10-15.7-10-6 0-13.6 2-14.8 8.6V.5h-12.6v15c-2.7-3.1-5.4-4.1-9.4-4.1-6.5 0-11.7 5-13 13 0-7.5-1-13-15.9-13-12.5 0-17.3 3.9-17.3 10.6h12.1c.3-2.7 2.7-3.1 4.4-3.1 1.3 0 4.1.3 4.1 2.6 0 4.7-14.5 1.5-20.2 7.4v-1.2c0-9.8-6.9-16.4-18-16.4-6.5 0-11.7 2.3-14.8 6.5v-6.3c-.5-.1-1.1-.2-1.6-.2-4.9 0-8 2.4-9.7 7.3l-.1-6.4h-11.4v17.6c-3.9-7.3-19.1-5.6-19.1-9.4 0-1.6 1.4-2.2 3.6-2.2 1 0 1.9.2 2.5.8.7.5 1.1 1.3 1.2 2.3h11.4c-.7-8.4-8.8-10-15.7-10-6.6 0-14.9 2.4-14.9 10.4 0 12.3 19.4 8.2 19.4 13.3 0 2.2-2.1 2.8-4 2.8-1.2 0-2.3-.3-3.1-1-.8-.7-1.3-1.6-1.3-2.9H123v-.3c0-11.8-20-8.9-20-13.3 0-1.6 1.4-2.2 3.6-2.2 1 0 1.9.2 2.5.8.7.5 1.1 1.3 1.2 2.3h11.4c-.7-8.4-8.8-10-15.7-10-6.6 0-15 2.4-15 10.4v.3c-2.2-6.6-8.3-10.7-17.1-10.7-6.5 0-11.7 2.3-14.8 6.5v-6.3c-.5-.1-1.1-.2-1.6-.2-4.9 0-8 2.4-9.7 7.3l-.1-6.4H36.3v19.4H23.8c-.4 2.5-1.6 4.7-4.9 4.7-3.7 0-5.5-3.1-5.5-7.9 0-3.7.8-8.6 5.5-8.6 1.4 0 2.5.4 3.2 1.3.8.8 1.3 1.9 1.3 3.3h12.7c-.9-9.4-8.9-13-17.3-13-10.4 0-18 6.2-18 17 0 10.7 7.8 16.4 18 16.4 8.4 0 15.8-3.3 17.4-12v11.1h12.5V33c0-6.8 2.6-9.2 7.7-9.2-.3 1.5-.5 3-.5 4.7 0 10.8 7.8 16.3 18 16.3 7.4 0 13.6-2.9 16.4-9 1.5 7.1 8.9 9 15.6 9 8.7 0 14-2.5 16-6.6 2.5 5.1 8.9 6.6 14.8 6.6 8.9 0 14.1-2.6 16.1-6.8v5.9h12.6V33c0-6.8 2.6-9.2 7.7-9.2-.3 1.5-.5 3-.5 4.7 0 10.8 7.8 16.3 18 16.3 6.9 0 12.8-2.5 15.8-7.8.9 5.4 5.7 7.8 11.1 7.8 4.7 0 8.3-1 11.9-4.3l.6 3.4h13v-.6c-1.6-1.3-1.7-2.2-1.7-4v-6.5c1.3 7 6 12.1 14 12.1 4 0 6.7-1.3 9.7-5.1V44h11.3v-5.6c2.6 5 8.9 6.5 14.7 6.5 11.6 0 17-4.5 17-11 0-11.9-20-9-20-13.4zM74 36.4c-3.2 0-5.4-2.6-5.4-8.6 0-3.5 1.3-8 5.6-8 3.3-.2 5.3 3.3 5.3 8-.1 6-2.1 8.6-5.5 8.6zm32.5 1.6c-1.2 0-2.3-.3-3.1-1-.8-.7-1.3-1.6-1.3-2.9h-11c.6-1.8.9-3.9.9-6.3 0-.8-.1-1.5-.1-2.2 3.6 7.7 18.6 5.1 18.6 9.6-.1 2.1-2.1 2.8-4 2.8zm84.1-1.6c-3.2 0-5.4-2.6-5.4-8.6 0-3.5 1.3-8 5.5-8 3.3-.2 5.3 3.3 5.3 8 0 6-2 8.6-5.4 8.6zm32.6 1.3c-2.5 0-4-1.1-4-2.7 0-4.1 5.4-3.1 9.5-5.1.3 4.4-1.1 7.8-5.5 7.8zm35.2-1.9c-4.1 0-4.9-3.9-4.9-7.2 0-3.5 1.1-7.5 5.3-7.5 4.2 0 5.4 3.8 5.4 7.3-.1 3.7-1.4 7.4-5.8 7.4zm33.1 2.2c-1.2 0-2.3-.3-3.1-1-.9-.7-1.3-1.6-1.3-2.9h-10.8V23.8c1.9 9.9 19.2 6.6 19.2 11.4 0 2.1-2.1 2.8-4 2.8z" fill-rule="nonzero" fill=""/></svg>';var n='<svg id="menu-thin" width="256" height="256" viewBox="0 0 256 256"><g><path d="M242.852679,47.6875 L14.1473214,47.6875 C12.4091038,47.6875 11,46.5915304 11,45.2395833 L11,35.4479167 C11,34.0959696 12.4091038,33 14.1473214,33 L242.852679,33 C244.590896,33 246,34.0959696 246,35.4479167 L246,45.2395833 C246,46.5915304 244.590896,47.6875 242.852679,47.6875 Z M242.852679,135.8125 L14.1473214,135.8125 C12.4091038,135.8125 11,134.71653 11,133.364583 L11,123.572917 C11,122.22097 12.4091038,121.125 14.1473214,121.125 L242.852679,121.125 C244.590896,121.125 246,122.22097 246,123.572917 L246,133.364583 C246,134.71653 244.590896,135.8125 242.852679,135.8125 Z M242.852679,223.9375 L14.1473214,223.9375 C12.4091038,223.9375 11,222.84153 11,221.489583 L11,211.697917 C11,210.34597 12.4091038,209.25 14.1473214,209.25 L242.852679,209.25 C244.590896,209.25 246,210.34597 246,211.697917 L246,221.489583 C246,222.84153 244.590896,223.9375 242.852679,223.9375 Z"/></g></svg>';var i='<svg id="search-thin" width="256" height="256" viewBox="0 0 256 256"><g><path d="M244.375275,231.976661 L184.91724,172.518627 C183.857136,171.458523 182.474391,170.905425 180.999463,170.905425 L176.252038,170.905425 C192.061423,153.805478 201.740638,130.990186 201.740638,105.870319 C201.740638,52.911186 158.829452,10 105.870319,10 C52.911186,10 10,52.911186 10,105.870319 C10,158.829452 52.911186,201.740638 105.870319,201.740638 C130.990186,201.740638 153.805478,192.061423 170.905425,176.29813 L170.905425,180.999463 C170.905425,182.474391 171.504614,183.857136 172.518627,184.91724 L231.976661,244.375275 C234.142962,246.541575 237.645916,246.541575 239.812216,244.375275 L244.375275,239.812216 C246.541575,237.645916 246.541575,234.142962 244.375275,231.976661 Z M105.870319,186.991358 C61.0232899,186.991358 24.7492798,150.717348 24.7492798,105.870319 C24.7492798,61.0232899 61.0232899,24.7492798 105.870319,24.7492798 C150.717348,24.7492798 186.991358,61.0232899 186.991358,105.870319 C186.991358,150.717348 150.717348,186.991358 105.870319,186.991358 Z"/></g></svg>';var s='<svg id="account-thin" width="256" height="256" viewBox="0 0 256 256"><g><path d="M128,10 C62.8145161,10 10,62.8145161 10,128 C10,193.185484 62.8145161,246 128,246 C193.185484,246 246,193.185484 246,128 C246,62.8145161 193.185484,10 128,10 Z M188.903226,210.6 C171.821774,223.208871 150.791129,230.774194 128,230.774194 C105.208871,230.774194 84.1782258,223.208871 67.0967742,210.6 L67.0967742,204.129032 C67.0967742,187.333065 80.7524194,173.677419 97.5483871,173.677419 C102.829839,173.677419 110.633065,179.101613 128,179.101613 C145.414516,179.101613 153.122581,173.677419 158.451613,173.677419 C175.247581,173.677419 188.903226,187.333065 188.903226,204.129032 L188.903226,210.6 Z M203.462903,197.515323 C200.227419,175.437903 181.433065,158.451613 158.451613,158.451613 C148.697581,158.451613 143.987097,163.875806 128,163.875806 C112.012903,163.875806 107.35,158.451613 97.5483871,158.451613 C74.5669355,158.451613 55.7725806,175.437903 52.5370968,197.515323 C35.6459677,179.196774 25.2258065,154.835484 25.2258065,128 C25.2258065,71.3314516 71.3314516,25.2258065 128,25.2258065 C184.668548,25.2258065 230.774194,71.3314516 230.774194,128 C230.774194,154.835484 220.354032,179.196774 203.462903,197.515323 Z M128,63.2903226 C104.875806,63.2903226 86.1290323,82.0370968 86.1290323,105.16129 C86.1290323,128.285484 104.875806,147.032258 128,147.032258 C151.124194,147.032258 169.870968,128.285484 169.870968,105.16129 C169.870968,82.0370968 151.124194,63.2903226 128,63.2903226 Z M128,131.806452 C113.297581,131.806452 101.354839,119.86371 101.354839,105.16129 C101.354839,90.458871 113.297581,78.516129 128,78.516129 C142.702419,78.516129 154.645161,90.458871 154.645161,105.16129 C154.645161,119.86371 142.702419,131.806452 128,131.806452 Z"/></g></svg>';var a='<svg viewBox="0 0 244.36 244.36"><defs><mask id="a" x="-6" y="-6" width="256" height="256" maskUnits="userSpaceOnUse"><g transform="translate(-6 -6)"><rect width="256" height="256" style="fill:#fff"/></g></mask></defs><g style="mask:url(#a)"><path d="M113.39,109.09A27.82,27.82,0,0,1,100,100.74a25.23,25.23,0,0,1-6.2-14.08,24.08,24.08,0,0,1,6.44-19.09,24.39,24.39,0,0,1,18.85-8.12h1.44V48a4.09,4.09,0,0,1,3.81-3.82H132A4.11,4.11,0,0,1,135.82,48V59.45h.48a33.71,33.71,0,0,1,20.52,6.69,5.46,5.46,0,0,1,1.67,3.1,3.56,3.56,0,0,1-1.19,3.1l-5.25,5.25a4.29,4.29,0,0,1-2.39,1.19,2.6,2.6,0,0,1-2.39-.71,17.88,17.88,0,0,0-10.5-3.34H119.11A9.72,9.72,0,0,0,112,77.59,8.94,8.94,0,0,0,109.09,84,10.29,10.29,0,0,0,111,90.24a9.5,9.5,0,0,0,5.25,3.58l28.16,8.11a24.66,24.66,0,0,1,15.27,12.41,23.29,23.29,0,0,1,1.43,20,22.1,22.1,0,0,1-9.3,12.17,27.73,27.73,0,0,1-15.51,4.53h-.48v11.46a4.11,4.11,0,0,1-3.82,3.81h-7.64a4.09,4.09,0,0,1-3.81-3.81V151.09h-.48a32.24,32.24,0,0,1-20.52-7.16,3.64,3.64,0,0,1-1.68-2.62,3.58,3.58,0,0,1,1.2-3.11l5.25-5.25a4.29,4.29,0,0,1,2.38-1.19,2.58,2.58,0,0,1,2.39.72,18.71,18.71,0,0,0,11,3.34h17.18a9.72,9.72,0,0,0,7.16-2.87,8.87,8.87,0,0,0,2.86-6.44,10.2,10.2,0,0,0-1.91-6.2,9.45,9.45,0,0,0-5.25-3.58Zm121.7,34.36a15.49,15.49,0,0,1,15.27,15.28v76.36a15.47,15.47,0,0,1-15.27,15.27H21.27a14.71,14.71,0,0,1-10.74-4.53A14.68,14.68,0,0,1,6,235.09V158.73A14.68,14.68,0,0,1,10.53,148a14.72,14.72,0,0,1,10.74-4.54H36.55a97.2,97.2,0,0,1-7.64-38.18A96.4,96.4,0,0,1,42.27,55.4a100.25,100.25,0,0,1,36-36A96.4,96.4,0,0,1,128.18,6a96.43,96.43,0,0,1,49.88,13.36,100.3,100.3,0,0,1,36,36,96.4,96.4,0,0,1,13.36,49.87,97.37,97.37,0,0,1-7.63,38.18ZM128.18,21.27a83.6,83.6,0,0,0-84,84,83.57,83.57,0,0,0,84,84,83.57,83.57,0,0,0,84-84,83.6,83.6,0,0,0-84-84ZM235.09,235.09V158.73H211.7a99.76,99.76,0,0,1-30.54,30.54h19.57a4.11,4.11,0,0,1,3.81,3.82v7.64a4.09,4.09,0,0,1-3.81,3.81H55.64a4.09,4.09,0,0,1-3.82-3.81v-7.64a4.11,4.11,0,0,1,3.82-3.82h20a97.93,97.93,0,0,1-31-30.54H21.27v76.36Z" transform="translate(-6 -6)"/></g></svg>';var o='<svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="times" class="svg-inline--fa fa-times fa-w-10" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="" d="M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"></path></svg>';var u=this.mainNavIsShowing||this.profileNavIsShowing||this.giveNavIsShowing;return r(Do,null,r("header",{ref:function(t){return e.element=t},class:u?"nav-is-showing":"",style:{top:(this.profileNavIsShowing||this.giveNavIsShowing?this.offset:0)+"px"}},r("div",null,r("div",{class:"global-nav-items"},r("div",{class:"global-actions"},r("a",{href:"","data-automation-id":"sh-menu","data-label":"menu",class:this.menuClasses(),onClick:function(t){return e.navClickHandler(t,"main-nav")}},r("div",{class:"menu",innerHTML:n}),r("div",{class:"close",innerHTML:o})),r("a",{href:this.rootURL()+"/search",class:"search-container","data-automation-id":"sh-search","data-label":"search"},r("div",{class:"search",innerHTML:i}))),r("a",{href:this.rootURL(),"data-automation-id":"sh-logo",class:"logo",innerHTML:t}),r("div",{class:"user-actions"},r("a",{href:"","data-automation-id":"sh-give","data-label":"give",class:this.giveClasses(),onClick:function(t){return e.navClickHandler(t,"give-nav")}},r("div",{class:"donate",innerHTML:a}),r("div",{class:"close",innerHTML:o})),r("a",{href:this.rootURL()+"/signin",class:this.profileClasses(),onClick:function(t){return e.handleProfileClick(t)},"data-automation-id":"sh-profile","data-label":this.authenticated?"my account":"sign in"},this.authenticated?r("div",{class:"account"},r("div",{class:"account-authenticated",style:{backgroundImage:"url('"+this.auth.currentUser.avatarUrl+"')"}})):r("div",{class:"account",innerHTML:s}),r("div",{class:"close",innerHTML:o})))),r("profile-nav",{profileNavIsShowing:this.profileNavIsShowing&&this.authenticated,handleSignOut:this.handleSignOut.bind(this),currentUser:this.auth.currentUser,data:this.profileData}),r("give-nav",{data:this.giveData,giveNavIsShowing:this.giveNavIsShowing}))))};Object.defineProperty(e,"style",{get:function(){return"header{background-color:#0095d9;position:relative;top:0;width:100%;z-index:2}\@supports ((position:-webkit-sticky) or (position:sticky)){header{position:-webkit-sticky;position:sticky}}header.nav-is-showing{position:fixed}\@supports ((position:-webkit-sticky) or (position:sticky)){header.nav-is-showing{position:-webkit-sticky;position:sticky}}header>div{margin:0 auto;max-width:1170px;padding:0 15px;position:relative}.global-nav-items{-ms-flex-pack:justify;justify-content:space-between}.global-actions,.global-nav-items,.user-actions{display:-ms-flexbox;display:flex}.global-actions a:first-of-type,.user-actions a:first-of-type{margin-right:18px}.logo{padding:7px}.logo svg{fill:#fff;height:29px;width:111px}.account,.donate,.menu,.search{height:22px;padding:12px 0;width:22px}.account svg,.donate svg,.menu svg,.search svg{height:22px;width:22px}.account .account-authenticated{background-color:#fff;background-position:50%;background-repeat:no-repeat;background-size:22px;border:1.5px solid #fff;border-radius:50%;-webkit-box-sizing:border-box;box-sizing:border-box;height:22px;width:22px}\@media (hover){.account .account-authenticated:hover{-webkit-filter:brightness(90%);filter:brightness(90%)}}.close{padding:9px 0}.close,.close svg{height:26px;width:26px}.account,.close,.donate,.menu,.search{display:block}.give-container,.menu-container,.profile-container,.search-container{color:#fff;display:-ms-flexbox;display:flex;text-decoration:none}\@media (min-width:768px){.give-container:after,.menu-container:after,.profile-container:after,.search-container:after{-ms-flex-item-align:center;align-self:center;bottom:2px;content:attr(data-label);display:inline-block;font-size:13px;margin-left:7px;position:relative;text-transform:capitalize}}.give-container svg,.menu-container svg,.profile-container svg,.search-container svg{fill:#fff}\@media (hover){.give-container:hover,.menu-container:hover,.profile-container:hover,.search-container:hover{color:#ccc}.give-container:hover svg,.menu-container:hover svg,.profile-container:hover svg,.search-container:hover svg{fill:#ccc}}.menu-container .close{display:none;margin-right:-4px}\@media (min-width:992px){.menu-container.nav-is-showing .menu{display:none}.menu-container.nav-is-showing .close{display:block}}.profile-container .close{display:none;margin-right:-4px}\@media (min-width:992px){.profile-container.nav-is-showing .account{display:none}.profile-container.nav-is-showing .close{display:block}}.give-container .close{display:none;margin-right:-4px}\@media (min-width:992px){.give-container.nav-is-showing .donate{display:none}.give-container.nav-is-showing .close{display:block}}"},enumerable:true,configurable:true});return e}());var iw=function e(t){return typeof t!=="undefined"&&t!==null&&(typeof t==="object"||typeof t==="function")};var sw=function e(t){if(!iw(t)){t={}}var r=arguments.length;for(var n=1;n<r;n++){var i=arguments[n];if(iw(i)){aw(t,i)}}return t};function aw(e,t){for(var r in t){if(ow(t,r)){e[r]=t[r]}}}function ow(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var uw={};var cw;var fw={default:{"&quot;":'"',"&#34;":'"',"&apos;":"'","&#39;":"'","&amp;":"&","&#38;":"&","&gt;":">","&#62;":">","&lt;":"<","&#60;":"<"},extras:{"&cent;":"¢","&#162;":"¢","&copy;":"©","&#169;":"©","&euro;":"€","&#8364;":"€","&pound;":"£","&#163;":"£","&reg;":"®","&#174;":"®","&yen;":"¥","&#165;":"¥"}};Object.defineProperty(fw,"all",{get:function(){return cw||(cw=sw({},fw.default,fw.extras))}});function lw(e,t){if(!dw(e))return"";var r=fw[t||"default"];var n=hw(t,r);return e.replace(n,(function(e){return r[e]}))}function hw(e,t){if(uw[e]){return uw[e]}var r=Object.keys(t).join("|");var n=new RegExp("(?=("+r+"))\\1","g");uw[e]=n;return n}function dw(e){return e&&typeof e==="string"}lw.chars=fw.default;lw.extras=fw.extras;Object.defineProperty(lw,"all",{get:function(){return fw.all}});var pw=lw;var vw=e("nav_ctas",function(){function e(e){t(this,e)}e.prototype.decodedData=function(){return pw(this.data||"")};e.prototype.render=function(){if(this.active)return null;return r("div",{class:"ctas",innerHTML:this.decodedData()})};Object.defineProperty(e,"style",{get:function(){return".ctas{font-family:acumin-pro,helvetica,arial,sans-serif!important;font-weight:300!important;padding:40px 20px 0}\@media (max-width:992px){.ctas{width:calc(100vw - 40px)}}\@media (min-width:992px){.ctas{padding:70px 0 0}}.ctas h3{font-size:11px;margin-top:0;opacity:.5;text-transform:uppercase}.cta{background-color:rgba(21,21,21,.8);display:-ms-flexbox;display:flex;margin-bottom:10px;text-decoration:none}.cta-image{height:75px}.cta-image img{height:75px;width:100px}.cta-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;padding:0 20px;width:100%}.cta-content h4{color:#fff;font-size:14px;font-weight:600;text-transform:uppercase}.cta-content h4,.cta-content p{margin:0}.cta-content p{color:#979797;font-size:12px;font-weight:300;line-height:18px}.cta:hover-content h4{color:#ccc}.more-updates{color:#0095d9;font-size:12px;text-decoration:none;text-transform:capitalize}"},enumerable:true,configurable:true});return e}());var gw=e("nav_section",function(){function e(e){t(this,e);this.isActive=false;this.debug=true}e.prototype.componentWillLoad=function(){this.console=new i(this.debug);this.config=new s};e.prototype.render=function(){var e=this;return r("li",null,r("a",{onClick:function(t){return e.onActivate(t,e.slug)},"data-automation-id":"sh-section-"+this.slug,class:this.isActive?"is-active":""},r("slot",null)))};Object.defineProperty(e,"style",{get:function(){return"nav-section a{cursor:pointer;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;margin-bottom:10px;padding:15px 20px}\@media (min-width:992px){nav-section a{height:96px;-ms-flex-pack:center;justify-content:center;margin-bottom:0;position:relative;width:86%}}nav-section a:after{border-color:transparent transparent transparent #0095d9;border-style:solid;border-width:63px 0 63px 50px;content:\"\";height:0;left:0;position:absolute;top:0;visibility:hidden;width:0}nav-section a:before{background-color:#0095d9;content:\"\";display:inline-block;height:100%;left:0;position:absolute}\@media (min-width:992px){nav-section a:hover:before{width:4px}}\@media (min-width:992px){nav-section a.is-active:after{left:100%;-webkit-transition:left .4s ease;transition:left .4s ease;visibility:visible}nav-section a.is-active:before{-webkit-transition:width .4s ease;transition:width .4s ease;width:100%}}nav-section a h2{font-family:acumin-pro-extra-condensed,sans-serif!important;font-weight:500!important;display:-ms-flexbox;display:flex;font-size:48px;-ms-flex-pack:justify;justify-content:space-between;line-height:.6;margin:0;position:relative;text-transform:uppercase}\@media (max-width:992px){nav-section a h2:after{background-image:url(/assets/images/chevron-right-light.svg);background-size:12px 22px;content:\"\";display:-ms-flexbox;display:flex;height:22px;position:absolute;right:0;top:20%;width:12px}}nav-section a p{font-size:14px;margin:12px 0 0;opacity:.7}"},enumerable:true,configurable:true});return e}());var yw=e("nav_section_subnav",function(){function e(e){t(this,e)}e.prototype.render=function(){var e=this;var t='<svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="chevron-left" class="svg-inline--fa fa-chevron-left fa-w-8" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><path fill="currentColor" d="M238.475 475.535l7.071-7.07c4.686-4.686 4.686-12.284 0-16.971L50.053 256 245.546 60.506c4.686-4.686 4.686-12.284 0-16.971l-7.071-7.07c-4.686-4.686-12.284-4.686-16.97 0L10.454 247.515c-4.686 4.686-4.686 12.284 0 16.971l211.051 211.05c4.686 4.686 12.284 4.686 16.97-.001z"></path></svg>';return r("div",{class:this.active==this.slug?"":" hidden"},r("a",{href:"","data-automation-id":"sh-section-subnav-"+this.slug,class:"back",onClick:function(t){return e.onBack(t)}},r("span",{innerHTML:t}),"Back"),r("slot",null))};Object.defineProperty(e,"style",{get:function(){return".hidden{display:none}nav-section-subnav{font-family:acumin-pro,helvetica,arial,sans-serif!important;font-weight:300!important;color:#fff}nav-section-subnav div{padding:30px 20px 0}nav-section-subnav a{color:#fff;display:inline-block;font-size:19px;margin-bottom:10px;padding-left:10px;text-decoration:none;text-transform:capitalize}nav-section-subnav a.all{margin-bottom:30px}nav-section-subnav a:hover{color:#ccc}nav-section-subnav h2{font-family:acumin-pro-extra-condensed,sans-serif!important;font-weight:500!important;font-size:48px;line-height:48px;margin:0;text-transform:uppercase;margin-bottom:10px}nav-section-subnav h4{font-size:11px;margin:0 0 10px;opacity:.5;text-transform:uppercase}nav-section-subnav ul{padding-left:0;margin-top:0}nav-section-subnav ul li{list-style:none}nav-section-subnav ul li.top-level a{padding-left:0}\@media (min-width:992px){nav-section-subnav h2{display:none}}nav-section-subnav .back{font-size:14px;padding-left:0;position:relative}\@media (min-width:992px){nav-section-subnav .back{display:none}}nav-section-subnav .back span{display:inline-block;height:13px;margin-right:8px;padding:12px 0;position:relative;top:1px;width:7px}nav-section-subnav .back svg{fill:#fff;height:13px;width:7px}"},enumerable:true,configurable:true});return e}());var mw=e("profile_nav",function(){function e(e){t(this,e);this.profileNavIsShowing=true;this.simpleNav=new lf(this.handleSignOut)}e.prototype.navTitle=function(){var e=this.data;var t=e&&e.title||"";return unescape(t.replace("%user_name%",this.currentUser.name||""))};e.prototype.backgroundImageURL=function(){return this.currentUser&&this.currentUser.avatarUrl||""};e.prototype.render=function(){if(!this.profileNavIsShowing||!this.simpleNav.isObjectTruthyNonArray(this.data))return null;return r("div",{class:"profile-nav"},r("div",{class:"profile-nav-img",style:{backgroundImage:"linear-gradient(0deg, rgba(2,0,36,1) 0%, rgba(0,0,0,1) 30%, rgba(0,0,0,0) 100%),url('"+this.backgroundImageURL()+"')"}}),r("div",null,this.simpleNav.renderSections(this.data,this.navTitle())))};Object.defineProperty(e,"style",{get:function(){return".give-nav,.profile-nav{font-family:acumin-pro,helvetica,arial,sans-serif!important;font-weight:300!important;color:#fff;background-color:#000;background-repeat:no-repeat;background-size:100%;height:100vh;left:0;margin-left:-15px;max-height:100vh;overflow-y:scroll;position:-webkit-sticky;position:sticky;top:48px;width:100vw;z-index:2}.give-nav div,.profile-nav div{height:auto;padding:30px 20px 90px}.give-nav a,.profile-nav a{color:#fff;display:inline-block;font-size:19px;margin-bottom:10px;padding-left:10px;text-decoration:none;text-transform:capitalize}.give-nav a.all,.profile-nav a.all{margin-bottom:30px}.give-nav a:hover,.profile-nav a:hover{color:#ccc}.give-nav h2,.profile-nav h2{font-family:acumin-pro-extra-condensed,sans-serif!important;font-weight:500!important;font-size:48px;line-height:48px;margin:0;text-transform:uppercase;margin-bottom:20px}.give-nav h4,.profile-nav h4{font-size:11px;margin:0 0 10px;opacity:.5;text-transform:uppercase}.give-nav ul,.profile-nav ul{padding-left:0;margin-top:0}.give-nav ul li,.profile-nav ul li{list-style:none}.give-nav ul li.top-level a,.profile-nav ul li.top-level a{padding-left:0}\@media (min-width:992px){.give-nav,.profile-nav{height:auto;left:auto;margin-right:-15px;position:absolute;right:15px;width:375px}}\@media (min-width:1170px){.give-nav,.profile-nav{margin-right:0}}.give-nav::-webkit-scrollbar,.profile-nav::-webkit-scrollbar{width:0}.give-nav ul:last-of-type,.profile-nav ul:last-of-type{padding-bottom:30px}.give-nav{background-image:url(https://crds-media.imgix.net/6sNxa1MWhMOfjhAB47yTCa/0acf1af4109f23abc0199b1e34abeb7a/give-bg_2x.jpg?auto=format%2Ccompress)}.profile-nav:after{background-color:rgba(0,0,0,.75);content:\" \";z-index:-1}.profile-nav .profile-nav-img,.profile-nav:after{height:100%;left:0;position:absolute;top:0;width:100%}.profile-nav .profile-nav-img{background-position:top;background-repeat:no-repeat;background-size:contain;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-filter:blur(2px);filter:blur(2px);z-index:-2}\@media (min-width:992px){.profile-nav div{padding-bottom:0}}"},enumerable:true,configurable:true});return e}())}}}));