import{r as i,h as s}from"./p-70ddbb99.js";const t=class{constructor(s){i(this,s),this.imgDidLoad=!1,this.sizes=["card","thumbnail","overlay","media-object"]}validateSize(){if(-1==this.sizes.indexOf(this.size))throw new Error(`${this.size} is an invalid value for crds-image size`)}connectedCallback(){this.validateSize()}addObserver(){const i=new Image;i.classList.add("crds-img"),i.onload=()=>{this.imgDidLoad=!0,this.cachedImg=i,i.classList.add("loaded")},new IntersectionObserver(s=>{s.forEach(s=>{s.isIntersecting&&s.intersectionRatio>=0&&(i.src=this.src)})},{threshold:0}).observe(this.imgWrapper)}componentDidLoad(){this.addObserver()}render(){const{imgDidLoad:i,cachedImg:t,size:e}=this;return s("div",{class:`crds-img-container ${e}`,"data-instrinsic":"4:3",innerHTML:i?t.outerHTML:"",ref:i=>this.imgWrapper=i})}static get style(){return".crds-img-container{display:block;background-color:#e7e7e7;position:relative;overflow:hidden}.crds-img-container.card{height:202px}.crds-img-container.thumbnail{height:65px}.crds-img-container .crds-img{height:100%}.crds-img-container .crds-img.loaded{-webkit-animation-name:fade-in;animation-name:fade-in;-webkit-animation-duration:1s;animation-duration:1s}\@-webkit-keyframes fade-in{0%{visibility:hidden;-webkit-filter:blur(20px);filter:blur(20px)}50%{-webkit-filter:blur(20px);filter:blur(20px)}to{-webkit-filter:blur(.1px);filter:blur(.1px)}}\@keyframes fade-in{0%{visibility:hidden;-webkit-filter:blur(20px);filter:blur(20px)}50%{-webkit-filter:blur(20px);filter:blur(20px)}to{-webkit-filter:blur(.1px);filter:blur(.1px)}}"}};export{t as crds_image};